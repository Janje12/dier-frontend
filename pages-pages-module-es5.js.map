{"version":3,"sources":["webpack:///src/app/pages/dashboard/dashboard.module.ts","webpack:///src/app/pages/dashboard/widgets/special-waste-stats/special-waste-stats.component.ts","webpack:///src/app/pages/dashboard/widgets/special-waste-stats/special-waste-stats.component.html","webpack:///src/app/pages/trash/trash.module.ts","webpack:///src/app/pages/trash/specialWasteCatalogTable.ts","webpack:///src/app/pages/pages.component.ts","webpack:///src/app/pages/dashboard/widgets/trash-stats/trash-stats.settings.ts","webpack:///src/app/pages/trash/trashCatalogTable.ts","webpack:///src/app/pages/dashboard/widgets/transport-vehicles/transport-vehicles.settings.ts","webpack:///src/app/pages/dashboard/widgets/most-used-special-waste/most-used-special-waste.component.ts","webpack:///src/app/pages/dashboard/widgets/most-used-special-waste/most-used-special-waste.component.html","webpack:///src/app/pages/trash/trash.component.ts","webpack:///src/app/pages/dashboard/widgets/transport-permits/transport-permits.component.ts","webpack:///src/app/pages/dashboard/widgets/transport-permits/transport-permits.component.html","webpack:///src/app/pages/dashboard/widgets/special-waste-stats/special-waste-stats.settings.ts","webpack:///src/app/pages/dashboard/widgets/unfinished-operations/unfinished-operations.component.ts","webpack:///src/app/pages/dashboard/widgets/unfinished-operations/unfinished-operations.component.html","webpack:///src/app/pages/dashboard/dashboard.component.ts","webpack:///src/app/pages/dashboard/dashboard.component.html","webpack:///src/app/pages/trash/add-trash/add-trash.component.ts","webpack:///src/app/pages/trash/add-trash/add-trash.component.html","webpack:///src/app/pages/dashboard/widgets/widget/widget.component.ts","webpack:///src/app/pages/dashboard/widgets/widget/widget.component.html","webpack:///src/app/pages/trash/add-special-waste/add-special-waste.component.ts","webpack:///src/app/pages/trash/add-special-waste/add-special-waste.component.html","webpack:///src/app/pages/pages.module.ts","webpack:///src/app/pages/dashboard/widgets/trash-stats/trash-stats.component.ts","webpack:///src/app/pages/dashboard/widgets/trash-stats/trash-stats.component.html","webpack:///src/app/pages/dashboard/widgets/transport-vehicles/transport-vehicles.component.ts","webpack:///src/app/pages/dashboard/widgets/transport-vehicles/transport-vehicles.component.html","webpack:///src/app/pages/dashboard/widgets/widget-group-header/widget-group-header.component.ts","webpack:///src/app/pages/dashboard/widgets/widget-group-header/widget-group-header.component.html","webpack:///src/app/pages/dashboard/widgets/transport-permits/transport-permits.settings.ts","webpack:///src/app/pages/dashboard/widgets/most-used-trash/most-used-trash.component.ts","webpack:///src/app/pages/dashboard/widgets/most-used-trash/most-used-trash.component.html","webpack:///src/app/pages/trash/trash-routing.module.ts","webpack:///src/app/pages/trash/input-trash-amount/input-trash-amount.component.html","webpack:///src/app/pages/trash/input-trash-amount/input-trash-amount.component.ts","webpack:///src/app/pages/dashboard/widgets/unfinished-operations/unfinished-operations.settings.ts","webpack:///src/app/pages/pages-routing.module.ts","webpack:///src/app/pages/miscellaneous/not-found/not-found.component.ts","webpack:///src/app/pages/miscellaneous/not-found/not-found.component.html"],"names":["DashboardModule","SpecialWasteStatsComponent","transactionService","options","specialWasteList","specialWaste","daysInMonth","colorScheme","domain","d","Date","Object","assign","updateSize","size","getFullYear","getMonth","getDate","changes","getMostUsedSpecialWaste","subscribe","x","length","selectedSpecialWaste","updateGraph","getTransactions","_id","t","legendTitle","desc","data1","name","value","data2","data3","data","i","series","dayNumber","date","toString","substring","charAt","specialWasteType","trashAmount","push","view","chooseTransaction","TrashModule","SPECIAL_WASTE_CATALOG_SETTINGS","pager","perPage","hideSubHeader","actions","columnTitle","position","add","edit","custom","title","columns","unitOfMeasure","PagesComponent","roleService","authService","menu","getToken","subscriber","getOperationsMenu","TRASH_STATS_SETTINGS","legend","showLabels","animations","xAxis","yAxis","showYAxisLabel","showXAxisLabel","xAxisLabel","yAxisLabel","timeline","schemaType","TRASH_CATALOG_SETTINGS","indexNumber","VEHICLES_SETTINGS","type","valuePrepareFunction","cell","row","vehiclesType","result","licensePlate","licensePlateExpiration","MostUsedSpecialWasteComponent","toastrService","speicalWasteService","windowService","specialWastes","getOperations","undefined","o","operations","specialWasteOperations","updateSpecialWastes","getCompaniesSpecialWastes","getCompanyID","productionWastes","filter","operationTypes","includes","importWastes","exportWastes","operationType","selectedType","windowRef","open","addTrashTemplate","close","showToast","message","status","show","TrashComponent","TransportPermitsComponent","permitService","settings","transportPermits","updatePermits","getCompaniesPermits","permit","selectedPermit","viewTrash","trashList","updatePermit","addPermit","openPermitsTrashWindow","openAddPermitWindow","SPECIAL_WASTE_STATS_SETTINGS","UnfinishedOperationsComponent","storageService","trashService","transactionsService","transactions","updateTransactions","getCompaniesStorage","s","storage","getUnfinishedTransactions","transaction","selectedTransaction","selectedTrash","otpad","leftoverTrashTemplate","leftoverTrashCreated","selectedStorage","canPass","forEach","trashCreated","maxAmount","amount","updateTrash","storageUnit","companyName","wmdNo","finished","updateTransaction","openLeftoverTrashWindow","DashboardComponent","widgetService","widgetSettings","group","username","WIDGET_SIZES","getWidgetSettings","getUsername","w","initDefaultWidgetSettings","widget","widgetSize","pos","widgetGroup","currentPos","groupPosition","newPos","widgetList","widgetPosition","updateWidgetSettings","AddTrashComponent","catalogService","router","activatedRoute","catalog","storageAmmountUnit","storages","permits","trash","dSign","rSign","state","componentsNo","checkIssues","states","dSigns","rSigns","hList","yList","cList","params","operation","trashType","ngOnInit","getSafeTrash","k","load","getUnsafeTrash","p","updateCatalog","find","usedCatalog","trashes","usedCatalogIDs","Array","from","query","setFilter","field","search","filterFunction","replace","tmp","unsafeComponent","kgOfMatter","CAS","chemicalName","form","invalid","isNaN","createTrash","navigate","onSearch","chooseTrash","addTrash","WidgetComponent","updatePosition","showSettings","titleType","most_used_trash","trash_stats","transport_vehicles","transport_permits","collector_permits","unfinished_operations","most_used_special_waste","special_waste_stats","emit","AddSpecialWasteComponent","specialWasteService","otherOperations","mass","getSpecialWaste","specialWasteClasses","Set","className","production","createSpecialWaste","chooseSpecialWaste","addSpecialWaste","PagesModule","TrashStatsComponent","getMostUsedTrash","negativeOperation","positiveOperation","Math","abs","TransportVehiclesComponent","vehicleService","vehicles","updateVehicles","getCompaniesVehicles","v","addVehicleTemplate","openAddVehicleWindow","WidgetGroupHeaderComponent","PERMIT_SETTINGS","editable","code","dateExpiration","MostUsedTrashComponent","getStorage","trashAmmount","NaN","processTrashTemplate","documentNo","routes","path","component","children","TrashRoutingModule","forChild","InputTrashAmountComponent","storageAmountUnit","storageUnits","trashState","UNFINISHED_OPERATIONS_SETTINGS","user","firstName","lastName","loadChildren","then","m","ProfileModule","StorageModule","redirectTo","pathMatch","PagesRoutingModule","NotFoundComponent","menuService","navigateHome","goToHome"],"mappings":"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","file":"pages-pages-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport {\r\n  NbActionsModule,\r\n  NbButtonModule,\r\n  NbCardModule,\r\n  NbUserModule,\r\n  NbIconModule, NbSelectModule, NbSpinnerModule, NbAccordionModule, NbTabsetModule,\r\n} from '@nebular/theme';\r\nimport { BarChartModule, LineChartModule } from '@swimlane/ngx-charts';\r\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\r\nimport { ThemeModule } from '../../@theme/theme.module';\r\nimport { PopupWindowsModule } from '../popup-windows/popup-windows.module';\r\nimport { DashboardComponent } from './dashboard.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { WidgetComponent } from './widgets/widget/widget.component';\r\nimport { MostUsedTrashComponent } from './widgets/most-used-trash/most-used-trash.component';\r\nimport { TrashStatsComponent } from './widgets/trash-stats/trash-stats.component';\r\nimport { TransportPermitsComponent } from './widgets/transport-permits/transport-permits.component';\r\nimport { TransportVehiclesComponent } from './widgets/transport-vehicles/transport-vehicles.component';\r\nimport { UnfinishedOperationsComponent } from './widgets/unfinished-operations/unfinished-operations.component';\r\nimport { WidgetGroupHeaderComponent } from './widgets/widget-group-header/widget-group-header.component';\r\nimport { MostUsedSpecialWasteComponent } from './widgets/most-used-special-waste/most-used-special-waste.component';\r\nimport { SpecialWasteStatsComponent } from './widgets/special-waste-stats/special-waste-stats.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    FormsModule,\r\n    ThemeModule,\r\n    NbCardModule,\r\n    NbUserModule,\r\n    NbButtonModule,\r\n    NbActionsModule,\r\n    NbIconModule,\r\n    NbButtonModule,\r\n    PopupWindowsModule,\r\n    NbSelectModule,\r\n    NbSpinnerModule,\r\n    NbAccordionModule,\r\n    Ng2SmartTableModule,\r\n    NbTabsetModule,\r\n    LineChartModule,\r\n    BarChartModule,\r\n  ],\r\n  declarations: [\r\n    DashboardComponent,\r\n    WidgetComponent,\r\n    MostUsedTrashComponent,\r\n    TrashStatsComponent,\r\n    TransportPermitsComponent,\r\n    TransportVehiclesComponent,\r\n    UnfinishedOperationsComponent,\r\n    WidgetGroupHeaderComponent,\r\n    MostUsedSpecialWasteComponent,\r\n    SpecialWasteStatsComponent,\r\n  ],\r\n  providers: [],\r\n})\r\nexport class DashboardModule {\r\n}\r\n","import { Component, Input, OnChanges, OnInit, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { Transaction } from '../../../../@core/data/transaction';\r\nimport { TransactionsService } from '../../../../@core/service/transactions.service';\r\nimport { TRASH_STATS_SETTINGS } from '../trash-stats/trash-stats.settings';\r\nimport { SPECIAL_WASTE_STATS_SETTINGS } from './special-waste-stats.settings';\r\n\r\n@Component({\r\n  selector: 'widget-special-waste-stats',\r\n  templateUrl: './special-waste-stats.component.html',\r\n  styleUrls: ['./special-waste-stats.component.css'],\r\n})\r\nexport class SpecialWasteStatsComponent implements OnChanges {\r\n  @Input() size: string;\r\n\r\n  options = SPECIAL_WASTE_STATS_SETTINGS;\r\n  specialWasteList: Transaction[] = [];\r\n  selectedSpecialWaste: Transaction;\r\n  specialWaste: Transaction[] = [];\r\n  data: { name: string, series: { name: string, value: number }[] }[];\r\n  daysInMonth: number = 30;\r\n  colorScheme = {\r\n    domain: ['#FF0000', '#0000FF', '#00FF00'],\r\n  };\r\n\r\n  constructor(private transactionService: TransactionsService) {\r\n    const d = new Date();\r\n    this.options = Object.assign({}, SPECIAL_WASTE_STATS_SETTINGS);\r\n    this.updateSize(this.size);\r\n    this.daysInMonth = new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes['size']) {\r\n      this.updateSize(this.size);\r\n    }\r\n    this.transactionService.getMostUsedSpecialWaste().subscribe(x => {\r\n      this.specialWasteList = x;\r\n      if (x.length === 0) {\r\n        return;\r\n      }\r\n      this.selectedSpecialWaste = this.specialWasteList[0];\r\n      this.updateGraph(this.selectedSpecialWaste);\r\n    });\r\n  }\r\n\r\n  chooseTransaction(specialWaste: Transaction) {\r\n    this.updateGraph(specialWaste);\r\n  }\r\n\r\n  updateGraph(specialWaste: Transaction) {\r\n    this.transactionService.getTransactions(specialWaste.specialWaste._id,\r\n      'specialWaste').subscribe(t => {\r\n      this.specialWaste = t;\r\n      this.options.legendTitle = this.specialWaste[0].specialWaste.desc;\r\n      const data1 = {name: 'Proizveden', value: 0};\r\n      const data2 = {name: 'Uvezeno', value: 0};\r\n      const data3 = {name: 'Izvezeno', value: 0};\r\n      this.data = [];\r\n      for (let i = 0; i < this.daysInMonth; i++) {\r\n        this.data[i] = {name: (i + 1) + '', series: []};\r\n      }\r\n\r\n      for (let i = 0; i < this.specialWaste.length; i++) {\r\n        let dayNumber = '-';\r\n        if (this.specialWaste[i].date.toString().substring(8, 10).charAt(0) !== '0') {\r\n          dayNumber = this.specialWaste[i].date.toString().substring(8, 10);\r\n        } else {\r\n          dayNumber = this.specialWaste[i].date.toString().substring(9, 10);\r\n        }\r\n        if (this.specialWaste[i].specialWasteType === 'production') {\r\n          data1.value += this.specialWaste[i].trashAmount;\r\n          this.data[dayNumber].series.push({name: 'Proziveden', value: this.specialWaste[i].trashAmount})\r\n        } else if (this.specialWaste[i].specialWasteType === 'import') {\r\n          data2.value += this.specialWaste[i].trashAmount;\r\n          this.data[dayNumber].series.push({name: 'Uvezeno', value: this.specialWaste[i].trashAmount})\r\n        } else if (this.specialWaste[i].specialWasteType === 'export') {\r\n          data3.value += this.specialWaste[i].trashAmount;\r\n          this.data[dayNumber].series.push({name: 'Izvezeno', value: this.specialWaste[i].trashAmount})\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  updateSize(size: String) {\r\n    if (size === 'tiny')\r\n      this.options.view = [];\r\n    if (size === 'small')\r\n      this.options.view = [];\r\n    if (size === 'medium')\r\n      this.options.view = [500, 300];\r\n    if (size === 'large')\r\n      this.options.view = [700, 300];\r\n    if (size === 'giant')\r\n      this.options.view = [1100, 500];\r\n  }\r\n\r\n\r\n}\r\n","{{this.options.legendTitle}}\r\n<div class=\"row flex-fill\">\r\n  <ngx-charts-bar-vertical-stacked\r\n    [view]=\"options.view\"\r\n    [legend]=\"options.legend\"\r\n    [showXAxisLabel]=\"options.showXAxisLabel\"\r\n    [scheme]=\"colorScheme\"\r\n    [showYAxisLabel]=\"options.showYAxisLabel\"\r\n    [xAxis]=\"options.xAxis\"\r\n    [yAxis]=\"options.yAxis\"\r\n    [xAxisLabel]=\"options.xAxisLabel\"\r\n    [yAxisLabel]=\"options.yAxisLabel\"\r\n    [results]=\"data\"\r\n  ></ngx-charts-bar-vertical-stacked>\r\n</div>\r\n<div class=\"row mt-2\">\r\n  <div class=\"col-4\">\r\n    <nb-select [size]=\"size\" fullWidth [selected]=\"specialWasteList[0]\" (selectedChange)=\"chooseTransaction($event)\">\r\n      <nb-option *ngFor=\"let t of specialWasteList\" [value]=\"t\">\r\n        {{t.specialWaste.name}}\r\n      </nb-option>\r\n    </nb-select>\r\n  </div>\r\n  <div class=\"col-2\">\r\n    <nb-select disabled [size]=\"size\" fullWidth selected=\"Dani\">\r\n      <nb-option value=\"Dani\">Dani</nb-option>\r\n      <nb-option value=\"Meseci\">Meseci</nb-option>\r\n      <nb-option value=\"Godine\">Godine</nb-option>\r\n    </nb-select>\r\n  </div>\r\n</div>\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { PermitService } from '../../@core/service/permit.service';\r\nimport { SpecialWasteService } from '../../@core/service/specialWaste.service';\r\nimport { ThemeModule } from '../../@theme/theme.module';\r\nimport { TrashComponent } from './trash.component';\r\nimport { TrashRoutingModule } from './trash-routing.module';\r\nimport { AddTrashComponent } from './add-trash/add-trash.component';\r\nimport {\r\n  NbButtonModule, NbCardModule, NbCheckboxModule, NbDatepickerModule, NbInputModule,\r\n  NbSelectModule, NbToggleModule,\r\n} from '@nebular/theme';\r\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\r\nimport { CatalogService } from '../../@core/service/catalog.service';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TrashService } from '../../@core/service/trash.service';\r\nimport { AddSpecialWasteComponent } from './add-special-waste/add-special-waste.component';\r\nimport { InputTrashAmountComponent } from './input-trash-amount/input-trash-amount.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    ThemeModule,\r\n    TrashRoutingModule,\r\n    NbCardModule,\r\n    NbInputModule,\r\n    NbSelectModule,\r\n    NbCheckboxModule,\r\n    Ng2SmartTableModule,\r\n    NbButtonModule,\r\n    FormsModule,\r\n    NbDatepickerModule,\r\n    NbToggleModule,\r\n  ],\r\n  declarations: [\r\n    TrashComponent,\r\n    AddTrashComponent,\r\n    AddSpecialWasteComponent,\r\n    InputTrashAmountComponent,\r\n  ],\r\n  providers: [\r\n    CatalogService,\r\n    TrashService,\r\n    PermitService,\r\n    SpecialWasteService,\r\n  ],\r\n})\r\nexport class TrashModule {\r\n}\r\n","export const SPECIAL_WASTE_CATALOG_SETTINGS: any = {\r\n  pager: {\r\n    perPage: 5,\r\n  },\r\n  hideSubHeader: true,\r\n  actions: {\r\n    columnTitle: 'Odaberi',\r\n    position: 'right',\r\n    add: false,\r\n    delete: false,\r\n    edit: false,\r\n    custom: [\r\n      {\r\n        name: 'dodaj',\r\n        title: '<i class=\"fa fa-plus-square\"></i>',\r\n      },\r\n    ],\r\n  },\r\n  columns: {\r\n    name: {\r\n      title: 'Naziv',\r\n    },\r\n    desc: {\r\n      title: 'Opis',\r\n    },\r\n    unitOfMeasure: {\r\n      title: 'Jedinica mere',\r\n    },\r\n  },\r\n};\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { NbAuthService } from '@nebular/auth';\r\nimport { NbMenuItem } from '@nebular/theme';\r\nimport { Subscription } from 'rxjs';\r\nimport { RoleService } from '../@core/service/role.service';\r\n\r\n@Component({\r\n  selector: 'pages',\r\n  styleUrls: ['pages.component.scss'],\r\n  template: `\r\n    <ngx-one-column-layout>\r\n      <nb-menu [items]=\"menu\"></nb-menu>\r\n      <router-outlet></router-outlet>\r\n    </ngx-one-column-layout>\r\n  `,\r\n})\r\nexport class PagesComponent implements OnDestroy, OnInit {\r\n\r\n  menu: NbMenuItem[];\r\n  subscriber: Subscription;\r\n\r\n  constructor(private roleService: RoleService, private authService: NbAuthService) {\r\n    this.menu = [];\r\n    this.authService.getToken().subscribe(t => {\r\n      this.subscriber = this.roleService.getOperationsMenu().subscribe(x => {\r\n        this.menu = x;\r\n      });\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.menu = [];\r\n  }\r\n\r\n}\r\n","export const TRASH_STATS_SETTINGS = {\r\n  view: [],\r\n  legend: true,\r\n  legendTitle: '',\r\n  showLabels: true,\r\n  animations: true,\r\n  xAxis: true,\r\n  yAxis: true,\r\n  showYAxisLabel: true,\r\n  showXAxisLabel: true,\r\n  xAxisLabel: 'Dani',\r\n  yAxisLabel: 'KG',\r\n  timeline: true,\r\n  schemaType: 'linear',\r\n};\r\n\r\n","export const TRASH_CATALOG_SETTINGS: any = {\r\n  pager: {\r\n    perPage: 5,\r\n  },\r\n  hideSubHeader: true,\r\n  actions: {\r\n    columnTitle: 'Odaberi',\r\n    position: 'right',\r\n    add: false,\r\n    delete: false,\r\n    edit: false,\r\n    custom: [\r\n      {\r\n        name: 'dodaj',\r\n        title: '<i class=\"fa fa-plus-square\"></i>',\r\n      },\r\n    ],\r\n  },\r\n  columns: {\r\n    indexNumber: {\r\n      title: 'Indeksni Broj',\r\n    },\r\n    name: {\r\n      title: 'Naziv',\r\n    },\r\n  },\r\n};\r\n","export const VEHICLES_SETTINGS: any = {\r\n  hideSubHeader: true,\r\n  actions: {\r\n    position: 'right',\r\n    add: false,\r\n    edit: false,\r\n    delete: false,\r\n  },\r\n  columns: {\r\n    type: {\r\n      title: 'Vrsta vozila',\r\n      type: 'html',\r\n      valuePrepareFunction: (cell: any, row: any) => {\r\n        const vehiclesType = row.type;\r\n        let result = vehiclesType;\r\n        if (vehiclesType === 'kamion')\r\n          result = '<i class=\"fa fa-2x fa-truck\"></i>';\r\n        if (vehiclesType === 'kombi')\r\n          result = '<i class=\"fa fa-2x fa-shuttle-van\"></i>';\r\n        if (vehiclesType === 'automobil')\r\n          result = '<i class=\"fa fa-2x fa-car-side\"></i>';\r\n        return result;\r\n      },\r\n    },\r\n    licensePlate: {\r\n      title: 'Registarski broj',\r\n    },\r\n    licensePlateExpiration: {\r\n      title: 'Registracija vai do',\r\n    },\r\n  },\r\n};\r\n","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { NbComponentStatus, NbToastrService, NbWindowRef, NbWindowService } from '@nebular/theme';\r\nimport { SpecialWaste } from '../../../../@core/data/specialWaste';\r\nimport { RoleService } from '../../../../@core/service/role.service';\r\nimport { SpecialWasteService } from '../../../../@core/service/specialWaste.service';\r\n\r\n@Component({\r\n  selector: 'widget-most-used-special-waste',\r\n  templateUrl: './most-used-special-waste.component.html',\r\n  styleUrls: ['./most-used-special-waste.component.css'],\r\n})\r\nexport class MostUsedSpecialWasteComponent implements OnInit {\r\n  @ViewChild('addSpecialWaste', {read: TemplateRef}) addTrashTemplate: TemplateRef<HTMLElement>;\r\n  private windowRef: NbWindowRef;\r\n\r\n  operations: { exists: boolean, production: boolean, import: boolean, export: boolean };\r\n  specialWastes: SpecialWaste[] = [];\r\n  selectedSpecialWaste: SpecialWaste;\r\n  selectedType: string;\r\n  productionWastes: SpecialWaste[];\r\n  importWastes: SpecialWaste[];\r\n  exportWastes: SpecialWaste[];\r\n\r\n  constructor(private toastrService: NbToastrService, private speicalWasteService: SpecialWasteService,\r\n              private roleService: RoleService, private windowService: NbWindowService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.roleService.getOperations(undefined, false, true).subscribe(o => {\r\n      this.operations = o.specialWasteOperations;\r\n    });\r\n    this.updateSpecialWastes();\r\n  }\r\n\r\n  private updateSpecialWastes() {\r\n    this.specialWastes = [];\r\n    this.speicalWasteService.getCompaniesSpecialWastes(this.roleService.getCompanyID())\r\n      .subscribe(x => {\r\n        this.specialWastes = x;\r\n        this.productionWastes = this.specialWastes.filter(t => t.operationTypes.includes('Proizvodnja'));\r\n        this.importWastes = this.specialWastes.filter(t => t.operationTypes.includes('Uvoz'));\r\n        this.exportWastes = this.specialWastes.filter(t => t.operationTypes.includes('Izvoz'));\r\n      });\r\n  }\r\n\r\n  private openAddSpecialWasteWindow(specialWaste: SpecialWaste, operationType: string) {\r\n    this.selectedSpecialWaste = specialWaste;\r\n    this.selectedType = operationType;\r\n    this.windowRef = this.windowService.open(this.addTrashTemplate,\r\n      {title: 'Dodaj kolicinu: ' + this.selectedSpecialWaste.name});\r\n  }\r\n\r\n  public closeSpecialWasteWindow() {\r\n    this.windowRef.close();\r\n    this.showToast('Uspeh',\r\n      'Uspeno ste dodali ' + this.selectedSpecialWaste.name,\r\n      'success');\r\n  }\r\n\r\n  private showToast(title: String, message: String, status: NbComponentStatus) {\r\n    this.toastrService.show(\r\n      message,\r\n      title,\r\n      {status});\r\n  }\r\n}\r\n","<nb-tabset>\r\n  <nb-tab tabTitle=\"Proizvodnja\" [disabled]=\"!operations.production\">\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">Naziv</div>\r\n      <div class=\"col-4\">Opis</div>\r\n      <div class=\"col-4\">Dodaj proizvod</div>\r\n    </div>\r\n    <hr style=\"height:2px;border-width:0;color:gray;background-color:gray\">\r\n    <div class=\"row\" *ngFor=\"let p of productionWastes;\">\r\n      <div class=\"col-4\">{{p.name}}</div>\r\n      <div class=\"col-4\">{{p.desc}}</div>\r\n      <div class=\"col-4 text-center\"><i (click)=\"openAddSpecialWasteWindow(p, 'production')\" class=\"fa fa-plus add-button\"></i></div>\r\n    </div>\r\n  </nb-tab>\r\n  <nb-tab tabTitle=\"Uvoz\" [disabled]=\"!operations.import\">\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">Naziv</div>\r\n      <div class=\"col-4\">Opis</div>\r\n      <div class=\"col-4\">Uvezi proizvod</div>\r\n    </div>\r\n    <hr style=\"height:2px;border-width:0;color:gray;background-color:gray\">\r\n    <div class=\"row\" *ngFor=\"let i of importWastes;\">\r\n      <div class=\"col-4\">{{i.name}}</div>\r\n      <div class=\"col-4\">{{i.desc}}</div>\r\n      <div class=\"col-4 text-center\"><i (click)=\"openAddSpecialWasteWindow(i, 'import')\" class=\"fa fa-plus add-button\"></i></div>\r\n    </div>\r\n  </nb-tab>\r\n  <nb-tab tabTitle=\"Izvoz\" [disabled]=\"!operations.export\">\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">Naziv</div>\r\n      <div class=\"col-4\">Opis</div>\r\n      <div class=\"col-4\">Izvezi proizvod</div>\r\n    </div>\r\n    <hr style=\"height:2px;border-width:0;color:gray;background-color:gray\">\r\n    <div class=\"row\" *ngFor=\"let e of exportWastes;\">\r\n      <div class=\"col-4\">{{e.name}}</div>\r\n      <div class=\"col-4\">{{e.desc}}</div>\r\n      <div class=\"col-4 text-center\"><i (click)=\"openAddSpecialWasteWindow(e, 'export')\" class=\"fa fa-plus add-button\"></i></div>\r\n    </div>\r\n  </nb-tab>\r\n</nb-tabset>\r\n\r\n<ng-template #addSpecialWaste>\r\n  <add-special-waste-popup [selectedSpecialWaste]=\"selectedSpecialWaste\"\r\n                           [type]=\"selectedType\" (exitEmitter)=\"closeSpecialWasteWindow()\"></add-special-waste-popup>\r\n</ng-template>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'pages-trash',\r\n  template: `\r\n    <router-outlet></router-outlet>\r\n  `,\r\n})\r\nexport class TrashComponent {\r\n}\r\n","import { Component, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { NbComponentStatus, NbToastrService, NbWindowRef, NbWindowService } from '@nebular/theme';\r\nimport { Permit } from '../../../../@core/data/permit';\r\nimport { Catalog } from '../../../../@core/data/catalog';\r\nimport { PermitService } from '../../../../@core/service/permit.service';\r\nimport { RoleService } from '../../../../@core/service/role.service';\r\nimport { PERMIT_SETTINGS } from './transport-permits.settings';\r\n\r\n@Component({\r\n  selector: 'widget-transport-permits',\r\n  templateUrl: './transport-permits.component.html',\r\n  styleUrls: ['./transport-permits.component.css'],\r\n})\r\nexport class TransportPermitsComponent implements OnInit {\r\n  @ViewChild('viewTrash', {read: TemplateRef}) viewTrash: TemplateRef<HTMLElement>;\r\n  @ViewChild('addPermit', {read: TemplateRef}) addPermit: TemplateRef<HTMLElement>;\r\n  @Input() type: string;\r\n\r\n  private windowRef: NbWindowRef;\r\n  selectedPermit: Permit;\r\n  settings: {} = PERMIT_SETTINGS;\r\n  transportPermits: Permit[] = [];\r\n\r\n  constructor(private permitService: PermitService, private windowService: NbWindowService,\r\n              private toastrService: NbToastrService, private roleService: RoleService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.updatePermits();\r\n  }\r\n\r\n  updatePermits() {\r\n    this.permitService.getCompaniesPermits(this.roleService.getCompanyID(), this.type).subscribe(x => {\r\n      this.transportPermits = x;\r\n    });\r\n    if (this.windowRef !== undefined)\r\n      this.windowRef.close();\r\n  }\r\n\r\n  openPermitsTrashWindow({data: permit}): void {\r\n    this.selectedPermit = permit;\r\n    this.windowRef = this.windowService.open(this.viewTrash, {title: 'Lista otpada'});\r\n  }\r\n\r\n  updatePermitsTrashMethod(trashList: Catalog[]): void {\r\n    this.selectedPermit.trashList = trashList;\r\n    this.permitService.updatePermit(this.selectedPermit, this.selectedPermit._id).subscribe(x => {\r\n    });\r\n    this.showToast('Uspeh', 'Uspeno ste izmenili informacije!', 'success');\r\n    this.windowRef.close();\r\n  }\r\n\r\n  openAddPermitWindow(): void {\r\n    this.windowRef = this.windowService.open(this.addPermit, {title: 'Dodaj dozvolu za transport'});\r\n  }\r\n\r\n  private showToast(title: String, message: String, status: NbComponentStatus) {\r\n    this.toastrService.show(\r\n      message,\r\n      title,\r\n      {status});\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-12\">\r\n    <ng2-smart-table [settings]=\"settings\" [source]=\"transportPermits\"\r\n                     (custom)=\"openPermitsTrashWindow($event)\"></ng2-smart-table>\r\n  </div>\r\n</div>\r\n<div class=\"row mt-3 d-flex justify-content-end mr-5 pr-1 align-items-end\">\r\n  <div class=\"col-3\">\r\n      <button (click)=\"openAddPermitWindow()\" nbButton type=\"button\">Dodaj dozvolu</button>\r\n  </div>\r\n</div>\r\n<ng-template #viewTrash>\r\n  <view-permits-trash-popup [selectedPermit]=\"selectedPermit\"\r\n                            (callUpdatePermitsTrash)=\"updatePermitsTrashMethod($event)\"></view-permits-trash-popup>\r\n</ng-template>\r\n<ng-template #addPermit>\r\n  <add-permit-popup [type]=\"'transport'\" (updatePermits)=\"updatePermits()\" ></add-permit-popup>\r\n</ng-template>\r\n","export const SPECIAL_WASTE_STATS_SETTINGS = {\r\n  view: [],\r\n  legend: true,\r\n  legendTitle: '',\r\n  showLabels: true,\r\n  animations: true,\r\n  xAxis: true,\r\n  yAxis: true,\r\n  showYAxisLabel: true,\r\n  showXAxisLabel: true,\r\n  xAxisLabel: 'Dani',\r\n  yAxisLabel: 'KG',\r\n  timeline: true,\r\n  schemaType: 'linear',\r\n};\r\n\r\n","import { Component, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { NbWindowRef, NbWindowService } from '@nebular/theme';\r\nimport { Trash } from '../../../../@core/data/trash';\r\nimport { Storage } from '../../../../@core/data/storage';\r\nimport { Transaction } from '../../../../@core/data/transaction';\r\nimport { RoleService } from '../../../../@core/service/role.service';\r\nimport { ToastrService } from '../../../../@core/service/toastr.service';\r\nimport { TrashService } from '../../../../@core/service/trash.service';\r\nimport { StorageService } from '../../../../@core/service/storage.service';\r\nimport { TransactionsService } from '../../../../@core/service/transactions.service';\r\nimport { UNFINISHED_OPERATIONS_SETTINGS } from './unfinished-operations.settings';\r\n\r\n@Component({\r\n  selector: 'widget-unfinished-operations',\r\n  templateUrl: './unfinished-operations.component.html',\r\n  styleUrls: ['./unfinished-operations.component.css'],\r\n})\r\nexport class UnfinishedOperationsComponent implements OnInit {\r\n  @ViewChild('leftoverTrashTemplate', {read: TemplateRef}) leftoverTrashTemplate: TemplateRef<HTMLElement>;\r\n  private windowRef: NbWindowRef;\r\n  @Input() type: string;\r\n  settings: {} = UNFINISHED_OPERATIONS_SETTINGS;\r\n  transactions: Transaction[] = [];\r\n  selectedTrash: Trash;\r\n  selectedTransaction: Transaction;\r\n  storage: Storage[];\r\n\r\n  constructor(private windowService: NbWindowService, private storageService: StorageService,\r\n              private trashService: TrashService, private transactionsService: TransactionsService,\r\n              private toastrService: ToastrService, private roleService: RoleService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.updateTransactions();\r\n    this.storageService.getCompaniesStorage(this.roleService.getCompanyID(), 'production').subscribe(s => {\r\n      this.storage = s;\r\n    });\r\n  }\r\n\r\n  private updateTransactions() {\r\n    this.transactionsService.getUnfinishedTransactions(this.type, this.roleService.getCompanyID()).subscribe(t => {\r\n      this.transactions = t;\r\n    });\r\n  }\r\n\r\n  openLeftoverTrashWindow({data: transaction}) {\r\n    this.selectedTransaction = transaction;\r\n    this.selectedTrash = transaction.otpad;\r\n    this.windowRef = this.windowService.open(this.leftoverTrashTemplate,\r\n      {title: 'Zavri proizvodnju preostalog otpada'});\r\n  }\r\n\r\n  leftoverTrashMethod({\r\n                        selectedTransaction: selectedTransaction, leftoverTrashCreated: leftoverTrashCreated,\r\n                        selectedStorage: selectedStorage,\r\n                      }) {\r\n    let canPass = true;\r\n    leftoverTrashCreated.forEach(trashCreated => {\r\n      if (selectedStorage.maxAmount < selectedStorage.amount + trashCreated.amount || !canPass) {\r\n        canPass = false;\r\n        return;\r\n      }\r\n      this.trashService.updateTrash(trashCreated, selectedStorage._id,\r\n        trashCreated.indexNumber, 'indexNumber', undefined, undefined, true).subscribe(x => {\r\n        this.updateTransactions();\r\n      });\r\n    });\r\n    if (!canPass) {\r\n      this.toastrService.showToast('Greka', 'Ne moete da dodate vie otpada nego to vae skladite moe da prihvati: '\r\n        + selectedStorage.maxAmount + ' ' + selectedStorage.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    selectedTransaction.companyName = null;\r\n    selectedTransaction.wmdNo = null;\r\n    selectedTransaction.finished = true;\r\n    this.transactionsService.updateTransaction(selectedTransaction, selectedTransaction._id).subscribe(x => {\r\n    });\r\n    this.toastrService.showToast('Uspeh', 'Uspesno ste dodali otpade!', 'success');\r\n    this.windowRef.close();\r\n  }\r\n\r\n}\r\n","<ng2-smart-table [settings]=\"settings\" [source]=\"transactions\" (custom)=\"openLeftoverTrashWindow($event)\"></ng2-smart-table>\r\n\r\n<ng-template #leftoverTrashTemplate>\r\n  <leftover-trash-popup [selectedTransaction]=\"selectedTransaction\"\r\n                        [storageProduction]=\"storage\"\r\n                        (callLeftoverTrash)=\"leftoverTrashMethod($event)\"></leftover-trash-popup>\r\n</ng-template>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Widget, WidgetSettings } from '../../@core/data/widgetSettings';\r\nimport { RoleService } from '../../@core/service/role.service';\r\nimport { WidgetService } from '../../@core/service/widget.service';\r\nimport { WIDGET_SIZES } from '../../@core/utils/widget-utils';\r\n\r\n@Component({\r\n  selector: 'ngx-dashboard',\r\n  styleUrls: ['./dashboard.component.scss'],\r\n  templateUrl: './dashboard.component.html',\r\n})\r\nexport class DashboardComponent implements OnInit, OnDestroy {\r\n\r\n  operations: { production: boolean, transport: boolean, treatment: boolean, disposal: boolean, cache: boolean };\r\n  widgetSettings: WidgetSettings = {group: [], username: ''};\r\n  WIDGET_SIZES = WIDGET_SIZES;\r\n\r\n  constructor(private roleService: RoleService, private widgetService: WidgetService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.roleService.getOperations().subscribe(o => {\r\n      this.operations = o;\r\n    });\r\n    this.widgetService.getWidgetSettings(this.roleService.getUsername(), this.operations).subscribe(w => {\r\n        this.widgetSettings = w;\r\n        if (this.widgetSettings === null)\r\n          this.widgetService.initDefaultWidgetSettings(this.operations,\r\n            this.roleService.getUsername()).subscribe(t => {\r\n            this.widgetSettings = t;\r\n          });\r\n      },\r\n    );\r\n  }\r\n\r\n  updateSizeMethod(size: string, widget: Widget) {\r\n    widget.widgetSize = size;\r\n  }\r\n\r\n  updateGroupPositionMethod(pos: number, widgetGroup) {\r\n    const currentPos = widgetGroup.groupPosition;\r\n    const newPos = currentPos + pos;\r\n    if (newPos < 0 || newPos > this.widgetSettings.group.length - 1)\r\n      return;\r\n    widgetGroup.groupPosition = newPos;\r\n    this.widgetSettings.group[newPos].groupPosition = currentPos;\r\n    [this.widgetSettings.group[currentPos], this.widgetSettings.group[newPos]] =\r\n      [this.widgetSettings.group[newPos], this.widgetSettings.group[currentPos]];\r\n  }\r\n\r\n  updateWidgetPositionMethod(pos: number, widget, widgetList) {\r\n    const currentPos = widget.widgetPosition;\r\n    const newPos = currentPos + pos;\r\n    if (newPos < 0 || newPos > widgetList.length - 1)\r\n      return;\r\n    widget.widgetPosition = newPos;\r\n    widgetList[newPos].widgetPosition = currentPos;\r\n    [widgetList[currentPos], widgetList[newPos]] =\r\n      [widgetList[newPos], widgetList[currentPos]];\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.widgetService.updateWidgetSettings(this.widgetSettings,\r\n      this.widgetSettings.username, 'username').subscribe(x => {\r\n    });\r\n  }\r\n}\r\n","<nb-accordion multi>\r\n  <nb-accordion-item collapsed=\"false\" *ngFor=\"let w of widgetSettings.group\">\r\n    <nb-accordion-item-header>\r\n      <div class=\"flex-fill\" style=\"height:4.4rem;\">\r\n        <widget-group-header (updatePosition)=\"updateGroupPositionMethod($event, w)\" [title]=\"w.groupTitle\"\r\n                             [status]=\"w.groupColor\"></widget-group-header>\r\n      </div>\r\n    </nb-accordion-item-header>\r\n    <nb-accordion-item-body>\r\n      <div class=\"row\">\r\n        <div *ngFor=\"let wi of w.widgetList\" [class]=\"WIDGET_SIZES[wi.widgetSize]\">\r\n          <widget (updateSize)=\"updateSizeMethod($event, wi)\"\r\n                  (updatePosition)=\"updateWidgetPositionMethod($event, wi, w.widgetList)\"\r\n                  [size]=\"wi.widgetSize\" [name]=\"wi.widgetTitle\" [type]=\"w.groupType\"></widget>\r\n        </div>\r\n      </div>\r\n    </nb-accordion-item-body>\r\n  </nb-accordion-item>\r\n</nb-accordion>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NbAuthService } from '@nebular/auth';\r\nimport { Permit } from '../../../@core/data/permit';\r\nimport { Storage } from '../../../@core/data/storage';\r\nimport { Trash } from '../../../@core/data/trash';\r\nimport { UnsafeTrash } from '../../../@core/data/unsafeTrash';\r\nimport { CatalogService } from '../../../@core/service/catalog.service';\r\nimport { LocalDataSource } from 'ng2-smart-table';\r\nimport { PermitService } from '../../../@core/service/permit.service';\r\nimport { RoleService } from '../../../@core/service/role.service';\r\nimport { ToastrService } from '../../../@core/service/toastr.service';\r\nimport { TrashService } from '../../../@core/service/trash.service';\r\nimport { StorageService } from '../../../@core/service/storage.service';\r\nimport { TRASH_CATALOG_SETTINGS } from '../trashCatalogTable';\r\nimport { TRASH_STATES, D_TAGS, R_TAGS, H_LIST, Y_LIST, C_LIST } from '../../../@core/utils/trash-utils';\r\n\r\n@Component({\r\n  selector: 'pages-add-trash',\r\n  styleUrls: ['./add-trash.component.scss'],\r\n  templateUrl: './add-trash.component.html',\r\n})\r\nexport class AddTrashComponent implements OnInit {\r\n\r\n  settings: any;\r\n  catalog: LocalDataSource = new LocalDataSource();\r\n  storageAmmountUnit: string = 'KG';\r\n  storages: Storage[] = [];\r\n  selectedStorage: Storage;\r\n  permits: Permit[] = [];\r\n  states: string[];\r\n  dSigns: string[]\r\n  rSigns: string[];\r\n  hList: string[];\r\n  yList: string[];\r\n  cList: string[];\r\n  trash: Trash = {\r\n    amount: null, desc: '', indexNumber: '', name: '', dSign: '', rSign: '', state: '',\r\n  };\r\n  componentsNo: number = 0;\r\n  trashType: string;\r\n  operation: string;\r\n  checkIssues: boolean = false;\r\n\r\n  constructor(private catalogService: CatalogService, private trashService: TrashService,\r\n              private router: Router, private authService: NbAuthService, private activatedRoute: ActivatedRoute,\r\n              private storageService: StorageService, private toastrService: ToastrService,\r\n              private roleService: RoleService, private permitService: PermitService) {\r\n    this.settings = Object.assign({}, TRASH_CATALOG_SETTINGS);\r\n    this.states = Object.assign([], TRASH_STATES);\r\n    this.dSigns = Object.assign([], D_TAGS);\r\n    this.rSigns = Object.assign([], R_TAGS);\r\n    this.hList = Object.assign([], H_LIST);\r\n    this.yList = Object.assign([], Y_LIST);\r\n    this.cList = Object.assign([], C_LIST);\r\n\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.storages = [];\r\n      this.selectedStorage = undefined;\r\n      this.operation = params.operation;\r\n      this.trashType = params.trashType;\r\n      this.ngOnInit();\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.storageService.getCompaniesStorage(this.roleService.getCompanyID(), this.operation).subscribe(x => {\r\n      this.storages = x;\r\n    });\r\n    if (this.operation !== 'production') {\r\n      this.updatePermits();\r\n    } else {\r\n      if (this.trashType === 'safe')\r\n        this.catalogService.getSafeTrash().subscribe(k => {\r\n          this.catalog.load(k);\r\n        });\r\n      else\r\n        this.catalogService.getUnsafeTrash().subscribe(k => {\r\n          this.catalog.load(k);\r\n        });\r\n    }\r\n    if (this.trashType === 'unsafe')\r\n      this.trash = this.trash as UnsafeTrash;\r\n  }\r\n\r\n  updatePermits() {\r\n    this.permitService.getCompaniesPermits(this.roleService.getCompanyID(), this.operation).subscribe(p => {\r\n      this.permits = p;\r\n      for (let i = 0; i < this.permits.length; i++) {\r\n        if (this.trashType === 'safe') {\r\n          this.permits[i].trashList = this.permits[i].trashList.filter(x => !x.indexNumber.includes('*'));\r\n        } else {\r\n          this.permits[i].trashList = this.permits[i].trashList.filter(x => x.indexNumber.includes('*'));\r\n        }\r\n      }\r\n      this.updateCatalog(this.permits[0]);\r\n    });\r\n  }\r\n\r\n  updateCatalog(permit: Permit): void {\r\n    if (permit === undefined) {\r\n      this.updatePermits();\r\n    }\r\n    this.selectedStorage = this.storages.find(x => x._id === permit.storage._id);\r\n    const usedCatalog = this.selectedStorage.trashes;\r\n    const usedCatalogIDs = Array.from(usedCatalog, x => x.indexNumber);\r\n    let catalog = permit.trashList;\r\n    catalog = catalog.filter(x => !usedCatalogIDs.includes(x.indexNumber));\r\n    this.catalog.load(catalog);\r\n  }\r\n\r\n  onSearch(query: string) {\r\n    if (query === '')\r\n      this.catalog.setFilter([]);\r\n    this.catalog.setFilter([\r\n      {\r\n        field: 'indexNumber',\r\n        search: query,\r\n        filter: function filterFunction(cell: any, search: string): boolean {\r\n          cell = cell.replace(/\\s+/g, '').includes(search.replace(/\\s+/g, ''));\r\n          return cell;\r\n        },\r\n      },\r\n      {\r\n        field: 'name',\r\n        search: query,\r\n      },\r\n    ], false);\r\n  }\r\n\r\n  updateCAS(): void {\r\n    const tmp = this.trash as UnsafeTrash;\r\n    tmp.unsafeComponent = new Array(this.componentsNo);\r\n    for (let i = 0; i < this.componentsNo; i++) {\r\n      tmp.unsafeComponent[i] = {\r\n        kgOfMatter: null,\r\n        CAS: '',\r\n        chemicalName: '',\r\n      };\r\n    }\r\n    this.trash = Object.assign({}, tmp);\r\n  }\r\n\r\n  /* doesnt recongize the events data from smart table :P*/\r\n  chooseTrash({data}) {\r\n    this.trash.indexNumber = data.indexNumber;\r\n    this.trash.name = data.name;\r\n    this.trash.desc = data.name;\r\n  }\r\n\r\n  today(): Date {\r\n    return new Date();\r\n  }\r\n\r\n  addTrash(form: NgForm): void {\r\n    if (form.invalid || isNaN(this.trash.amount)) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka', 'Ispravite sve greke da bi ste dodali otpad.', 'warning');\r\n      return;\r\n    }\r\n    if (this.storageAmmountUnit === 'T') {\r\n      this.trash.amount *= 1000;\r\n    }\r\n    delete this.trash._id;\r\n    if (this.selectedStorage.maxAmount < this.selectedStorage.amount + this.trash.amount) {\r\n      this.toastrService.showToast('Greka', 'Ne moete da dodate vie otpada nego to vae skladite moe da prihvati: '\r\n        + this.selectedStorage.maxAmount + ' ' + this.selectedStorage.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    this.trashService.createTrash(this.trash, this.selectedStorage._id).subscribe();\r\n    this.toastrService.showToast('Uspeh', 'Uspeno ste dodali otpad na skladite ' + this.selectedStorage.name, 'success');\r\n    this.router.navigate(['pages', 'storage']);\r\n  }\r\n\r\n}\r\n","<nb-card class=\"container-fluid\">\r\n  <nb-card-header>\r\n    <h5>Dodajte novi inventar otpada</h5>\r\n  </nb-card-header>\r\n  <nb-card-body>\r\n    <div class=\"row mb-2\">\r\n      <div class=\"col-12\">\r\n        <label class=\"col-8 pl-0\">Pretrai po indeksnom broju ili nazivu:</label>\r\n      </div>\r\n      <div class=\"col-4\" *ngIf=\"operation !== 'production'\">\r\n        <nb-select fullWidth [(ngModel)]=\"selectedStorage\">\r\n          <nb-option *ngFor=\"let d of permits\" (selectionChange)=\"updateCatalog(d)\"\r\n                     [value]=\"d?.storage\">{{d?.storage.name}}</nb-option>\r\n        </nb-select>\r\n      </div>\r\n      <div class=\"col-12\">\r\n        <input nbInput #search fullWidth type=\"text\" placeholder=\"Pretrai\"\r\n               (input)=\"search.value.length >= 1 && onSearch(search.value)\">\r\n        <ng2-smart-table [source]=\"catalog\" [settings]=\"settings\"\r\n                         (custom)=\"chooseTrash($event)\"></ng2-smart-table>\r\n      </div>\r\n    </div>\r\n    <form #addForm=\"ngForm\" (ngSubmit)=\"addTrash(addForm)\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n\r\n          <div class=\"row mb-2\">\r\n            <label class=\"col-12 label\" for=\"input-indeksniBroj\">Indeksni broj:</label>\r\n            <div class=\"col-6\">\r\n              <input nbInput fullWidth disabled required [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"trash.indexNumber\"\r\n                     [placeholder]=\"trash.indexNumber || '00 00 00'\" id=\"input-indeksniBroj\">\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-2\">\r\n            <label class=\"col-12 label\" for=\"input-trashName\">Naziv: </label>\r\n            <div class=\"col-6\">\r\n              <input #name=\"ngModel\" [(ngModel)]=\"trash.name\" [ngModelOptions]=\"{standalone: true}\"  fullWidth\r\n                     id=\"input-trashName\"\r\n                     name=\"trashName\" nbInput placeholder=\"Naziv\" required>\r\n              <ng-container *ngIf=\"name.touched || checkIssues\">\r\n                <p class=\"error-message mt-1 mb-0\" *ngIf=\"name.errors?.required\">\r\n                  Naziv je obavezan!\r\n                </p>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-2\">\r\n            <label class=\"col-12 label\" for=\"input-trashDesc\">Opis: </label>\r\n            <div class=\"col-6\">\r\n              <input #desc=\"ngModel\" [(ngModel)]=\"trash.desc\" required placeholder=\"Opis\" fullWidth\r\n                     name=\"trashDesc\" id=\"input-trashDesc\" nbInput>\r\n              <ng-container *ngIf=\"desc.touched || checkIssues\">\r\n                <p class=\"error-message mt-1 mb-0\" *ngIf=\"desc.errors?.required\">\r\n                  Opis je obavezan!\r\n                </p>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-2\">\r\n            <label class=\"col-12 label\" for=\"input-trashAmount\">Trenutna koliina na skladistu: </label>\r\n            <div class=\"row ml-1\">\r\n              <div class=\"col-5 pr-0\">\r\n                <input #amount=\"ngModel\" [(ngModel)]=\"trash.amount\" required\r\n                       onkeypress=\"return /[0-9]/i.test(event.key)\" fullWidth min=\"0\" name=\"trashAmount\"\r\n                       nbInput placeholder=\"0.0\" id=\"input-trashAmount\" step=\"0.1\" type=\"number\">\r\n              </div>\r\n              <div class=\"col-1 pl-0\">\r\n                <input-trash-amount #trashAmount [storageAmountUnit]=\"storageAmmountUnit\"></input-trash-amount>\r\n              </div>\r\n            </div>\r\n            <div class=\"ml-2 row\">\r\n              <ng-container *ngIf=\"amount.touched || checkIssues\">\r\n                <p class=\"col-12 error-message mt-1 mb-0\" *ngIf=\"amount.errors?.required\">\r\n                  Koliina je obavezna!\r\n                </p>\r\n                <p class=\"col-12 error-message mt-1 mb-0\" *ngIf=\"amount.value === null\">\r\n                  Koliina mora biti broj!\r\n                </p>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-2\">\r\n            <label class=\"col-12 label\" for=\"input-trashState\">Fizicko stanje otpada: </label>\r\n            <div class=\"col-6\">\r\n              <nb-select #state=\"ngModel\" (selectedChange)=\"trashAmount.updateStorageUnits(trash.state)\" required\r\n                         [(ngModel)]=\"trash.state\" placeholder=\"Fiziko stanje\" fullWidth name=\"trashState\"\r\n                         id=\"input-trashState\" selected=\"Cvrsto\">\r\n                <nb-option *ngFor=\"let f of states;\" [value]=\"f\">{{f}}</nb-option>\r\n              </nb-select>\r\n              <ng-container *ngIf=\"state.touched || checkIssues\">\r\n                <p class=\"error-message mt-1 mb-0\" *ngIf=\"state.errors?.required\">\r\n                  Fiziko stanje je obavezno!\r\n                </p>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-2\" *ngIf=\"operation === 'production'\">\r\n            <label class=\"col-12 label\">Odaberite skladite za otpad: </label>\r\n            <div class=\"col-6\">\r\n              <nb-select #storage=\"ngModel\" [(ngModel)]=\"selectedStorage\" fullWidth required name=\"storage\">\r\n                <nb-option *ngFor=\"let s of storages;\" [value]=\"s\">{{s.name}}</nb-option>\r\n              </nb-select>\r\n              <ng-container *ngIf=\"storage.touched || checkIssues\">\r\n                <p class=\"error-message mt-1 mb-0\" *ngIf=\"storage.errors?.required\">\r\n                  Morate odabrati skladite!\r\n                </p>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-2\" *ngIf=\"operation === 'dump'\">\r\n            <label class=\"col-12 label\">Odaberite D oznaku (moete je promentiti u svakom trenutku): </label>\r\n            <div class=\"col-10\">\r\n              <nb-select #dSign=\"ngModel\" [(ngModel)]=\"trash.dSign\" fullWidth [required]=\"operation === 'dump'\"\r\n                         name=\"dSign\">\r\n                <nb-option *ngFor=\"let d of dSigns;let i = index\"\r\n                           [value]=\"'D' + (i + 1)\">{{'D' + (i + 1) + ' | ' + d}}</nb-option>\r\n              </nb-select>\r\n              <ng-container *ngIf=\"dSign.touched || checkIssues\">\r\n                <p class=\"error-message mt-1 mb-0\" *ngIf=\"dSign.errors?.required\">\r\n                  D oznaka je obavezna!\r\n                </p>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-2\" *ngIf=\"operation === 'treatment'\">\r\n            <label class=\"col-12 label\">Odaberite R oznaku (moete je promentiti u svakom trenutku): </label>\r\n            <div class=\"col-10\">\r\n              <nb-select #rSign=\"ngModel\" [(ngModel)]=\"trash.rSign\" fullWidth [required]=\"operation === 'treatment'\"\r\n                         name=\"rSign\">\r\n                <nb-option *ngFor=\"let r of rSigns;let i = index\"\r\n                           [value]=\"'R' + (i + 1)\">{{'R' + (i + 1) + ' | ' + r}}</nb-option>\r\n              </nb-select>\r\n              <ng-container *ngIf=\"rSign.touched || checkIssues\">\r\n                <p class=\"error-message mt-1 mb-0\" *ngIf=\"rSign.errors?.required\">\r\n                  R oznaka je obavezna!\r\n                </p>\r\n              </ng-container>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-6\">\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-12\">\r\n              <nb-toggle #examinationCodeToggle [checked]=\"trashType === 'unsafe'\" [disabled]=\"trashType === 'unsafe'\"\r\n                         status=\"basic\">Imam dokumenat o ispitivanju otpada\r\n              </nb-toggle>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-2\" *ngIf=\"examinationCodeToggle.checked || trashType === 'unsafe'\">\r\n            <label class=\"col-12 label\" for=\"input-examinationCode\">ifra ispitivanja otpada: </label>\r\n            <div class=\"col-6\">\r\n              <input [(ngModel)]=\"trash.examinationCode\" fullWidth id=\"input-examinationCode\" name=\"examinationCode\"\r\n                     nbInput placeholder=\"ifra\" [required]=\"examinationCodeToggle.checked\" type=\"text\">\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-2\" *ngIf=\"examinationCodeToggle.checked || trashType === 'unsafe'\">\r\n            <label class=\"col-12 label\" for=\"input-examinationDate\">Datum ispitivanja otpada: </label>\r\n            <div class=\"col-6\">\r\n              <input [(ngModel)]=\"trash.examinationDate\" [nbDatepicker]=\"examinationDatePicker\"\r\n                     fullWidth placeholder=\"Datum\"\r\n                     id=\"input-examinationDate\"\r\n                     name=\"examinationDate\" nbInput [required]=\"examinationCodeToggle.checked\">\r\n              <nb-datepicker [max]=\"today()\" #examinationDatePicker></nb-datepicker>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"trashType === 'unsafe'\">\r\n            <div class=\"row mb-2\">\r\n              <label class=\"col-4 label\">H-Lista: </label>\r\n              <label class=\"col-4 label\">Y-Lista: </label>\r\n              <label class=\"col-4 label\">C-Lista: </label>\r\n              <div class=\"col-4 mb-2\">\r\n                <nb-select [(ngModel)]=\"trash.hList\" fullWidth [required]=\"examinationCodeToggle.checked\" name=\"rSign\">\r\n                  <nb-option *ngFor=\"let h of hList;let i = index\"\r\n                             [value]=\"'H' + (i+1)\">{{'H' + (i + 1) + ' | ' + h}}</nb-option>\r\n                </nb-select>\r\n              </div>\r\n              <div class=\"col-4 mb-2\">\r\n                <nb-select [(ngModel)]=\"trash.yList\" fullWidth [required]=\"examinationCodeToggle.checked\" name=\"rSign\">\r\n                  <nb-option *ngFor=\"let y of yList;let i = index\"\r\n                             [value]=\"'Y' + (i+1)\">{{'Y' + (i + 1) + ' | ' + y}}</nb-option>\r\n                </nb-select>\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <nb-select [(ngModel)]=\"trash.cList\" fullWidth [required]=\"examinationCodeToggle.checked\" name=\"rSign\">\r\n                  <nb-option *ngFor=\"let c of cList;let i = index\"\r\n                             [value]=\"'C' + (i+1)\">{{'C' + (i + 1) + ' | ' + c}}</nb-option>\r\n                </nb-select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mb-2\">\r\n              <label class=\"col-12 label\">Broj opasnih komponenta u otpadu: </label>\r\n              <div class=\"col-6\">\r\n                <input [(ngModel)]=\"componentsNo\" fullWidth min=\"1\" [required]=\"examinationCodeToggle.checked\"\r\n                       name=\"brojKomponeti\" nbInput type=\"number\">\r\n              </div>\r\n              <div class=\"col-3\">\r\n                <button (click)=\"updateCAS()\" fullWidth nbButton type=\"button\">Odaberi</button>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"componentsNo > 0\" class=\"row mb-2\">\r\n              <div *ngFor=\"let k of trash.unsafeComponent; let i = index\" class=\"col-6\">\r\n                Komponenta #{{i + 1}}\r\n                <div class=\"row mb-2\">\r\n                  <label class=\"col-12 label\">CAS: </label>\r\n                  <div class=\"col-8\">\r\n                    <input nbInput type=\"text\" required [required]=\"examinationCodeToggle.checked\"\r\n                           [(ngModel)]=\"k.CAS\" name=\"CAS\">\r\n                  </div>\r\n                </div>\r\n                <div class=\"row mb-2\">\r\n                  <label class=\"col-12 label\">Hemijski naziv: </label>\r\n                  <div class=\"col-8\">\r\n                    <input nbInput type=\"text\" required\r\n                           [(ngModel)]=\"k.chemicalName\" [required]=\"examinationCodeToggle.checked\"\r\n                           name=\"Hemijski naziv\">\r\n                  </div>\r\n                </div>\r\n                <div class=\"row mb-2\">\r\n                  <label class=\"col-12 label\">Kilograma opasne materije po kilogram otpada: </label>\r\n                  <div class=\"col-6 pr-0\">\r\n                    <input fullWidth decimals=\"1\" step=\"0.1\" min=\"0\" type=\"number\" nbInput\r\n                           placeholder=\"0.0\" [(ngModel)]=\"k.kgOfMatter\" [required]=\"examinationCodeToggle.checked\"\r\n                           name=\"Kg opasne materije\">\r\n                  </div>\r\n                  <div class=\"col-2 pl-0\">\r\n                    <button nbButton disabled>kg</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row my-2\">\r\n          <div class=\"col-12\">\r\n            <button nbButton fullWidth\r\n                    status=\"primary\" type=\"submit\">Dodaj\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </nb-card-body>\r\n</nb-card>\r\n\r\n","import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { RoleService } from '../../../../@core/service/role.service';\r\nimport { TrashStatsComponent } from '../trash-stats/trash-stats.component';\r\n\r\n@Component({\r\n  selector: 'widget',\r\n  templateUrl: './widget.component.html',\r\n  styleUrls: ['./widget.component.css'],\r\n})\r\nexport class WidgetComponent implements OnInit {\r\n  @ViewChild('trash_stats') trash_stats: TrashStatsComponent;\r\n  @Output() updateSize: EventEmitter<string> = new EventEmitter<string>();\r\n  @Output() updatePosition: EventEmitter<number> = new EventEmitter<number>();\r\n  @Input() type: string;\r\n  @Input() name: string;\r\n  @Input() size: string;\r\n\r\n  showSettings: boolean = false;\r\n  widgetList: {};\r\n  operations: {\r\n    production: boolean, transport: boolean,\r\n    collector: boolean, treatment: boolean, disposal: boolean, cache: boolean,\r\n  };\r\n\r\n  constructor(private roleService: RoleService) {\r\n    this.size = 'medium';\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.roleService.getOperations().subscribe(x => {\r\n      this.operations = x;\r\n    });\r\n    let titleType = '';\r\n    if (this.type === 'production')\r\n      titleType = 'proizveden';\r\n    else if (this.type === 'treatment')\r\n      titleType = 'obraen';\r\n    else if (this.type === 'disposal')\r\n      titleType = 'odloen';\r\n    else if (this.type === 'cache')\r\n      titleType = 'skladien';\r\n    this.widgetList = {\r\n      most_used_trash: {\r\n        title: `Najei ${titleType} otpad`,\r\n      },\r\n      trash_stats: {\r\n        title: 'Statistika otpada',\r\n      },\r\n      transport_vehicles: {\r\n        title: 'Prevozna sredstva',\r\n      },\r\n      transport_permits: {\r\n        title: 'Dozvole za transport',\r\n      },\r\n      collector_permits: {\r\n        title: 'Dozvole za sakupljanje',\r\n      },\r\n      unfinished_operations: {\r\n        title: 'Nedovrene operacije',\r\n      },\r\n      most_used_special_waste: {\r\n        title: 'Najee korieni posebni tokovi otpada',\r\n      },\r\n      special_waste_stats: {\r\n        title: 'Statistika posebnih tokova otpada',\r\n      },\r\n    };\r\n  }\r\n\r\n  getWidgetTitle(): string {\r\n    return this.widgetList[this.name].title;\r\n  }\r\n\r\n  updateSizeMethod() {\r\n    this.updateSize.emit(this.size);\r\n  }\r\n\r\n  updatePositionMethod(pos: number) {\r\n    this.updatePosition.emit(pos);\r\n  }\r\n}\r\n","<nb-card [size]=\"size\">\r\n  <nb-card-header>\r\n    <div class=\"row\">\r\n      <div class=\"d-flex justify-content-start\">{{getWidgetTitle()}}</div>\r\n      <div class=\"d-flex flex-fill justify-content-end\">\r\n        <div *ngIf=\"showSettings\" class=\"mr-2\">\r\n          Redosled:\r\n          <button size=\"small\" (click)=\"updatePositionMethod(-1)\" nbButton><i class=\"fa fa-arrow-up\"></i></button>\r\n          <button size=\"small\" (click)=\"updatePositionMethod(1)\" nbButton><i class=\"fa fa-arrow-down\"></i></button>\r\n          Veliina:\r\n          <nb-select size=\"small\" (selectedChange)=\"updateSizeMethod()\" [(ngModel)]=\"size\" [selected]=\"size\">\r\n            <nb-option value=\"tiny\">XS</nb-option>\r\n            <nb-option value=\"small\">S</nb-option>\r\n            <nb-option value=\"medium\">M</nb-option>\r\n            <nb-option value=\"large\">L</nb-option>\r\n            <nb-option value=\"giant\">XL</nb-option>\r\n          </nb-select>\r\n        </div>\r\n        <button size=\"small\" (click)=\"showSettings = !showSettings\" nbButton><i\r\n          [class]=\"showSettings ? 'fa fa-times' : 'fa fa-cog'\"></i></button>\r\n      </div>\r\n    </div>\r\n  </nb-card-header>\r\n  <nb-card-body>\r\n    <div *ngIf=\"name === 'most_used_trash'\">\r\n      <widget-most-used-trash [type]=\"type\"></widget-most-used-trash>\r\n    </div>\r\n    <div *ngIf=\"name === 'trash_stats'\" class=\"h-100\">\r\n      <widget-trash-stats [size]=\"size\" [type]=\"type\"></widget-trash-stats>\r\n    </div>\r\n    <div *ngIf=\"name === 'transport_permits'\">\r\n      <widget-transport-permits [type]=\"'transport'\"></widget-transport-permits>\r\n    </div>\r\n    <div *ngIf=\"name === 'collector_permits'\">\r\n      <widget-transport-permits [type]=\"'collector'\"></widget-transport-permits>\r\n    </div>\r\n    <div *ngIf=\"name === 'transport_vehicles'\">\r\n      <widget-vehicles></widget-vehicles>\r\n    </div>\r\n    <div *ngIf=\"name === 'unfinished_operations'\">\r\n      <widget-unfinished-operations [type]=\"type\"></widget-unfinished-operations>\r\n    </div>\r\n    <div *ngIf=\"name === 'most_used_special_waste'\">\r\n      <widget-most-used-special-waste></widget-most-used-special-waste>\r\n    </div>\r\n    <div *ngIf=\"name === 'special_waste_stats'\" class=\"h-100\">\r\n      <widget-special-waste-stats [size]=\"size\"></widget-special-waste-stats>\r\n    </div>\r\n  </nb-card-body>\r\n</nb-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NbComponentStatus, NbToastrService } from '@nebular/theme';\r\nimport { LocalDataSource } from 'ng2-smart-table';\r\nimport { SpecialWaste } from '../../../@core/data/specialWaste';\r\nimport { CatalogService } from '../../../@core/service/catalog.service';\r\nimport { RoleService } from '../../../@core/service/role.service';\r\nimport { SpecialWasteService } from '../../../@core/service/specialWaste.service';\r\nimport { ToastrService } from '../../../@core/service/toastr.service';\r\nimport { SPECIAL_WASTE_CATALOG_SETTINGS } from '../specialWasteCatalogTable';\r\n\r\n@Component({\r\n  selector: 'add-special-waste',\r\n  templateUrl: './add-special-waste.component.html',\r\n  styleUrls: ['./add-special-waste.component.css'],\r\n})\r\nexport class AddSpecialWasteComponent implements OnInit {\r\n\r\n  settings: any = SPECIAL_WASTE_CATALOG_SETTINGS;\r\n  checkIssues: boolean = false;\r\n  catalog: LocalDataSource = new LocalDataSource();\r\n  specialWasteType: string;\r\n  operations: { import: boolean, export: boolean, production: false };\r\n  operation: string;\r\n  otherOperations: string[] = [];\r\n  specialWasteClasses: Set<string>;\r\n  specialWaste: SpecialWaste = {\r\n    amount: 0, desc: '', mass: undefined, name: '', unitOfMeasure: 'kg', operationTypes: [],\r\n  };\r\n\r\n  constructor(private activatedRoute: ActivatedRoute, private catalogService: CatalogService,\r\n              private specialWasteService: SpecialWasteService, private router: Router,\r\n              private toastrService: ToastrService, private roleService: RoleService) {\r\n    this.activatedRoute.params.subscribe(params => {\r\n      this.operation = params.operation;\r\n      this.specialWasteType = params.trashType;\r\n      this.ngOnInit();\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.catalogService.getSpecialWaste().subscribe(x => {\r\n      this.catalog.load(x);\r\n      this.specialWasteClasses = new Set();\r\n      x.forEach(d => this.specialWasteClasses.add(d.className));\r\n    });\r\n    this.roleService.getOperations(undefined, undefined, true).subscribe(x => {\r\n      this.operations = x.specialWasteOperations;\r\n    });\r\n    this.otherOperations = [];\r\n    this.specialWaste.operationTypes = [];\r\n    this.operations.production ? this.otherOperations.push('Proizvodnja') : '';\r\n    this.operations.import ? this.otherOperations.push('Uvoz') : '';\r\n    this.operations.export ? this.otherOperations.push('Izvoz') : '';\r\n    this.specialWaste.operationTypes = this.otherOperations;\r\n  }\r\n\r\n  checkOperation(operation: string) {\r\n    if (operation === 'Proizvodnja' && this.operation === 'production')\r\n      return true;\r\n    if (operation === 'Uvoz' && this.operation === 'import')\r\n      return true;\r\n    if (operation === 'Izvoz' && this.operation === 'export')\r\n      return true;\r\n    return false;\r\n  }\r\n\r\n  onSearch(query: string) {\r\n    if (query === '')\r\n      this.catalog.setFilter([]);\r\n    this.catalog.setFilter([\r\n      {\r\n        field: 'name',\r\n        search: query,\r\n      },\r\n      {\r\n        field: 'className',\r\n        search: query,\r\n      },\r\n    ], false);\r\n  }\r\n\r\n  /* doesnt recongize the events data from smart table :P*/\r\n  chooseSpecialWaste({data}) {\r\n    this.specialWaste.name = data.name;\r\n    this.specialWaste.desc = data.desc;\r\n    this.specialWaste.unitOfMeasure = data.unitOfMeasure;\r\n  }\r\n\r\n  addOperation(operation: string) {\r\n    if (this.specialWaste.operationTypes.includes(operation))\r\n      this.specialWaste.operationTypes = this.specialWaste.operationTypes.filter(x => x !== operation);\r\n    else\r\n      this.specialWaste.operationTypes.push(operation);\r\n  }\r\n\r\n  addSpecialWaste(form: NgForm): void {\r\n    if (form.invalid || isNaN(this.specialWaste.mass)) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka', 'Ispravite sve greke da bi ste dodali PTO.', 'warning');\r\n      return;\r\n    }\r\n    delete this.specialWaste._id;\r\n    this.specialWasteService.createSpecialWaste(this.specialWaste, this.roleService.getCompanyID()).subscribe();\r\n    this.toastrService.showToast('Uspeh', 'Uspeno ste dodali posebeni tok otpada!', 'success');\r\n    this.router.navigate(['pages', 'dashboard']);\r\n  }\r\n\r\n}\r\n","<nb-card class=\"container-fluid\">\r\n  <nb-card-header>\r\n    <h5>Dodajte novi inventar posebnih tokova otpada</h5>\r\n  </nb-card-header>\r\n  <nb-card-body>\r\n    <div class=\"row mb-2\">\r\n      <div class=\"col-12\">\r\n        <label class=\"col-8 pl-0\">Pretrai po razredu:</label>\r\n      </div>\r\n      <div class=\"col-12\">\r\n        <nb-select placeholder=\"Odaberite razred\" (selectedChange)=\"onSearch($event)\" fullWidth>\r\n          <nb-option [value]=\"r\" *ngFor=\"let r of specialWasteClasses\">{{r}}</nb-option>\r\n        </nb-select>\r\n      </div>\r\n      <div class=\"col-12\">\r\n        <label class=\"col-8 pl-0\">Pretrai po nazivu:</label>\r\n      </div>\r\n      <div class=\"col-12\">\r\n        <input nbInput #search fullWidth type=\"text\" placeholder=\"Pretrai\"\r\n               (input)=\"search.value.length >= 1 && onSearch(search.value)\">\r\n        <ng2-smart-table [source]=\"catalog\" [settings]=\"settings\"\r\n                         (custom)=\"chooseSpecialWaste($event)\"></ng2-smart-table>\r\n      </div>\r\n    </div>\r\n    <form #addForm=\"ngForm\" (ngSubmit)=\"addSpecialWaste(addForm)\">\r\n      <div class=\"row mb-2\">\r\n        <label class=\"col-12 label\" for=\"input-specialWasteName\">Naziv: </label>\r\n        <div class=\"col-4\">\r\n          <input #name=\"ngModel\" [(ngModel)]=\"specialWaste.name\" required placeholder=\"Naziv\" fullWidth\r\n                 name=\"specialWasteName\" id=\"input-specialWasteName\" nbInput>\r\n          <ng-container *ngIf=\"name.touched || checkIssues\">\r\n            <p class=\"error-message mt-1 mb-0\" *ngIf=\"name.errors?.required\">\r\n              Naziv je obavezan!\r\n            </p>\r\n          </ng-container>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"row mb-2\">\r\n        <label class=\"col-12 label\" for=\"input-specialWasteDesc\">Opis: </label>\r\n        <div class=\"col-4\">\r\n          <input #desc=\"ngModel\" [(ngModel)]=\"specialWaste.desc\" required placeholder=\"Opis\" fullWidth\r\n                 name=\"specialWasteDesc\" id=\"input-specialWasteDesc\" nbInput>\r\n          <ng-container *ngIf=\"desc.touched || checkIssues\">\r\n            <p class=\"error-message mt-1 mb-0\" *ngIf=\"desc.errors?.required\">\r\n              Opis je obavezan!\r\n            </p>\r\n          </ng-container>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"row mb-2\">\r\n        <label class=\"col-12 label\" for=\"input-specialWasteunitOfMeasure\">Jedinica mere: </label>\r\n        <div class=\"col-4\">\r\n          <input [(ngModel)]=\"specialWaste.unitOfMeasure\" required disabled placeholder=\"Jedinica mere\" fullWidth\r\n                 name=\"specialWasteunitOfMeasure\" id=\"input-specialWasteunitOfMeasure\" nbInput>\r\n        </div>\r\n      </div>\r\n      <div class=\"row mb-2\">\r\n        <label class=\"col-12 label\" for=\"input-specialWasteMass\">Masa jedinice mere ({{specialWaste.unitOfMeasure}}): </label>\r\n        <div class=\"col-4\">\r\n          <input #mass=\"ngModel\" [(ngModel)]=\"specialWaste.mass\" required fullWidth min=\"0\" name=\"specialWasteMass\"\r\n                 nbInput onkeypress=\"return /[0-9]/i.test(event.key)\" placeholder=\"0.0\" id=\"input-specialWasteMass\" step=\"0.1\" type=\"number\">\r\n          <ng-container *ngIf=\"mass.touched || checkIssues\">\r\n            <p class=\"error-message mt-1 mb-0\" *ngIf=\"mass.errors?.required\">\r\n              Masa je obavezna!\r\n            </p>\r\n            <p class=\"error-message mt-1 mb-0\" *ngIf=\"mass.value === null\">\r\n              Masa mora biti broj!\r\n            </p>\r\n          </ng-container>\r\n        </div>\r\n      </div>\r\n      <div class=\"row mb-2\">\r\n        <label class=\"col-12 label\">Izaberite dodatne operacije proizvoda: </label>\r\n      </div>\r\n      <div class=\"row\" *ngFor=\"let o of otherOperations\">\r\n        <div class=\"col-4\">\r\n          <nb-toggle (checkedChange)=\"addOperation(o)\" [disabled]=\"checkOperation(o)\" checked>{{o}}</nb-toggle>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-4\">\r\n          <button nbButton fullWidth\r\n                  status=\"primary\" type=\"submit\">Dodaj\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </nb-card-body>\r\n</nb-card>\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport {\r\n  NbButtonModule,\r\n  NbCardModule,\r\n  NbFormFieldModule,\r\n  NbIconModule, NbInputModule,\r\n  NbMenuModule, NbPopoverModule, NbProgressBarModule,\r\n  NbTabsetModule, NbToastrService,\r\n} from '@nebular/theme';\r\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\r\nimport { PermitService } from '../@core/service/permit.service';\r\nimport { CompanyService } from '../@core/service/company.service';\r\nimport { UserService } from '../@core/service/user.service';\r\nimport { VehicleService } from '../@core/service/vehicle.service';\r\nimport { ThemeModule } from '../@theme/theme.module';\r\nimport { DashboardModule } from './dashboard/dashboard.module';\r\nimport { TrashModule } from './trash/trash.module';\r\nimport { PagesRoutingModule } from './pages-routing.module';\r\nimport { PagesComponent } from './pages.component';\r\nimport { StorageModule } from './storage-containers/storage.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    PagesRoutingModule,\r\n    ThemeModule,\r\n    NbMenuModule,\r\n    NbButtonModule,\r\n    DashboardModule,\r\n    TrashModule,\r\n    StorageModule,\r\n    NbCardModule,\r\n    NbTabsetModule,\r\n    NbIconModule,\r\n    FormsModule,\r\n    NbFormFieldModule,\r\n    NbInputModule,\r\n    NbProgressBarModule,\r\n    NbPopoverModule,\r\n    Ng2SmartTableModule,\r\n  ],\r\n  declarations: [\r\n    PagesComponent,\r\n  ],\r\n  providers: [\r\n    UserService,\r\n    NbToastrService,\r\n    CompanyService,\r\n    PermitService,\r\n    VehicleService,\r\n  ],\r\n  exports: [],\r\n})\r\nexport class PagesModule {\r\n}\r\n","import { Component, Input, OnChanges, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { BarVerticalComponent } from '@swimlane/ngx-charts';\r\nimport { Transaction } from '../../../../@core/data/transaction';\r\nimport { TransactionsService } from '../../../../@core/service/transactions.service';\r\nimport { TRASH_STATS_SETTINGS } from './trash-stats.settings';\r\n\r\n@Component({\r\n  selector: 'widget-trash-stats',\r\n  templateUrl: './trash-stats.component.html',\r\n  styleUrls: ['./trash-stats.component.css'],\r\n})\r\nexport class TrashStatsComponent implements OnChanges {\r\n  @Input() type: string;\r\n  @Input() size: string;\r\n\r\n  trash: Transaction[];\r\n  options: any;\r\n  trashList: Transaction[] = [];\r\n  selectedTrash: Transaction;\r\n  daysInMonth: number = 30;\r\n  data: any[] = [];\r\n  colorScheme = {\r\n    domain: ['#FF0000', '#0000FF'],\r\n  };\r\n\r\n  constructor(private transactionService: TransactionsService) {\r\n    const d = new Date();\r\n    this.options = Object.assign({}, TRASH_STATS_SETTINGS);\r\n    this.updateSize(this.size);\r\n    this.daysInMonth = new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes['size']) {\r\n      this.updateSize(this.size);\r\n    }\r\n    if (changes['type']) {\r\n      this.transactionService.getMostUsedTrash(this.type).subscribe(x => {\r\n        this.trashList = x;\r\n        if (x.length === 0) {\r\n          return;\r\n        }\r\n        this.selectedTrash = this.trashList[0];\r\n        this.updateGraph(this.selectedTrash);\r\n      });\r\n    }\r\n  }\r\n\r\n  chooseTransaction(trash: Transaction) {\r\n    this.selectedTrash = trash;\r\n    this.updateGraph(trash);\r\n  }\r\n\r\n  updateGraph(trash: Transaction) {\r\n    this.transactionService.getTransactions(trash.trash._id, 'trash').subscribe(t => {\r\n      this.trash = t;\r\n      this.options.legendTitle = this.trash[0].trash.name;\r\n      let negativeOperation = 'Transportovan';\r\n      let positiveOperation = 'Proizveden';\r\n      if (this.type === 'treatment' || this.type === 'disposal') {\r\n        positiveOperation = 'Preuzet';\r\n        negativeOperation = this.type === 'treatment' ? 'Obraen' : 'Odloen'\r\n      }\r\n      const data1 = {name: positiveOperation, value: 0};\r\n      const data2 = {name: negativeOperation, value: 0};\r\n      this.data = [];\r\n      for (let i = 0; i < this.daysInMonth; i++) {\r\n        this.data[i] = {name: (i + 1) + '', series: []};\r\n      }\r\n      for (let i = 0; i < this.trash.length; i++) {\r\n        let dayNumber = '-';\r\n        if (this.trash[i].date.toString().substring(8, 10).charAt(0) !== '0') {\r\n          dayNumber = this.trash[i].date.toString().substring(8, 10);\r\n        } else {\r\n          dayNumber = this.trash[i].date.toString().substring(9, 10);\r\n        }\r\n        if (this.trash[i].trashAmount > 0) {\r\n          data1.value += this.trash[i].trashAmount;\r\n          this.data[dayNumber].series.push({name: positiveOperation, value: this.trash[i].trashAmount});\r\n        } else {\r\n          data2.value += Math.abs(this.trash[i].trashAmount);\r\n          this.data[dayNumber].series.push({name: negativeOperation, value: this.trash[i].trashAmount});\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  updateSize(size: String) {\r\n    if (size === 'tiny')\r\n      this.options.view = [];\r\n    else if (size === 'small')\r\n      this.options.view = [];\r\n    else if (size === 'medium')\r\n      this.options.view = [500, 300];\r\n    else if (size === 'large')\r\n      this.options.view = [700, 300];\r\n    else if (size === 'giant')\r\n      this.options.view = [1100, 500];\r\n  }\r\n\r\n}\r\n","{{this.options.legendTitle}}\r\n<div *ngIf=\"type\" class=\"row flex-fill\">\r\n  <ngx-charts-bar-vertical-stacked #bar\r\n    [legend]=\"options.legend\"\r\n    [showXAxisLabel]=\"options.showXAxisLabel\"\r\n    [scheme]=\"colorScheme\"\r\n    [showYAxisLabel]=\"options.showYAxisLabel\"\r\n    [xAxis]=\"options.xAxis\"\r\n    [yAxis]=\"options.yAxis\"\r\n    [xAxisLabel]=\"options.xAxisLabel\"\r\n    [yAxisLabel]=\"options.yAxisLabel\"\r\n    [results]=\"data\"\r\n    [view]=\"options.view\"\r\n  ></ngx-charts-bar-vertical-stacked>\r\n</div>\r\n<div class=\"row mt-2\">\r\n  <div class=\"col-4\">\r\n    <nb-select [size]=\"size\" fullWidth [selected]=\"trashList[0]\" (selectedChange)=\"chooseTransaction($event)\">\r\n      <nb-option *ngFor=\"let t of trashList\" [value]=\"t\">\r\n        {{t.trash.name}}\r\n      </nb-option>\r\n    </nb-select>\r\n  </div>\r\n  <div class=\"col-2\">\r\n    <nb-select disabled [size]=\"size\" fullWidth selected=\"Dani\">\r\n      <nb-option value=\"Dani\">Dani</nb-option>\r\n      <nb-option value=\"Meseci\">Meseci</nb-option>\r\n      <nb-option value=\"Godine\">Godine</nb-option>\r\n    </nb-select>\r\n  </div>\r\n</div>\r\n\r\n","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { NbWindowRef, NbWindowService } from '@nebular/theme';\r\nimport { LocalDataSource } from 'ng2-smart-table';\r\nimport { Vehicle } from '../../../../@core/data/vehicle';\r\nimport { RoleService } from '../../../../@core/service/role.service';\r\nimport { VehicleService } from '../../../../@core/service/vehicle.service';\r\nimport { VEHICLES_SETTINGS } from './transport-vehicles.settings';\r\n\r\n@Component({\r\n  selector: 'widget-vehicles',\r\n  templateUrl: './transport-vehicles.component.html',\r\n  styleUrls: ['./transport-vehicles.component.css'],\r\n})\r\nexport class TransportVehiclesComponent implements OnInit {\r\n  @ViewChild('addVehicleTemplate', {read: TemplateRef}) addVehicleTemplate: TemplateRef<HTMLElement>;\r\n  private windowRef: NbWindowRef;\r\n\r\n  settings: {} = VEHICLES_SETTINGS;\r\n  vehicles: LocalDataSource = new LocalDataSource();\r\n\r\n  constructor(private vehicleService: VehicleService, private roleService: RoleService,\r\n              private windowService: NbWindowService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.updateVehicles();\r\n  }\r\n\r\n  updateVehicles() {\r\n    this.vehicleService.getCompaniesVehicles(this.roleService.getCompanyID()).subscribe(v => {\r\n      this.vehicles.load(v);\r\n    });\r\n    if (this.windowRef !== undefined)\r\n      this.windowRef.close();\r\n  }\r\n\r\n  openAddVehicleWindow() {\r\n    this.windowRef = this.windowService.open(this.addVehicleTemplate, {title: 'Dodajte vozilo'});\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-12\">\r\n    <ng2-smart-table [settings]=\"settings\" [source]=\"vehicles\"></ng2-smart-table>\r\n  </div>\r\n</div>\r\n<div class=\"row my-3 d-flex justify-content-end mr-4 pr-1 align-items-end \">\r\n  <div class=\"col-3\">\r\n      <button nbButton type=\"button\" (click)=\"openAddVehicleWindow()\">Dodaj vozilo</button>\r\n  </div>\r\n</div>\r\n<ng-template #addVehicleTemplate>\r\n  <add-vehicle-popup (updateVehicles)=\"updateVehicles()\"></add-vehicle-popup>\r\n</ng-template>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'widget-group-header',\r\n  templateUrl: './widget-group-header.component.html',\r\n  styleUrls: ['./widget-group-header.component.css'],\r\n})\r\nexport class WidgetGroupHeaderComponent implements OnInit {\r\n  @Output() updatePosition: EventEmitter<number> = new EventEmitter<number>();\r\n  @Input() title: string;\r\n  @Input() status: string;\r\n  showSettings: boolean = false;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  updatePositionMethod(pos: number) {\r\n    this.updatePosition.emit(pos);\r\n  }\r\n}\r\n","<nb-card [status]=\"status\">\r\n  <nb-card-header>\r\n    <div class=\"row\">\r\n      <div class=\"col-6 d-flex justify-content-start\">{{title}}</div>\r\n      <div class=\"col-6 d-flex flex-fill justify-content-end\">\r\n        <button nbButton size=\"small\" (click)=\"showSettings = !showSettings\"\r\n                [status]=\"status\">Izmeni redosled</button>\r\n        <div *ngIf=\"showSettings\">\r\n          <button (click)=\"updatePositionMethod(-1)\" nbButton><i class=\"fa fa-arrow-up\"></i></button>\r\n          <button (click)=\"updatePositionMethod(1)\" nbButton><i class=\"fa fa-arrow-down\"></i></button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </nb-card-header>\r\n</nb-card>\r\n","export const PERMIT_SETTINGS: any = {\r\n  hideSubHeader: true,\r\n  actions: {\r\n    columnTitle: 'Lista otpada',\r\n    position: 'right',\r\n    add: false,\r\n    edit: false,\r\n    delete: false,\r\n    custom: [\r\n      {\r\n        name: 'add',\r\n        title: '<i class=\"fa fa-search\"></i>',\r\n      },\r\n    ],\r\n  },\r\n  columns: {\r\n    name: {\r\n      title: 'Naziv',\r\n      editable: false,\r\n    },\r\n    code: {\r\n      title: 'ifra dozvole',\r\n    },\r\n    dateExpiration: {\r\n      title: 'Dozvola vai do',\r\n      valuePrepareFunction: (cell: any, row: any) => {\r\n        return row.dateExpiration.substring(0, 10);\r\n      },\r\n    },\r\n  },\r\n};\r\n","import { Component, Input, OnInit, TemplateRef, ViewChild } from '@angular/core';\r\nimport { NbWindowRef, NbWindowService } from '@nebular/theme';\r\nimport { Storage } from '../../../../@core/data/storage';\r\nimport { Trash } from '../../../../@core/data/trash';\r\nimport { Transaction } from '../../../../@core/data/transaction';\r\nimport { StorageService } from '../../../../@core/service/storage.service';\r\nimport { ToastrService } from '../../../../@core/service/toastr.service';\r\nimport { TrashService } from '../../../../@core/service/trash.service';\r\nimport { TransactionsService } from '../../../../@core/service/transactions.service';\r\n\r\n@Component({\r\n  selector: 'widget-most-used-trash',\r\n  templateUrl: './most-used-trash.component.html',\r\n  styleUrls: ['./most-used-trash.component.css'],\r\n})\r\nexport class MostUsedTrashComponent implements OnInit {\r\n  @ViewChild('addTrashTemplate', {read: TemplateRef}) addTrashTemplate: TemplateRef<HTMLElement>;\r\n  @ViewChild('processTrashTemplate', {read: TemplateRef}) processTrashTemplate: TemplateRef<HTMLElement>;\r\n  private windowRef: NbWindowRef;\r\n\r\n  @Input() type: string;\r\n  transactions: Transaction[] = [];\r\n  trash: Trash[];\r\n  selectedTrash: Trash;\r\n  selectedStorage: Storage;\r\n\r\n  constructor(private transactionService: TransactionsService, private windowService: NbWindowService,\r\n              private trashService: TrashService, private toastrService: ToastrService, private storageService: StorageService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.updateTransactions();\r\n  }\r\n\r\n  private updateTransactions() {\r\n    this.transactionService.getMostUsedTrash(this.type).subscribe(x => {\r\n      this.transactions = x;\r\n    });\r\n  }\r\n\r\n  private openAddTrashWindow(trash: Trash, storage: any) {\r\n    this.selectedTrash = trash;\r\n    this.storageService.getStorage(storage).subscribe(s => {\r\n      this.selectedStorage = s;\r\n    })\r\n    this.windowRef = this.windowService.open(this.addTrashTemplate,\r\n      {title: 'Dodaj proizvedenu kolicinu: ' + this.selectedTrash.name});\r\n  }\r\n\r\n  addTrashMethod({trashAmmount: trashAmmount}) {\r\n    if (this.selectedStorage.maxAmount < this.selectedStorage.amount + trashAmmount) {\r\n      this.toastrService.showToast('Greka', 'Ne moete da dodate vie otpada nego to vae skladite moe da prihvati: '\r\n        + this.selectedStorage.maxAmount + ' ' + this.selectedStorage.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    this.selectedTrash.amount += trashAmmount;\r\n    this.trashService.updateTrash(this.selectedTrash, this.selectedStorage._id, this.selectedTrash._id).subscribe(x => {\r\n      this.updateTransactions();\r\n    });\r\n    this.toastrService.showToast('Uspeh',\r\n      'Uspeno ste dodali ' + trashAmmount + ' (kg) ' + this.selectedTrash.name + ' na skladite.',\r\n      'success');\r\n    this.windowRef.close();\r\n    trashAmmount = NaN;\r\n  }\r\n\r\n  private openProcessTrashWindow(trash: Trash, storage: any) {\r\n    this.selectedTrash = trash;\r\n    this.storageService.getStorage(storage).subscribe(s => {\r\n      this.selectedStorage = s;\r\n    })\r\n    this.windowRef = this.windowService.open(this.processTrashTemplate,\r\n      {title: 'Obradi odreenu koliinu: ' + this.selectedTrash.name});\r\n  }\r\n\r\n  processTrashMethod({\r\n                       selectedTransaction: selectedTransaction,\r\n                       trashAmmount: trashAmmount, trashCreated: trashCreated,\r\n                     }) {\r\n    if (this.selectedStorage.amount - trashAmmount < 0) {\r\n      this.toastrService.showToast('Greka', 'Ne moete da dodate obradite vie otpada nego to vae skladite ima: '\r\n        + this.selectedStorage.amount + ' ' + this.selectedStorage.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    this.selectedTrash.amount -= trashAmmount;\r\n    const companyName = trashCreated ?\r\n      (selectedTransaction.companyName ? selectedTransaction.companyName : selectedTransaction) : '';\r\n    const documentNo = trashCreated ?\r\n      (selectedTransaction.wmdNo ? selectedTransaction.wmdNo : selectedTransaction) : '';\r\n    this.trashService.updateTrash(this.selectedTrash, this.selectedStorage._id, this.selectedTrash._id, '_id',\r\n      companyName, documentNo).subscribe(x => {\r\n      this.updateTransactions();\r\n    });\r\n    if (selectedTransaction !== '-') {\r\n      selectedTransaction.finished = true;\r\n      this.transactionService.updateTransaction(selectedTransaction, selectedTransaction._id).subscribe(x => {\r\n      });\r\n    }\r\n    this.toastrService.showToast('Uspeh', 'Uspeno ste obradili ' + trashAmmount + ' (kg) '\r\n      + this.selectedTrash.name + ' na skladite.',\r\n      'success');\r\n    this.windowRef.close();\r\n    trashAmmount = NaN;\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-3\">Indeksni broj</div>\r\n  <div class=\"col-3\">Naziv</div>\r\n  <div class=\"col-3\">Koliina (KG)</div>\r\n  <div class=\"col-3\" *ngIf=\"type === 'production'\">Dodaj otpad</div>\r\n  <div class=\"col-3\" *ngIf=\"type === 'treatment'\">Obradi otpad</div>\r\n  <div class=\"col-3\" *ngIf=\"type === 'disposal'\">Odoloi otpad</div>\r\n  <div class=\"col-3\" *ngIf=\"type === 'cache'\">Skladiti otpad</div>\r\n</div>\r\n<hr style=\"height:2px;border-width:0;color:gray;background-color:gray\">\r\n<div class=\"row mb-1\" *ngFor=\"let transaction of transactions;\">\r\n  <div class=\"col-2\">{{transaction.trash.indexNumber}}</div>\r\n  <div class=\"col-4 text-limit\">{{transaction.trash.name}}</div>\r\n  <div class=\"col-3\">{{transaction.trash.amount}}</div>\r\n  <div *ngIf=\"type === 'production' || type === 'cache'\" class=\"col-3 text-center\">\r\n    <i (click)=\"openAddTrashWindow(transaction.trash, transaction.storage)\" class=\"fa fa-plus add-button\"></i>\r\n  </div>\r\n  <div *ngIf=\"type === 'treatment'\" class=\"col-3 text-center\">\r\n    <i (click)=\"openProcessTrashWindow(transaction.trash, transaction.storage)\" class=\"fa fa-trash-restore add-button\"></i>\r\n  </div>\r\n  <div *ngIf=\"type === 'disposal'\" class=\"col-3 text-center\">\r\n    <i (click)=\"openProcessTrashWindow(transaction.trash, transaction.storage)\" class=\"fa fa-trash add-button\"></i>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #addTrashTemplate>\r\n  <add-trash-popup [type]=\"'production'\" [selectedTrash]=\"selectedTrash\" (callAddTrash)=\"addTrashMethod($event)\"></add-trash-popup>\r\n</ng-template>\r\n<ng-template #processTrashTemplate>\r\n  <process-trash-popup [selectedTrash]=\"selectedTrash\"\r\n                       (callProcessTrash)=\"processTrashMethod($event)\"></process-trash-popup>\r\n</ng-template>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AddSpecialWasteComponent } from './add-special-waste/add-special-waste.component';\r\nimport { AddTrashComponent } from './add-trash/add-trash.component';\r\nimport { TrashComponent } from './trash.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TrashComponent,\r\n    children: [\r\n      {\r\n        path: 'specialwaste/:operation',\r\n        component: AddSpecialWasteComponent,\r\n      },\r\n      {\r\n        path: ':trashType/:operation',\r\n        component: AddTrashComponent,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class TrashRoutingModule {\r\n}\r\n","<nb-select [(ngModel)]=\"storageAmountUnit\" [ngModelOptions]=\"{standalone: true}\" [selected]=\"'KG'\"\r\n           fullWidth>\r\n  <nb-option *ngFor=\"let s of storageUnits;\" [value]=\"s\">{{s}}</nb-option>\r\n</nb-select>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'input-trash-amount',\r\n  templateUrl: './input-trash-amount.component.html',\r\n  styleUrls: ['./input-trash-amount.component.css'],\r\n})\r\nexport class InputTrashAmountComponent implements OnInit {\r\n  @Input() storageAmountUnit: string = 'KG';\r\n\r\n  storageUnits: string[] = ['KG', 'T'];\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  updateStorageUnits(trashState: string) {\r\n    if (trashState === 'Teno')\r\n      this.storageUnits = ['L'];\r\n    else if (trashState === 'Gasovito')\r\n      this.storageUnits = ['M3'];\r\n    else\r\n      this.storageUnits = ['KG', 'T'];\r\n    this.storageAmountUnit = this.storageUnits[0];\r\n  }\r\n\r\n}\r\n","export const UNFINISHED_OPERATIONS_SETTINGS: any = {\r\n  hideSubHeader: true,\r\n  pager: {\r\n    perPage: 5,\r\n  },\r\n  actions: {\r\n    columnTitle: 'Zavri tretman',\r\n    position: 'right',\r\n    add: false,\r\n    edit: false,\r\n    delete: false,\r\n    custom: [\r\n      {\r\n        name: 'leftover',\r\n        title:  '<i class=\"fa fa-exclamation-triangle\"></i>',\r\n      },\r\n    ],\r\n  },\r\n  columns: {\r\n    user: {\r\n      title: 'Podnosioc operacije',\r\n      valuePrepareFunction: (cell: any, row: any) => {\r\n        return row.user.firstName + ' ' + row.user.lastName;\r\n      },\r\n    },\r\n    date: {\r\n      title: 'Datum tretmana',\r\n      valuePrepareFunction: (cell: any, row: any) => {\r\n        return row.date.substring(0, 10);\r\n      },\r\n    },\r\n    indexNumber: {\r\n      title: 'Indeksni broj',\r\n      valuePrepareFunction: (cell: any, row: any) => {\r\n        return row.trash.indexNumber;\r\n      },\r\n    },\r\n    name: {\r\n      title: 'Naziv otpada',\r\n      valuePrepareFunction: (cell: any, row: any) => {\r\n        let result = row.trash.name;\r\n        if (row.trash.name.length > 10)\r\n          result = row.trash.name.substring(0, 10) + '...';\r\n        return result;\r\n      },\r\n    },\r\n    amount: {\r\n      title: 'Kolicina (KG)',\r\n      valuePrepareFunction: (cell: any, row: any) => {\r\n        return row.trash.amount;\r\n      },\r\n    },\r\n  },\r\n};\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\nimport { NotFoundComponent } from './miscellaneous/not-found/not-found.component';\r\nimport { PagesComponent } from './pages.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PagesComponent,\r\n    children: [\r\n      {\r\n        path: 'dashboard',\r\n        component: DashboardComponent,\r\n      },\r\n      {\r\n        path: 'profile',\r\n        loadChildren: () => import('./profile/profile.module')\r\n          .then(m => m.ProfileModule),\r\n      },\r\n      {\r\n        path: 'storage',\r\n        loadChildren: () => import('./storage-containers/storage.module')\r\n          .then(m => m.StorageModule),\r\n      },\r\n      {\r\n        path: 'trash',\r\n        loadChildren: () => import('./trash/trash.module')\r\n          .then(m => m.TrashModule),\r\n      },\r\n      {\r\n        path: '',\r\n        redirectTo: '/auth/login',\r\n        pathMatch: 'full',\r\n      },\r\n      {\r\n        path: '**',\r\n        component: NotFoundComponent,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PagesRoutingModule {\r\n}\r\n","import { NbMenuService } from '@nebular/theme';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-not-found',\r\n  styleUrls: ['./not-found.component.scss'],\r\n  templateUrl: './not-found.component.html',\r\n})\r\nexport class NotFoundComponent {\r\n\r\n  constructor(private menuService: NbMenuService) {\r\n  }\r\n\r\n  goToHome() {\r\n    this.menuService.navigateHome();\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-md-12\">\r\n    <nb-card>\r\n      <nb-card-body>\r\n        <div class=\"flex-centered col-xl-4 col-lg-6 col-md-8 col-sm-12\">\r\n          <h2 class=\"title\">404 Ne postoji</h2>\r\n          <small class=\"sub-title\">Stranica koju ste traili ne postoji</small>\r\n          <button nbButton fullWidth (click)=\"goToHome()\" type=\"button\" class=\"home-button\">\r\n            Vrati me na poetnu\r\n          </button>\r\n        </div>\r\n      </nb-card-body>\r\n    </nb-card>\r\n  </div>\r\n</div>\r\n"]}