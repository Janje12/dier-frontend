{"version":3,"sources":["./src/app/pages/storage-containers/storage-disposal/storage-disposal.component.ts","./src/app/pages/storage-containers/storage-disposal/storage-disposal.component.html","./src/app/pages/storage-containers/storage-cache/storage-cache.component.ts","./src/app/pages/storage-containers/storage-cache/storage-cache.component.html","./src/app/@core/service/storage.service.ts","./src/app/pages/storage-containers/storage-containers.component.ts","./src/app/pages/storage-containers/storage-containers.component.html","./src/app/@core/service/toastr.service.ts","./src/app/pages/storage-containers/storage-disposal/storage-disposal.settings.ts","./src/app/pages/storage-containers/storage-production/storage-production.settings.ts","./src/app/@core/data/trash.ts","./src/app/@core/service/trash.service.ts","./src/app/@core/data/company.ts","./src/app/pages/storage-containers/storage.module.ts","./src/app/pages/storage-containers/storage-edit.settings.ts","./src/app/pages/storage-containers/storage-treatment/storage-treatment.component.ts","./src/app/pages/storage-containers/storage-treatment/storage-treatment.component.html","./src/app/@core/data/storage.ts","./src/app/pages/storage-containers/storage-meter/storage-meter.component.ts","./src/app/pages/storage-containers/storage-meter/storage-meter.component.html","./src/app/pages/storage-containers/storage-treatment/storage-treatment.settings.ts","./src/app/@core/service/company.service.ts","./src/app/pages/storage-containers/storage-production/storage-production.component.ts","./src/app/pages/storage-containers/storage-production/storage-production.component.html","./src/app/pages/storage-containers/storage-routing.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuG;AACzC;AACxB;AAI4B;AACI;AACF;AACI;AACU;AACjB;AACO;;;;;;;;;;;;;;;;;;;ICXtE,sEAAiD;IAC/C,8EAA6C;IAC7C,0EAAS;IACP,iFAAgB;IACd,yEAAiB;IACf,yEAAoB;IAClB,wEAAsB;IAAA,uDAAa;IAAA,4DAAK;IAC1C,4DAAM;IACN,yEAAoE;IAClE,8EAAgE;IAAnC,wTAAgB;IAAmB,4DAAU;IAC5E,4DAAM;IACR,4DAAM;IACR,4DAAiB;IACjB,gFAAc;IACZ,uFAG0D;IAHrB,2XAAkC;IAGb,4DAAkB;IAC9E,4DAAe;IACjB,4DAAU;IACZ,4DAAM;;;;IAnBW,0DAAa;IAAb,yEAAa;IAKE,0DAAa;IAAb,gGAAa;IAGW,0DAAiB;IAAjB,iFAAiB;IAKK,0DAA4B;IAA5B,4FAA4B;;;;IAU1G,sFACyD;IAAxC,+WAAuC;IAAC,4DAAkB;;;IAD1D,4EAAmB;;;;IAMpC,0FACqE;IAAhD,+XAA+C;IAAC,4DAAsB;;;IADtE,+FAA+B;;;;IAKpD,2FAEwE;IAAlD,mYAAiD;IAAC,4DAAuB;;;IAFzE,+FAA+B;;ADjBhD,MAAM,wBAAwB;IAwBnC,YAAoB,cAA8B,EAAU,aAA8B,EACtE,YAA0B,EAAU,WAAwB,EAC5D,aAA4B,EAAU,mBAAwC;QAF9E,mBAAc,GAAd,cAAc,CAAgB;QAAU,kBAAa,GAAb,aAAa,CAAiB;QACtE,iBAAY,GAAZ,YAAY,CAAc;QAAU,gBAAW,GAAX,WAAW,CAAa;QAC5D,kBAAa,GAAb,aAAa,CAAe;QAAU,wBAAmB,GAAnB,mBAAmB,CAAqB;QAdxF,uBAAkB,GAAG,IAAI,0DAAY,EAAU,CAAC;QAG1D,aAAQ,GAAQ,oFAAyB,CAAC;QAC1C,oBAAe,GAAQ,IAAI,CAAC,QAAQ,CAAC;QACrC,iBAAY,GAAQ,4EAAqB,CAAC;QAC1C,aAAQ,GAAW,MAAM,CAAC;QAE1B,yBAAoB,GAAY,EAAE,CAAC;QAEnC,2BAAsB,GAAkB,EAAE,CAAC;IAK3C,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,gBAAgB,GAAG,+CAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACnD,CAAC;IAEO,aAAa;QACnB,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC;IACjC,CAAC;IAED,IAAI;QACF,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI,CAAC,YAAY,EAAE;YAC9C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC;YACzC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;SACzB;aAAM;YACL,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC;YACrC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;SACxB;IACH,CAAC;IAED,YAAY,CAAC,KAAU,EAAE,OAAoB;QAC3C,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC;QACvC,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK;YACxB,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aACjC,IAAI,KAAK,CAAC,MAAM,KAAK,SAAS;YACjC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aACrC,IAAI,KAAK,CAAC,MAAM,KAAK,UAAU;YAClC,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAEO,kBAAkB,CAAC,KAAY;QACrC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAC5D,EAAC,KAAK,EAAE,yBAAyB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAC,CAAC,CAAC;IAClE,CAAC;IAED,cAAc,CAAC,EAAC,YAAY,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAC;QAC3F,IAAI,IAAI,CAAC,uBAAuB,CAAC,SAAS,GAAG,IAAI,CAAC,uBAAuB,CAAC,MAAM,GAAG,YAAY,EAAE;YAC/F,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,4EAA4E;kBAC/G,IAAI,CAAC,uBAAuB,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,uBAAuB,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YACxG,OAAO;SACR;QACD,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,YAAY,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,uBAAuB,CAAC,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,KAAK,EAC/G,WAAW,EAAE,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YACvC,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,qBAAqB,GAAG,YAAY,GAAG,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,gBAAgB,EAChI,SAAS,CAAC,CAAC;QACb,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,YAAY,GAAG,GAAG,CAAC;IACrB,CAAC;IAEO,sBAAsB,CAAC,KAAY;QACzC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAChE,EAAC,KAAK,EAAE,4BAA4B,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAC,CAAC,CAAC;IACrE,CAAC;IAED,kBAAkB,CAAC,EACE,mBAAmB,EAAE,mBAAmB,EACxC,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY,GACvD;QAClB,IAAI,IAAI,CAAC,uBAAuB,CAAC,MAAM,GAAG,YAAY,GAAG,CAAC,EAAE;YAC1D,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,wEAAwE;kBAC3G,IAAI,CAAC,uBAAuB,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,uBAAuB,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YACrG,OAAO;SACR;QACD,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,YAAY,CAAC;QAC1C,MAAM,WAAW,GAAG,YAAY,CAAC,CAAC;YAChC,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACjG,MAAM,UAAU,GAAG,YAAY,CAAC,CAAC;YAC/B,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACrF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,uBAAuB,CAAC,GAAG,EAChF,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,KAAK,EAC7B,WAAW,EAAE,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YACvC,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,IAAI,mBAAmB,KAAK,GAAG,EAAE;YAC/B,mBAAmB,CAAC,QAAQ,GAAG,IAAI,CAAC;YACpC,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YACvG,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,uBAAuB,GAAG,YAAY,GAAG,QAAQ;cACnF,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,gBAAgB,EAC5C,SAAS,CAAC,CAAC;QACb,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,YAAY,GAAG,GAAG,CAAC;IACrB,CAAC;IAED,uBAAuB,CAAC,KAAY;QAClC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;aACxG,SAAS,CAAC,CAAC,CAAC,EAAE;YACb,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,EACjE,EAAC,KAAK,EAAE,sCAAsC,EAAC,CAAC,CAAC;IACrD,CAAC;IAED,mBAAmB,CAAC,EACE,mBAAmB,EAAE,mBAAmB,EAAE,oBAAoB,EAAE,oBAAoB,EACpF,eAAe,EAAE,eAAe,GACjC;QACnB,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,oBAAoB,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;YAC1C,IAAI,eAAe,CAAC,SAAS,GAAG,eAAe,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,IAAI,CAAC,OAAO,EAAE;gBACxF,OAAO,GAAG,KAAK,CAAC;gBAChB,OAAO;aACR;YACD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,EAAE,YAAY,CAAC,WAAW,EACvF,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBACzD,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,EAAE;YACZ,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,4EAA4E;kBAC/G,eAAe,CAAC,SAAS,GAAG,GAAG,GAAG,eAAe,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YAC9E,OAAO;SACR;QACD,mBAAmB,CAAC,WAAW,GAAG,IAAI,CAAC;QACvC,mBAAmB,CAAC,KAAK,GAAG,IAAI,CAAC;QACjC,mBAAmB,CAAC,QAAQ,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;QACvG,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,4BAA4B,EAAE,SAAS,CAAC,CAAC;QAC/E,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAED,WAAW,CAAC,EAAC,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAC,EAAE,OAAoB;QAClE,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC;QACvC,IAAI;YACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,uBAAuB,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAC9F,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,sBAAsB,GAAG,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;SACxF;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,MAAM,EAAE,CAAC;YACjB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,EAAE,mDAAmD,GAAG,KAAK,CAAC,IAAI;gBACtG,iCAAiC,EAAE,QAAQ,CAAC,CAAC;SAChD;IACH,CAAC;IAED,WAAW,CAAC,EAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAC,EAAE,OAAoB;QAC/D,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC;QACvC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,0CAA0C,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC;YACjF,OAAO;QACT,IAAI;YACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBACvF,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,uBAAuB,GAAG,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;SACzF;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,MAAM,EAAE,CAAC;YACjB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,EAAE,kDAAkD,GAAG,KAAK,CAAC,IAAI;gBACrG,iCAAiC,EAAE,QAAQ,CAAC,CAAC;SAChD;IACH,CAAC;;gGA3LU,wBAAwB;wGAAxB,wBAAwB;0EACG,yDAAW;0EACP,yDAAW;0EACV,yDAAW;;;;;;;QCtBxD,yEAA6B;QAC3B,qHAoBM;;QACR,4DAAM;QAEN,gNAIc;QAEd,gNAGc;QAEd,gNAIc;;QAtCO,0DAA4B;QAA5B,0JAA4B;;;;;;;;;;;;;;ACDjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuG;AACzC;AACxB;AAGgC;AACF;AACI;AACP;AAC+B;;;;;;;;;;;;;ICR9F,sEAA6C;IAC3C,8EAA6C;IAC7C,0EAAS;IACP,iFAAgB;IACd,yEAAiB;IACf,yEAAoB;IAClB,wEAAsB;IAAA,uDAAa;IAAA,4DAAK;IAC1C,4DAAM;IACN,yEAAoE;IAClE,6EAAgE;IAAnC,qTAAgB;IAAmB,4DAAU;IAC5E,4DAAM;IACR,4DAAM;IACR,4DAAiB;IACjB,gFAAc;IACZ,sFAG0D;IAHrB,sXAAkC;IAGb,4DAAkB;IAC9E,4DAAe;IACjB,4DAAU;IACZ,4DAAM;;;;IAnBW,0DAAa;IAAb,yEAAa;IAKE,0DAAa;IAAb,gGAAa;IAGW,0DAAiB;IAAjB,iFAAiB;IAKK,0DAA4B;IAA5B,4FAA4B;;;;IAU1G,sFAA0G;IAAxC,0WAAuC;IAAC,4DAAkB;;;IAA3G,yEAAgB;;ADT5B,MAAM,qBAAqB;IAehC,YAAoB,cAA8B,EAAU,aAA8B,EACtE,YAA0B,EAAU,aAA4B;QADhE,mBAAc,GAAd,cAAc,CAAgB;QAAU,kBAAa,GAAb,aAAa,CAAiB;QACtE,iBAAY,GAAZ,YAAY,CAAc;QAAU,kBAAa,GAAb,aAAa,CAAe;QAT1E,uBAAkB,GAAG,IAAI,0DAAY,EAAU,CAAC;QAG1D,aAAQ,GAAQ,2GAA2B,CAAC;QAC5C,oBAAe,GAAQ,IAAI,CAAC,QAAQ,CAAC;QACrC,iBAAY,GAAQ,4EAAqB,CAAC;QAC1C,aAAQ,GAAW,MAAM,CAAC;IAI1B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,aAAa,GAAG,+CAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC7C,CAAC;IAED,aAAa;QACX,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,+CAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC7C,CAAC;IAED,IAAI;QACF,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI,CAAC,YAAY,EAAE;YAC9C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC;YACzC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;SACzB;aAAM;YACL,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC;YACrC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;SACxB;IACH,CAAC;IAED,YAAY,CAAC,KAAU,EAAE,OAAqB;QAC5C,IAAI,CAAC,oBAAoB,GAAG,OAAO,CAAC;QACpC,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK;YACxB,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAEO,kBAAkB,CAAC,KAAY;QACrC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAC5D,EAAC,KAAK,EAAE,8BAA8B,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAC,CAAC,CAAC;IACvE,CAAC;IAED,cAAc,CAAC,EAAC,YAAY,EAAE,YAAY,EAAC;QACzC,IAAI,IAAI,CAAC,oBAAoB,CAAC,MAAM,GAAG,YAAY,GAAG,CAAC,EAAE;YACvD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,wEAAwE;kBAC3G,IAAI,CAAC,oBAAoB,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,oBAAoB,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YAC/F,OAAO;SACR;QACD,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,YAAY,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,oBAAoB,CAAC,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;YACxG,SAAS,CAAC,CAAC,CAAC,EAAE;YACZ,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,qBAAqB,GAAG,YAAY,GAAG,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,gBAAgB,EAChI,SAAS,CAAC,CAAC;QACb,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,YAAY,GAAG,GAAG,CAAC;IACrB,CAAC;IAED,WAAW,CAAC,EAAC,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAC,EAAE,OAAqB;QACnE,IAAI,CAAC,oBAAoB,GAAG,OAAO,CAAC;QACpC,IAAI;YACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,oBAAoB,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAC3F,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,sBAAsB,GAAG,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;SACxF;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,MAAM,EAAE,CAAC;YACjB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,EAAE,mDAAmD,GAAG,KAAK,CAAC,IAAI;gBACtG,iCAAiC,EAAE,QAAQ,CAAC,CAAC;SAChD;IACH,CAAC;IAED,WAAW,CAAC,EAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAC,EAAE,OAAqB;QAChE,IAAI,CAAC,oBAAoB,GAAG,OAAO,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,0CAA0C,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC;YACjF,OAAO;QACT,IAAI;YACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,oBAAoB,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBACpF,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,uBAAuB,GAAG,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;SACzF;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,MAAM,EAAE,CAAC;YACjB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,EAAE,kDAAkD,GAAG,KAAK,CAAC,IAAI;gBACrG,iCAAiC,EAAE,QAAQ,CAAC,CAAC;SAChD;IACH,CAAC;;0FAjGU,qBAAqB;qGAArB,qBAAqB;0EACM,yDAAW;;;;;QCjBnD,yEAA6B;QAC3B,kHAoBM;;QACR,4DAAM;QAEN,6MAEc;;QAzBO,0DAAwB;QAAxB,uJAAwB;;;;;;;;;;;;;;ACD7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACJ;AAGkB;AACT;;;;AAGhD,MAAM,cAAe,SAAQ,yDAAW;IAG7C,YAAoB,IAAgB,EAAU,WAA0B;QACtE,KAAK,EAAE,CAAC;QADU,SAAI,GAAJ,IAAI,CAAY;QAAU,gBAAW,GAAX,WAAW,CAAe;QAEtE,IAAI,CAAC,MAAM,GAAG,qEAAW,CAAC,MAAM,CAAC;IACnC,CAAC;IAED,aAAa,CAAC,OAAgB;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAU,IAAI,CAAC,MAAM,GAAG,cAAc,EAAE,OAAO,CAAC,CAAC;IACxE,CAAC;IAED,aAAa,CAAC,KAAa,EAAE,OAAe,KAAK;QAC/C,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAU,IAAI,CAAC,MAAM,GAAG,mBAAmB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,CAAC,CAAC;IAC3F,CAAC;IAED,UAAU,CAAC,KAAa,EAAE,OAAe,KAAK;QAC5C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAU,IAAI,CAAC,MAAM,GAAG,mBAAmB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,CAAC,CAAC;IACxF,CAAC;IAED,WAAW,CAAC,KAAa,EAAE,IAAY;QACrC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAY,IAAI,CAAC,MAAM,GAAG,oBAAoB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,CAAC,CAAC;IAC3F,CAAC;IAED,aAAa,CAAC,OAAgB,EAAE,KAAa,EAAE,OAAe,KAAK;QACjE,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAU,IAAI,CAAC,MAAM,GAAG,mBAAmB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,EAAE,OAAO,CAAC,CAAC;IACnG,CAAC;IAED,mBAAmB,CAAC,SAAiB,EAAE,cAAsB,KAAK;QAChE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAY,IAAI,CAAC,MAAM,GAAG,wBAAwB,GAAG,GAAG,SAAS,IAAI,WAAW,EAAE,CAAC,CAAC;IAC1G,CAAC;;4EA9BU,cAAc;iGAAd,cAAc,WAAd,cAAc;;;;;;;;;;;;;ACN3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+D;AACM;;;;;;;;;;;ICFnE,sEAA+C;IAC7C,wFAAyF;IAAvC,wWAAsC;IAAC,4DAAqB;IAChH,4DAAM;;;IADgB,0DAA6B;IAA7B,6FAA6B;;;;IAEnD,sEAA8C;IAC5C,uFAC8D;IAAvC,uWAAsC;IAAC,4DAAoB;IACpF,4DAAM;;;IAFe,0DAAqC;IAArC,qGAAqC;;;;IAG1D,sEAA6C;IAC3C,kFAC+D;IAAvC,kWAAsC;IAAC,4DAAe;IAChF,4DAAM;;;IAFU,0DAAmC;IAAnC,mGAAmC;;;;IAGnD,sEAA0C;IACxC,mFAAoF;IAAvC,sWAAsC;IAAC,4DAAgB;IACtG,4DAAM;;;IADW,0DAA6B;IAA7B,6FAA6B;;ADHzC,MAAM,0BAA0B;IAUrC,YAAoB,WAAwB,EAAU,cAA8B;QAAhE,gBAAW,GAAX,WAAW,CAAa;QAAU,mBAAc,GAAd,cAAc,CAAgB;QAPpF,eAAU,GAAc,EAAE,CAAC;QAC3B,sBAAiB,GAAc,EAAE,CAAC;QAClC,qBAAgB,GAAuB,EAAE,CAAC;QAC1C,oBAAe,GAAkB,EAAE,CAAC;QACpC,iBAAY,GAAmB,EAAE,CAAC;QAClC,YAAO,GAAY,KAAK,CAAC;IAGzB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YAC7C,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,aAAa;QACX,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;QAC5B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAE,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YACtF,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE;gBAC/B,IAAI,CAAC,CAAC,GAAG,KAAK,SAAS;oBACrB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;qBAC5B,IAAI,CAAC,CAAC,GAAG,KAAK,kBAAkB;oBACnC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAmB,CAAC,CAAC,CAAC;qBAC7C,IAAI,CAAC,CAAC,GAAG,KAAK,aAAa;oBAC9B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAc,CAAC,CAAC,CAAC;qBACvC,IAAI,CAAC,CAAC,GAAG,KAAK,cAAc;oBAC/B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAe,CAAC,CAAC,CAAC;aAC3C;YACD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,CAAC,CAAC,CAAC;IACL,CAAC;;oGAzCU,0BAA0B;0GAA1B,0BAA0B;QCVvC,yEAA6B;QAC3B,sHAEM;QACN,sHAGM;QACN,sHAGM;QACN,sHAEM;QACR,4DAAM;;QAdE,0DAAuC;QAAvC,2GAAuC;QAGvC,0DAAsC;QAAtC,0GAAsC;QAItC,0DAAqC;QAArC,yGAAqC;QAIrC,0DAAkC;QAAlC,sGAAkC;;;;;;;;;;;;;;ACX1C;AAAA;AAAA;AAAA;AAAoE;;;AAK7D,MAAM,aAAa;IAExB,YAAoB,aAA8B;QAA9B,kBAAa,GAAb,aAAa,CAAiB;IAClD,CAAC;IAED,SAAS,CAAC,KAAa,EAAE,OAAe,EAAE,MAAyB,EAAE,WAAmB,IAAI;QAC1F,IAAI,CAAC,aAAa,CAAC,IAAI,CACrB,OAAO,EACP,KAAK,EACL,EAAC,MAAM,EAAE,QAAQ,EAAC,CAAC,CAAC;IACxB,CAAC;;0EAVU,aAAa;gGAAb,aAAa,WAAb,aAAa,mBAFZ,MAAM;;;;;;;;;;;;;ACJpB;AAAA;AAAO,MAAM,yBAAyB,GAAQ;IAC5C,aAAa,EAAE,IAAI;IACnB,OAAO,EAAE;QACP,WAAW,EAAE,2CAA2C;QACxD,QAAQ,EAAE,OAAO;QACjB,IAAI,EAAE,KAAK;QACX,GAAG,EAAE,KAAK;QACV,MAAM,EAAE,KAAK;QACb,MAAM,EAAE;YACN;gBACE,IAAI,EAAE,KAAK;gBACX,KAAK,EAAE,4BAA4B;aACpC;YACD;gBACE,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,iCAAiC;aACzC;YACD;gBACE,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,4CAA4C;aACpD;SACF;KACF;IACD,OAAO,EAAE;QACP,WAAW,EAAE;YACX,KAAK,EAAE,eAAe;SACvB;QACD,IAAI,EAAE;YACJ,KAAK,EAAE,OAAO;SACf;QACD,IAAI,EAAE;YACJ,KAAK,EAAE,MAAM;SACd;QACD,MAAM,EAAE;YACN,KAAK,EAAE,eAAe;SACvB;KACF;CACF,CAAC;;;;;;;;;;;;;ACrCF;AAAA;AAAO,MAAM,2BAA2B,GAAQ;IAC9C,aAAa,EAAE,IAAI;IACnB,OAAO,EAAE;QACP,WAAW,EAAE,oBAAoB;QACjC,QAAQ,EAAE,OAAO;QACjB,GAAG,EAAE,KAAK;QACV,IAAI,EAAE,KAAK;QACX,MAAM,EAAE,KAAK;QACb,MAAM,EAAE;YACN;gBACE,IAAI,EAAE,KAAK;gBACX,KAAK,EAAE,mCAAmC;aAC3C;SACF;KACF;IACD,OAAO,EAAE;QACP,WAAW,EAAE;YACX,KAAK,EAAE,eAAe;SACvB;QACD,IAAI,EAAE;YACJ,KAAK,EAAE,OAAO;SACf;QACD,IAAI,EAAE;YACJ,KAAK,EAAE,MAAM;SACd;QACD,MAAM,EAAE;YACN,KAAK,EAAE,eAAe;SACvB;KACF;CACF,CAAC;;;;;;;;;;;;;ACZF;AAAA;AAAO,MAAe,SAAS;CAM9B;;;;;;;;;;;;;ACvBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAGc;AACf;;;AAG1C,MAAM,YAAa,SAAQ,qDAAS;IAGzC,YAAoB,IAAgB;QAClC,KAAK,EAAE,CAAC;QADU,SAAI,GAAJ,IAAI,CAAY;QAElC,IAAI,CAAC,MAAM,GAAG,qEAAW,CAAC,MAAM,CAAC;IACnC,CAAC;IAED,WAAW,CAAC,KAAY,EAAE,SAAiB;QACzC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAQ,IAAI,CAAC,MAAM,GAAG,YAAY,EAAE,EAAC,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAC,CAAC,CAAC;IACjG,CAAC;IAED,WAAW,CAAC,SAAiB,EAAE,KAAa,EAAE,OAAe,KAAK;QAChE,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAQ,IAAI,CAAC,MAAM,GAAG,iBAAiB,GAAG,GAAG,IAAI,IAAI,KAAK,IAAI,SAAS,EAAE,CAAC,CAAC;IACpG,CAAC;IAED,QAAQ,CAAC,KAAa,EAAE,OAAe,KAAK;QAC1C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAQ,IAAI,CAAC,MAAM,GAAG,iBAAiB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,CAAC,CAAC;IACpF,CAAC;IAED,UAAU,CAAC,KAAa,EAAE,IAAY;QACpC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAU,IAAI,CAAC,MAAM,GAAG,kBAAkB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,CAAC,CAAC;IACvF,CAAC;IAED,WAAW,CAAC,KAAY,EAAE,SAAiB,EAAE,KAAa,EAAE,OAAe,KAAK,EACpE,WAAoB,EAAE,UAAmB,EAAE,SAAmB;QACxE,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAQ,IAAI,CAAC,MAAM,GAAG,iBAAiB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,EAChF,EAAC,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG,EAAE,SAAS,EAAC,CAAC,CAAC;IAC5G,CAAC;;wEA5BU,YAAY;+FAAZ,YAAY,WAAZ,YAAY;;;;;;;;;;;;;ACuBzB;AAAA;AAAO,MAAe,WAAW;CAMhC;;;;;;;;;;;;;ACnCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqE;AAEU;AACvB;AACmB;AACC;AACP;AAS7C;AAC8B;AACT;AACkD;AAC/B;AAC4B;AACH;AACT;AACA;;AAwCzE,MAAM,aAAa;;0EAAb,aAAa;6FAAb,aAAa;kGATb;QACT,4EAAc;QACd,4EAAc;QACd,sFAAmB;KACpB,YAhCQ;YACP,+DAAW;YACX,6EAAoB;YACpB,2DAAY;YACZ,mEAAmB;YACnB,0DAAW;YACX,4DAAa;YACb,8DAAe;YACf,2DAAY;YACZ,6DAAc;YACd,mEAAoB;YACpB,6DAAc;YACd,kEAAmB;YACnB,+DAAgB;YAChB,2DAAY;YACZ,6DAAc;YACd,6DAAc;YACd,gEAAiB;YACjB,sFAAkB;SACnB;oIAkBU,aAAa,mBAhBtB,wFAA0B;QAC1B,2GAA0B;QAC1B,yGAAyB;QACzB,sGAAwB;QACxB,6FAAqB;QACrB,6FAAqB,aAzBrB,+DAAW;QACX,6EAAoB;QACpB,2DAAY;QACZ,mEAAmB;QACnB,0DAAW;QACX,4DAAa;QACb,8DAAe;QACf,2DAAY;QACZ,6DAAc;QACd,mEAAoB;QACpB,6DAAc;QACd,kEAAmB;QACnB,+DAAgB;QAChB,2DAAY;QACZ,6DAAc;QACd,6DAAc;QACd,gEAAiB;QACjB,sFAAkB,aAgBlB,6FAAqB;;;;;;;;;;;;;AC7DzB;AAAA;AAAO,MAAM,qBAAqB,GAAQ;IACxC,IAAI,EAAE;QACJ,WAAW,EAAE,IAAI;QACjB,iBAAiB,EAAE,4BAA4B;QAC/C,iBAAiB,EAAE,6BAA6B;QAChD,mBAAmB,EAAE,6BAA6B;KACnD;IACD,MAAM,EAAE;QACN,aAAa,EAAE,IAAI;QACnB,mBAAmB,EAAE,6BAA6B;QAClD,iBAAiB,EAAE,MAAM;QACzB,mBAAmB,EAAE,QAAQ;KAC9B;IACD,OAAO,EAAE;QACP,QAAQ,EAAE,OAAO;QACjB,GAAG,EAAE,KAAK;QACV,IAAI,EAAE,IAAI;QACV,MAAM,EAAE,IAAI;KACb;IACD,OAAO,EAAE;QACP,WAAW,EAAE;YACX,KAAK,EAAE,eAAe;YACtB,QAAQ,EAAE,KAAK;SAChB;QACD,IAAI,EAAE;YACJ,KAAK,EAAE,OAAO;SACf;QACD,IAAI,EAAE;YACJ,KAAK,EAAE,MAAM;SACd;QACD,MAAM,EAAE;YACN,KAAK,EAAE,eAAe;YACtB,QAAQ,EAAE,KAAK;SAChB;KACF;CACF,CAAC;;;;;;;;;;;;;ACnCF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuG;AACzC;AACxB;AAI4B;AACI;AACF;AACI;AACU;AACjB;AACS;;;;;;;;;;;;;;;;;;;ICXxE,sEAAkD;IAChD,8EAA6C;IAC7C,0EAAS;IACP,iFAAgB;IACd,yEAAiB;IACf,yEAAoB;IAClB,wEAAsB;IAAA,uDAAa;IAAA,4DAAK;IAC1C,4DAAM;IACN,yEAAoE;IAClE,8EAAgE;IAAnC,yTAAgB;IAAmB,4DAAU;IAC5E,4DAAM;IACR,4DAAM;IACR,4DAAiB;IACjB,gFAAc;IACZ,uFAG0D;IAHzC,4XAAkC;IAGO,4DAAkB;IAC9E,4DAAe;IACjB,4DAAU;IACZ,4DAAM;;;;IAnBW,0DAAa;IAAb,yEAAa;IAKE,0DAAa;IAAb,gGAAa;IAGW,0DAAiB;IAAjB,iFAAiB;IAKf,0DAA4B;IAA5B,4FAA4B;;;;IAStF,sFACyD;IAAxC,gXAAuC;IAAC,4DAAkB;;;IAD1D,6EAAoB;;;;IAMrC,0FACqE;IAAhD,gYAA+C;IAAC,4DAAsB;;;IADtE,+FAA+B;;;;IAKpD,2FAEwE;IAAlD,oYAAiD;IAAC,4DAAuB;;;IAFzE,+FAA+B;;ADhBhD,MAAM,yBAAyB;IAqBpC,YAAoB,cAA8B,EAAU,aAA8B,EACtE,YAA0B,EAAU,mBAAwC,EAC5E,aAA4B,EAAU,WAAwB;QAF9D,mBAAc,GAAd,cAAc,CAAgB;QAAU,kBAAa,GAAb,aAAa,CAAiB;QACtE,iBAAY,GAAZ,YAAY,CAAc;QAAU,wBAAmB,GAAnB,mBAAmB,CAAqB;QAC5E,kBAAa,GAAb,aAAa,CAAe;QAAU,gBAAW,GAAX,WAAW,CAAa;QAbxE,uBAAkB,GAAG,IAAI,0DAAY,EAAU,CAAC;QAG1D,aAAQ,GAAQ,sFAA0B,CAAC;QAC3C,oBAAe,GAAQ,IAAI,CAAC,QAAQ,CAAC;QACrC,iBAAY,GAAQ,4EAAqB,CAAC;QAC1C,aAAQ,GAAW,MAAM,CAAC;QAE1B,yBAAoB,GAAY,EAAE,CAAC;QACnC,2BAAsB,GAAkB,EAAE,CAAC;IAK3C,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,iBAAiB,GAAG,+CAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACrD,CAAC;IAEO,aAAa;QACnB,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC;IACjC,CAAC;IAED,IAAI;QACF,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI,CAAC,YAAY,EAAE;YAC9C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC;YACzC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;SACzB;aAAM;YACL,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC;YACrC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;SACxB;IACH,CAAC;IAED,YAAY,CAAC,KAAU,EAAE,OAAyB;QAChD,IAAI,CAAC,wBAAwB,GAAG,OAAO,CAAC;QACxC,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK;YACxB,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aACjC,IAAI,KAAK,CAAC,MAAM,KAAK,SAAS;YACjC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aACrC,IAAI,KAAK,CAAC,MAAM,KAAK,UAAU;YAClC,IAAI,CAAC,uBAAuB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAEO,kBAAkB,CAAC,KAAY;QACrC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAC5D,EAAC,KAAK,EAAE,yBAAyB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAC,CAAC,CAAC;IAClE,CAAC;IAED,cAAc,CAAC,EAAC,YAAY,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAC;QAC3F,IAAI,IAAI,CAAC,wBAAwB,CAAC,SAAS,GAAG,IAAI,CAAC,wBAAwB,CAAC,MAAM,GAAG,YAAY,EAAE;YACjG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,4EAA4E;kBAC/G,IAAI,CAAC,wBAAwB,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,wBAAwB,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YAC1G,OAAO;SACR;QACD,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,YAAY,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,wBAAwB,CAAC,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,KAAK,EAChH,WAAW,EAAE,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YACvC,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAClC,qBAAqB,GAAG,YAAY,GAAG,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,gBAAgB,EAC5F,SAAS,CAAC,CAAC;QACb,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,YAAY,GAAG,GAAG,CAAC;IACrB,CAAC;IAEO,sBAAsB,CAAC,KAAY;QACzC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAChE,EAAC,KAAK,EAAE,4BAA4B,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAC,CAAC,CAAC;IACrE,CAAC;IAED,kBAAkB,CAAC,EACE,mBAAmB,EAAE,mBAAmB,EACxC,YAAY,EAAE,YAAY,EAAE,YAAY,EAAE,YAAY,GACvD;QAClB,IAAI,IAAI,CAAC,wBAAwB,CAAC,MAAM,GAAG,YAAY,GAAG,CAAC,EAAE;YAC3D,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,wEAAwE;kBAC3G,IAAI,CAAC,wBAAwB,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,wBAAwB,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YACvG,OAAO;SACR;QACD,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,YAAY,CAAC;QAC1C,MAAM,WAAW,GAAG,YAAY,CAAC,CAAC;YAChC,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACjG,MAAM,UAAU,GAAG,YAAY,CAAC,CAAC;YAC/B,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QACrF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,wBAAwB,CAAC,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,KAAK,EAChH,WAAW,EAAE,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YACvC,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,IAAI,mBAAmB,KAAK,GAAG,EAAE;YAC/B,mBAAmB,CAAC,QAAQ,GAAG,IAAI,CAAC;YACpC,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YACvG,CAAC,CAAC,CAAC;SACJ;QACD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,uBAAuB,GAAG,YAAY,GAAG,QAAQ;cACnF,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,gBAAgB,EAC5C,SAAS,CAAC,CAAC;QACb,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,YAAY,GAAG,GAAG,CAAC;IACrB,CAAC;IAED,uBAAuB,CAAC,KAAY;QAClC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;aACxG,SAAS,CAAC,CAAC,CAAC,EAAE;YACb,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,qBAAqB,EACjE,EAAC,KAAK,EAAE,sCAAsC,EAAC,CAAC,CAAC;IACrD,CAAC;IAED,mBAAmB,CAAC,EACE,mBAAmB,EAAE,mBAAmB,EAAE,oBAAoB,EAAE,oBAAoB,EACpF,eAAe,EAAE,eAAe,GACjC;QACnB,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,oBAAoB,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;YAC1C,IAAI,eAAe,CAAC,SAAS,GAAG,eAAe,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,IAAI,CAAC,OAAO,EAAE;gBACxF,OAAO,GAAG,KAAK,CAAC;gBAChB,OAAO;aACR;YACD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,EAC7D,YAAY,CAAC,WAAW,EAAE,aAAa,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBACnF,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,EAAE;YACZ,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,4EAA4E;kBAC/G,eAAe,CAAC,SAAS,GAAG,GAAG,GAAG,eAAe,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YAC9E,OAAO;SACR;QACD,mBAAmB,CAAC,WAAW,GAAG,IAAI,CAAC;QACvC,mBAAmB,CAAC,KAAK,GAAG,IAAI,CAAC;QACjC,mBAAmB,CAAC,QAAQ,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;QACvG,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAAE,4BAA4B,EAAE,SAAS,CAAC,CAAC;QAC/E,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;IAED,WAAW,CAAC,EAAC,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAC,EAAE,OAAyB;QACvE,IAAI,CAAC,wBAAwB,GAAG,OAAO,CAAC;QACxC,IAAI;YACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,wBAAwB,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAC/F,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,sBAAsB,GAAG,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;SACxF;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,MAAM,EAAE,CAAC;YACjB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,EAAE,mDAAmD,GAAG,KAAK,CAAC,IAAI;gBACtG,iCAAiC,EAAE,QAAQ,CAAC,CAAC;SAChD;IACH,CAAC;IAED,WAAW,CAAC,EAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAC,EAAE,OAAyB;QACpE,IAAI,CAAC,wBAAwB,GAAG,OAAO,CAAC;QACxC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,0CAA0C,GAAG,KAAK,CAAC,KAAK,GAAG,GAAG,CAAC;YACjF,OAAO;QACT,IAAI;YACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,wBAAwB,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBACxF,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,uBAAuB,GAAG,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;SACzF;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,MAAM,EAAE,CAAC;YACjB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,EAAE,kDAAkD,GAAG,KAAK,CAAC,IAAI;gBACrG,iCAAiC,EAAE,QAAQ,CAAC,CAAC;SAChD;IACH,CAAC;;kGAvLU,yBAAyB;yGAAzB,yBAAyB;0EACE,yDAAW;0EACP,yDAAW;0EACV,yDAAW;;;;;;;QCtBxD,yEAA6B;QAC3B,sHAoBM;;QACR,4DAAM;QACN,iNAIc;QAEd,iNAGc;QAEd,iNAIc;;QArCO,0DAA6B;QAA7B,2JAA6B;;;;;;;;;;;;;;AC6BlD;AAAA;AAAO,MAAe,WAAW;CAMhC;;;;;;;;;;;;;;;;;;;AC3BM,MAAM,qBAAqB;IAGhC,gBAAgB,CAAC;IAEjB,QAAQ;IACR,CAAC;IAED,eAAe;QACb,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,GAAG,GAAG,EAAE;YAC3D,OAAO,SAAS,CAAC;aACd,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,GAAG,GAAG,EAAE;YAChE,OAAO,SAAS,CAAC;;YAEjB,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,cAAc;QACZ,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC;IAC9D,CAAC;;0FAnBU,qBAAqB;qGAArB,qBAAqB;QCTlC,yEAAiB;QACf,yEAAkD;QAChD,0EAAgC;QAAA,uDAAkE;QAAA,4DAAO;QAC3G,4DAAM;QACN,yEAAoB;QAClB,gFACkB;QACpB,4DAAM;QACR,4DAAM;;QAN8B,0DAAkE;QAAlE,wJAAkE;QAGjF,0DAA0B;QAA1B,uFAA0B;;;;;;;;;;;;;;ACL/C;AAAA;AAAO,MAAM,0BAA0B,GAAQ;IAC7C,aAAa,EAAE,IAAI;IACnB,OAAO,EAAE;QACP,WAAW,EAAE,yCAAyC;QACtD,QAAQ,EAAE,OAAO;QACjB,GAAG,EAAE,KAAK;QACV,IAAI,EAAE,KAAK;QACX,MAAM,EAAE,KAAK;QACb,MAAM,EAAE;YACN;gBACE,IAAI,EAAE,KAAK;gBACX,KAAK,EAAE,4BAA4B;aACpC;YACD;gBACE,IAAI,EAAE,SAAS;gBACf,KAAK,EAAG,qCAAqC;aAC9C;YACD;gBACE,IAAI,EAAE,UAAU;gBAChB,KAAK,EAAE,4CAA4C;aACpD;SACF;KACF;IACD,OAAO,EAAE;QACP,WAAW,EAAE;YACX,KAAK,EAAE,eAAe;SACvB;QACD,IAAI,EAAE;YACJ,KAAK,EAAE,OAAO;SACf;QACD,IAAI,EAAE;YACJ,KAAK,EAAE,MAAM;SACd;QACD,MAAM,EAAE;YACN,KAAK,EAAE,UAAU;SAClB;KACF;CACF,CAAC;;;;;;;;;;;;;ACrCF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAGc;AACT;;;AAGhD,MAAM,cAAe,SAAQ,yDAAW;IAG7C,YAAoB,IAAgB;QAClC,KAAK,EAAE,CAAC;QADU,SAAI,GAAJ,IAAI,CAAY;QAElC,IAAI,CAAC,MAAM,GAAG,qEAAW,CAAC,MAAM,CAAC;IACnC,CAAC;IAED,aAAa,CAAC,OAAgB;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAU,IAAI,CAAC,MAAM,GAAG,cAAc,EAAE,OAAO,CAAC,CAAC;IACxE,CAAC;IAED,aAAa,CAAC,KAAa,EAAE,OAAe,KAAK;QAC/C,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAU,IAAI,CAAC,MAAM,GAAG,mBAAmB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,CAAC,CAAC;IAC3F,CAAC;IAED,UAAU,CAAC,KAAa,EAAE,OAAe,KAAK;QAC5C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAU,IAAI,CAAC,MAAM,GAAG,mBAAmB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,CAAC,CAAC;IACxF,CAAC;IAED,WAAW,CAAC,QAAgB,KAAK,EAAE,IAAY;QAC7C,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAY,IAAI,CAAC,MAAM,GAAG,oBAAoB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,CAAC,CAAC;IAC3F,CAAC;IAED,aAAa,CAAC,OAAgB,EAAE,KAAa,EAAE,OAAe,KAAK;QACjE,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAU,IAAI,CAAC,MAAM,GAAG,mBAAmB,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,EAAE,OAAO,CAAC,CAAC;IACnG,CAAC;;4EA1BU,cAAc;iGAAd,cAAc,WAAd,cAAc;;;;;;;;;;;;;ACP3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuG;AACL;AAC5D;AAGgC;AACF;AACI;AACP;AACW;;;;;;;;;;;;;ICR1E,sEAAwC;IACtC,8EAA6C;IAC7C,0EAAS;IACP,iFAAgB;IACd,yEAAiB;IACf,yEAAoB;IAClB,wEAAsB;IAAA,uDAAa;IAAA,4DAAK;IAC1C,4DAAM;IACN,yEAAoE;IAClE,6EAAgE;IAAnC,0TAAgB;IAAmB,4DAAU;IAC5E,4DAAM;IACR,4DAAM;IACR,4DAAiB;IACjB,gFAAc;IACZ,sFAG0D;IAHrB,2XAAkC;IAGb,4DAAkB;IAC9E,4DAAe;IACjB,4DAAU;IACZ,4DAAM;;;;IAnBW,0DAAa;IAAb,yEAAa;IAKE,0DAAa;IAAb,gGAAa;IAGW,0DAAiB;IAAjB,iFAAiB;IAKK,0DAA4B;IAA5B,4FAA4B;;;;IAU1G,sFAA+G;IAAxC,+WAAuC;IAAC,4DAAkB;;;IAAhH,8EAAqB;;ADTjC,MAAM,0BAA0B;IAerC,YAAoB,cAA8B,EAAU,aAA8B,EACtE,YAA0B,EAAU,aAA4B;QADhE,mBAAc,GAAd,cAAc,CAAgB;QAAU,kBAAa,GAAb,aAAa,CAAiB;QACtE,iBAAY,GAAZ,YAAY,CAAc;QAAU,kBAAa,GAAb,aAAa,CAAe;QAT1E,uBAAkB,GAAG,IAAI,0DAAY,EAAU,CAAC;QAG1D,aAAQ,GAAQ,wFAA2B,CAAC;QAC5C,oBAAe,GAAQ,IAAI,CAAC,QAAQ,CAAC;QACrC,iBAAY,GAAQ,4EAAqB,CAAC;QAC1C,aAAQ,GAAW,MAAM,CAAC;IAI1B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,+CAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACnC,CAAC;IAED,aAAa;QACX,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC;QAC/B,IAAI,CAAC,QAAQ,GAAG,+CAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACnC,CAAC;IAED,IAAI;QACF,IAAI,IAAI,CAAC,eAAe,KAAK,IAAI,CAAC,YAAY,EAAE;YAC9C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC;YACzC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;SACzB;aAAM;YACL,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,QAAQ,CAAC;YACrC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;SACxB;IACH,CAAC;IAED,YAAY,CAAC,KAAU,EAAE,OAAgB;QACvC,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;QAC/B,IAAI,KAAK,CAAC,MAAM,KAAK,KAAK;YACxB,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAEO,kBAAkB,CAAC,KAAY;QACrC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAC5D,EAAC,KAAK,EAAE,8BAA8B,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAC,CAAC,CAAC;IACvE,CAAC;IAED,cAAc,CAAC,EAAC,YAAY,EAAE,YAAY,EAAC;QACzC,IAAI,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,YAAY,EAAE;YAC/E,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,4EAA4E;kBAC/G,IAAI,CAAC,eAAe,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YACxF,OAAO;SACR;QACD,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,YAAY,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YAChH,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,EAClC,qBAAqB,GAAG,YAAY,GAAG,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,gBAAgB,EAC5F,SAAS,CAAC,CAAC;QACb,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,YAAY,GAAG,GAAG,CAAC;IACrB,CAAC;IAED,WAAW,CAAC,EAAC,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAC,EAAE,OAAgB;QAC9D,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;QAC/B,IAAI;YACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBACtF,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,sBAAsB,GAAG,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;SACxF;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,MAAM,EAAE,CAAC;YACjB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,EAAE,mDAAmD,GAAG,KAAK,CAAC,IAAI;gBACtG,iCAAiC,EAAE,QAAQ,CAAC,CAAC;SAChD;IACH,CAAC;IAED,WAAW,CAAC,EAAC,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAC,EAAE,OAAgB;QAC3D,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;QAC/B,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,0CAA0C,GAAG,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC;YAChF,OAAO;QACT,IAAI;YACA,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;gBAC/E,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,CAAC,CAAC,CAAC;YACL,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,EAAE,uBAAuB,GAAG,KAAK,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;SAC1F;QAAC,OAAO,GAAG,EAAE;YACZ,OAAO,CAAC,MAAM,EAAE,CAAC;YACjB,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,EAAE,kDAAkD,GAAG,KAAK,CAAC,KAAK;gBACtG,iCAAiC,EAAE,QAAQ,CAAC,CAAC;SAChD;IACH,CAAC;;oGAjGU,0BAA0B;0GAA1B,0BAA0B;0EACC,yDAAW;;;;;QCjBnD,yEAA6B;QAC3B,uHAoBM;;QACR,4DAAM;QAEN,kNAEc;;QAzBO,0DAAmB;QAAnB,kJAAmB;;;;;;;;;;;;;;ACAxC;AAAA;AAAA;AAAA;AAAA;AAAuD;AACqB;;;AAE5E,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wFAA0B;KACtC;CACF,CAAC;AAMK,MAAM,oBAAoB;;wFAApB,oBAAoB;mGAApB,oBAAoB;uGAHtB,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAC9B,4DAAY;mIAEX,oBAAoB,uFAFrB,4DAAY","file":"default~admin-pages-admin-module~pages-pages-module-es2015.js","sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { NbWindowRef, NbWindowService } from '@nebular/theme';\r\nimport { Observable, of } from 'rxjs';\r\nimport { Trash } from '../../../@core/data/trash';\r\nimport { Storage, StorageDump } from '../../../@core/data/storage';\r\nimport { Transaction } from '../../../@core/data/transaction';\r\nimport { RoleService } from '../../../@core/service/role.service';\r\nimport { ToastrService } from '../../../@core/service/toastr.service';\r\nimport { TrashService } from '../../../@core/service/trash.service';\r\nimport { StorageService } from '../../../@core/service/storage.service';\r\nimport { TransactionsService } from '../../../@core/service/transactions.service';\r\nimport { STORAGE_EDIT_SETTINGS } from '../storage-edit.settings';\r\nimport { STORAGE_DISPOSAL_SETTINGS } from './storage-disposal.settings';\r\n\r\n@Component({\r\n  selector: 'storage-dump',\r\n  templateUrl: './storage-disposal.component.html',\r\n  styleUrls: ['./storage-disposal.component.scss'],\r\n})\r\nexport class StorageDisposalComponent implements OnInit {\r\n  @ViewChild('addTrashTemplate', {read: TemplateRef}) addTrashTemplate: TemplateRef<HTMLElement>;\r\n  @ViewChild('disposeTrashTemplate', {read: TemplateRef}) disposeTrashTemplate: TemplateRef<HTMLElement>;\r\n  @ViewChild('leftoverTrashTemplate', {read: TemplateRef}) leftoverTrashTemplate: TemplateRef<HTMLElement>;\r\n  private windowRef: NbWindowRef;\r\n\r\n  @Input() storageDisposal: StorageDump[];\r\n  storageDisposal$: Observable<StorageDump[]>;\r\n  selectedStorageDisposal: StorageDump;\r\n  @Input() storage: Storage[];\r\n  storage$: Observable<Storage[]>;\r\n  selectedStorage: Storage;\r\n  @Output() updateStorageEvent = new EventEmitter<string>();\r\n  selectedTrash: Trash;\r\n\r\n  settings: any = STORAGE_DISPOSAL_SETTINGS;\r\n  currentSettings: any = this.settings;\r\n  editSettings: any = STORAGE_EDIT_SETTINGS;\r\n  editIcon: string = 'edit';\r\n\r\n  leftoverTrashCreated: Trash[] = [];\r\n  selectedTransaction: Transaction;\r\n  unfinishedTransactions: Transaction[] = [];\r\n\r\n  constructor(private storageService: StorageService, private windowService: NbWindowService,\r\n              private trashService: TrashService, private roleService: RoleService,\r\n              private toastrService: ToastrService, private transactionsService: TransactionsService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.storageDisposal$ = of(this.storageDisposal);\r\n  }\r\n\r\n  private updateStorage(): void {\r\n    this.updateStorageEvent.emit();\r\n  }\r\n\r\n  edit(): void {\r\n    if (this.currentSettings !== this.editSettings) {\r\n      this.currentSettings = this.editSettings;\r\n      this.editIcon = 'close';\r\n    } else {\r\n      this.currentSettings = this.settings;\r\n      this.editIcon = 'edit';\r\n    }\r\n  }\r\n\r\n  chooseAction(event: any, storage: StorageDump) {\r\n    this.selectedStorageDisposal = storage;\r\n    if (event.action === 'add')\r\n      this.openAddTrashWindow(event.data);\r\n    else if (event.action === 'dispose')\r\n      this.openDisposeTrashWindow(event.data);\r\n    else if (event.action === 'leftover')\r\n      this.openLeftoverTrashWindow(event.data);\r\n  }\r\n\r\n  private openAddTrashWindow(trash: Trash) {\r\n    this.selectedTrash = trash;\r\n    this.windowRef = this.windowService.open(this.addTrashTemplate,\r\n      {title: 'Dodaj donetu kolicinu: ' + this.selectedTrash.name});\r\n  }\r\n\r\n  addTrashMethod({trashAmmount: trashAmmount, documentNo: documentNo, companyName: companyName}) {\r\n    if (this.selectedStorageDisposal.maxAmount < this.selectedStorageDisposal.amount + trashAmmount) {\r\n      this.toastrService.showToast('Greška', 'Ne možete da dodate više otpada nego što vaše skladište može da prihvati: '\r\n        + this.selectedStorageDisposal.maxAmount + ' ' + this.selectedStorageDisposal.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    this.selectedTrash.amount += trashAmmount;\r\n    this.trashService.updateTrash(this.selectedTrash, this.selectedStorageDisposal._id, this.selectedTrash._id, '_id',\r\n      companyName, documentNo).subscribe(x => {\r\n      this.updateStorage();\r\n    });\r\n\r\n    this.toastrService.showToast('Uspeh', 'Uspešno ste dodali ' + trashAmmount + ' (kg) ' + this.selectedTrash.name + ' na skladište.',\r\n      'success');\r\n    this.windowRef.close();\r\n    trashAmmount = NaN;\r\n  }\r\n\r\n  private openDisposeTrashWindow(trash: Trash) {\r\n    this.selectedTrash = trash;\r\n    this.windowRef = this.windowService.open(this.disposeTrashTemplate,\r\n      {title: 'Obradi određenu količinu: ' + this.selectedTrash.name});\r\n  }\r\n\r\n  disposeTrashMethod({\r\n                       selectedTransaction: selectedTransaction,\r\n                       trashAmmount: trashAmmount, trashCreated: trashCreated,\r\n                     }) {\r\n    if (this.selectedStorageDisposal.amount - trashAmmount < 0) {\r\n      this.toastrService.showToast('Greška', 'Ne možete da dodate obradite više otpada nego što vaše skladište ima: '\r\n        + this.selectedStorageDisposal.amount + ' ' + this.selectedStorageDisposal.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    this.selectedTrash.amount -= trashAmmount;\r\n    const companyName = trashCreated ?\r\n      (selectedTransaction.companyName ? selectedTransaction.companyName : selectedTransaction) : '';\r\n    const documentNo = trashCreated ?\r\n      (selectedTransaction.wmdNo ? selectedTransaction.wmdNo : selectedTransaction) : '';\r\n    this.trashService.updateTrash(this.selectedTrash, this.selectedStorageDisposal._id,\r\n      this.selectedTrash._id, '_id',\r\n      companyName, documentNo).subscribe(x => {\r\n      this.updateStorage();\r\n    });\r\n    if (selectedTransaction !== '-') {\r\n      selectedTransaction.finished = true;\r\n      this.transactionsService.updateTransaction(selectedTransaction, selectedTransaction._id).subscribe(x => {\r\n      });\r\n    }\r\n    this.toastrService.showToast('Uspeh', 'Uspešno ste obradili ' + trashAmmount + ' (kg) '\r\n      + this.selectedTrash.name + ' na skladište.',\r\n      'success');\r\n    this.windowRef.close();\r\n    trashAmmount = NaN;\r\n  }\r\n\r\n  openLeftoverTrashWindow(trash: Trash) {\r\n    this.selectedTrash = trash;\r\n    this.transactionsService.getUnfinishedTransactions(this.selectedTrash._id, this.roleService.getCompanyID())\r\n      .subscribe(x => {\r\n        this.unfinishedTransactions = x;\r\n      });\r\n    this.windowRef = this.windowService.open(this.leftoverTrashTemplate,\r\n      {title: 'Završi proizvodnju preostalog otpada'});\r\n  }\r\n\r\n  leftoverTrashMethod({\r\n                        selectedTransaction: selectedTransaction, leftoverTrashCreated: leftoverTrashCreated,\r\n                        selectedStorage: selectedStorage,\r\n                      }) {\r\n    let canPass = true;\r\n    leftoverTrashCreated.forEach(trashCreated => {\r\n      if (selectedStorage.maxAmount < selectedStorage.amount + trashCreated.amount || !canPass) {\r\n        canPass = false;\r\n        return;\r\n      }\r\n      this.trashService.updateTrash(trashCreated, selectedStorage._id, trashCreated.indexNumber,\r\n        'indexNumber', undefined, undefined, true).subscribe(x => {\r\n        this.updateStorage();\r\n      });\r\n    });\r\n    if (!canPass) {\r\n      this.toastrService.showToast('Greška', 'Ne možete da dodate više otpada nego što vaše skladište može da prihvati: '\r\n        + selectedStorage.maxAmount + ' ' + selectedStorage.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    selectedTransaction.companyName = null;\r\n    selectedTransaction.wmdNo = null;\r\n    selectedTransaction.finished = true;\r\n    this.transactionsService.updateTransaction(selectedTransaction, selectedTransaction._id).subscribe(x => {\r\n    });\r\n    this.toastrService.showToast('Uspeh', 'Uspesno ste dodali otpade!', 'success');\r\n    this.windowRef.close();\r\n  }\r\n\r\n  updateTrash({newData: trash, confirm: confirm}, storage: StorageDump): void {\r\n    this.selectedStorageDisposal = storage;\r\n    try {\r\n      this.trashService.updateTrash(trash, this.selectedStorageDisposal._id, trash._id).subscribe(x => {\r\n        this.updateStorage();\r\n      });\r\n      confirm.resolve();\r\n      this.toastrService.showToast('Uspeh!', 'Uspešno ste uredili ' + trash.name, 'success');\r\n    } catch (err) {\r\n      confirm.reject();\r\n      this.toastrService.showToast('Greška!', 'Došlo je do greške dok ste pokušali da promenite ' + trash.name +\r\n        '. Molimo vas pokušajte kasnije.', 'danger');\r\n    }\r\n  }\r\n\r\n  deleteTrash({data: trash, confirm: confirm}, storage: StorageDump): void {\r\n    this.selectedStorageDisposal = storage;\r\n    if (!window.confirm('Da li ste sigurni da želite da obrišete ' + trash.naziv + '?'))\r\n      return;\r\n    try {\r\n      this.trashService.deleteTrash(this.selectedStorageDisposal._id, trash._id).subscribe(x => {\r\n        this.updateStorage();\r\n      });\r\n      confirm.resolve();\r\n      this.toastrService.showToast('Uspeh!', 'Uspešno ste obrisali ' + trash.name, 'success');\r\n    } catch (err) {\r\n      confirm.reject();\r\n      this.toastrService.showToast('Greška!', 'Došlo je do greške dok ste pokušali da obrišete ' + trash.name +\r\n        '. Molimo vas pokušajte kasnije.', 'danger');\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n  <div *ngFor=\"let s of storageDisposal$ | async;\">\r\n    <storage-meter [storage]=\"s\"></storage-meter>\r\n    <nb-card>\r\n      <nb-card-header>\r\n        <div class=\"row\">\r\n          <div class=\"col-11\">\r\n            <h2 class=\"text-left\">{{ s?.name }}</h2>\r\n          </div>\r\n          <div class=\"col-1 d-flex justify-content-center align-items-center\">\r\n            <nb-icon class=\"edit-button\" (click)=\"edit()\" [icon]=\"editIcon\"></nb-icon>\r\n          </div>\r\n        </div>\r\n      </nb-card-header>\r\n      <nb-card-body>\r\n        <ng2-smart-table class=\"order-table\" (custom)=\"chooseAction($event, s)\" [settings]=\"currentSettings\"\r\n                         [source]=\"s?.trashes\"\r\n                         (editConfirm)=\"updateTrash($event, s)\"\r\n                         (deleteConfirm)=\"deleteTrash($event, s)\"></ng2-smart-table>\r\n      </nb-card-body>\r\n    </nb-card>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #addTrashTemplate>\r\n  <add-trash-popup [type]=\"'disposal'\" [selectedTrash]=\"selectedTrash\"\r\n                   (callAddTrash)=\"addTrashMethod($event)\"></add-trash-popup>\r\n\r\n</ng-template>\r\n\r\n<ng-template #disposeTrashTemplate>\r\n  <process-trash-popup [selectedTrash]=\"selectedTrash\"\r\n                       (callProcessTrash)=\"disposeTrashMethod($event)\"></process-trash-popup>\r\n</ng-template>\r\n\r\n<ng-template #leftoverTrashTemplate>\r\n  <leftover-trash-popup [selectedTrash]=\"selectedTrash\"\r\n                        [storageProduction]=\"storage\"\r\n                        (callLeftoverTrash)=\"leftoverTrashMethod($event)\"></leftover-trash-popup>\r\n</ng-template>\r\n","import { Component, EventEmitter, Input, OnInit, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { NbWindowRef, NbWindowService } from '@nebular/theme';\r\nimport { Observable, of } from 'rxjs';\r\nimport { Trash } from '../../../@core/data/trash';\r\nimport { StorageCache } from '../../../@core/data/storage';\r\nimport { ToastrService } from '../../../@core/service/toastr.service';\r\nimport { TrashService } from '../../../@core/service/trash.service';\r\nimport { StorageService } from '../../../@core/service/storage.service';\r\nimport { STORAGE_EDIT_SETTINGS } from '../storage-edit.settings';\r\nimport { STORAGE_PRODUCTION_SETTINGS } from '../storage-production/storage-production.settings';\r\n\r\n@Component({\r\n  selector: 'storage-cache',\r\n  templateUrl: './storage-cache.component.html',\r\n  styleUrls: ['./storage-cache.component.scss'],\r\n})\r\nexport class StorageCacheComponent implements OnInit {\r\n  @ViewChild('addTrashTemplate', {read: TemplateRef}) addTrashTemplate: TemplateRef<HTMLElement>;\r\n  private windowRef: NbWindowRef;\r\n\r\n  @Input() storageCache: StorageCache[];\r\n  storageCache$: Observable<StorageCache[]>;\r\n  selectedStorageCache: StorageCache;\r\n  @Output() updateStorageEvent = new EventEmitter<string>();\r\n  selectedTrash: Trash;\r\n\r\n  settings: any = STORAGE_PRODUCTION_SETTINGS;\r\n  currentSettings: any = this.settings;\r\n  editSettings: any = STORAGE_EDIT_SETTINGS;\r\n  editIcon: string = 'edit';\r\n\r\n  constructor(private storageService: StorageService, private windowService: NbWindowService,\r\n              private trashService: TrashService, private toastrService: ToastrService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.storageCache$ = of(this.storageCache);\r\n  }\r\n\r\n  updateStorage(): void {\r\n    this.updateStorageEvent.emit();\r\n    this.storageCache$ = of(this.storageCache);\r\n  }\r\n\r\n  edit(): void {\r\n    if (this.currentSettings !== this.editSettings) {\r\n      this.currentSettings = this.editSettings;\r\n      this.editIcon = 'close';\r\n    } else {\r\n      this.currentSettings = this.settings;\r\n      this.editIcon = 'edit';\r\n    }\r\n  }\r\n\r\n  chooseAction(event: any, storage: StorageCache) {\r\n    this.selectedStorageCache = storage;\r\n    if (event.action === 'add')\r\n      this.openAddTrashWindow(event.data);\r\n  }\r\n\r\n  private openAddTrashWindow(trash: Trash) {\r\n    this.selectedTrash = trash;\r\n    this.windowRef = this.windowService.open(this.addTrashTemplate,\r\n      {title: 'Dodaj proizvedenu kolicinu: ' + this.selectedTrash.name});\r\n  }\r\n\r\n  addTrashMethod({trashAmmount: trashAmmount}) {\r\n    if (this.selectedStorageCache.amount - trashAmmount < 0) {\r\n      this.toastrService.showToast('Greška', 'Ne možete da dodate obradite više otpada nego što vaše skladište ima: '\r\n        + this.selectedStorageCache.amount + ' ' + this.selectedStorageCache.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    this.selectedTrash.amount += trashAmmount;\r\n    this.trashService.updateTrash(this.selectedTrash, this.selectedStorageCache._id, this.selectedTrash._id).\r\n    subscribe(x => {\r\n      this.updateStorage();\r\n    });\r\n    this.toastrService.showToast('Uspeh', 'Uspešno ste dodali ' + trashAmmount + ' (kg) ' + this.selectedTrash.name + ' na skladište.',\r\n      'success');\r\n    this.windowRef.close();\r\n    trashAmmount = NaN;\r\n  }\r\n\r\n  updateTrash({newData: trash, confirm: confirm}, storage: StorageCache): void {\r\n    this.selectedStorageCache = storage;\r\n    try {\r\n      this.trashService.updateTrash(trash, this.selectedStorageCache._id, trash._id).subscribe(x => {\r\n        this.updateStorage();\r\n      });\r\n      confirm.resolve();\r\n      this.toastrService.showToast('Uspeh!', 'Uspešno ste uredili ' + trash.name, 'success');\r\n    } catch (err) {\r\n      confirm.reject();\r\n      this.toastrService.showToast('Greška!', 'Došlo je do greške dok ste pokušali da promenite ' + trash.name +\r\n        '. Molimo vas pokušajte kasnije.', 'danger');\r\n    }\r\n  }\r\n\r\n  deleteTrash({data: trash, confirm: confirm}, storage: StorageCache): void {\r\n    this.selectedStorageCache = storage;\r\n    if (!window.confirm('Da li ste sigurni da želite da obrišete ' + trash.naziv + '?'))\r\n      return;\r\n    try {\r\n      this.trashService.deleteTrash(this.selectedStorageCache._id, trash._id).subscribe(x => {\r\n        this.updateStorage();\r\n      });\r\n      confirm.resolve();\r\n      this.toastrService.showToast('Uspeh!', 'Uspešno ste obrisali ' + trash.name, 'success');\r\n    } catch (err) {\r\n      confirm.reject();\r\n      this.toastrService.showToast('Greška!', 'Došlo je do greške dok ste pokušali da obrišete ' + trash.name +\r\n        '. Molimo vas pokušajte kasnije.', 'danger');\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n  <div *ngFor=\"let s of storageCache$ | async\">\r\n    <storage-meter [storage]=\"s\"></storage-meter>\r\n    <nb-card>\r\n      <nb-card-header>\r\n        <div class=\"row\">\r\n          <div class=\"col-11\">\r\n            <h2 class=\"text-left\">{{ s?.name }}</h2>\r\n          </div>\r\n          <div class=\"col-1 d-flex justify-content-center align-items-center\">\r\n            <nb-icon class=\"edit-button\" (click)=\"edit()\" [icon]=\"editIcon\"></nb-icon>\r\n          </div>\r\n        </div>\r\n      </nb-card-header>\r\n      <nb-card-body>\r\n        <ng2-smart-table class=\"order-table\" (custom)=\"chooseAction($event, s)\" [settings]=\"currentSettings\"\r\n                         [source]=\"s?.trashes\"\r\n                         (editConfirm)=\"updateTrash($event, s)\"\r\n                         (deleteConfirm)=\"deleteTrash($event, s)\"></ng2-smart-table>\r\n      </nb-card-body>\r\n    </nb-card>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #addTrashTemplate>\r\n  <add-trash-popup [type]=\"'cache'\" [selectedTrash]=\"selectedTrash\" (callAddTrash)=\"addTrashMethod($event)\"></add-trash-popup>\r\n</ng-template>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { NbAuthService } from '@nebular/auth';\r\nimport { Observable } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Storage, StorageData } from '../data/storage';\r\n\r\n@Injectable()\r\nexport class StorageService extends StorageData {\r\n  private readonly apiUrl: string;\r\n\r\n  constructor(private http: HttpClient, private authService: NbAuthService) {\r\n    super();\r\n    this.apiUrl = environment.apiUrl;\r\n  }\r\n\r\n  createStorage(storage: Storage): Observable<Storage> {\r\n    return this.http.post<Storage>(this.apiUrl + '/api/storage', storage);\r\n  }\r\n\r\n  deleteStorage(value: string, type: string = '_id'): Observable<Storage> {\r\n    return this.http.delete<Storage>(this.apiUrl + '/api/storage/one/' + `${type}/${value}`);\r\n  }\r\n\r\n  getStorage(value: string, type: string = '_id'): Observable<Storage> {\r\n    return this.http.get<Storage>(this.apiUrl + '/api/storage/one/' + `${type}/${value}`);\r\n  }\r\n\r\n  getStorages(value: string, type: string): Observable<Storage[]> {\r\n    return this.http.get<Storage[]>(this.apiUrl + '/api/storage/many/' + `${type}/${value}`);\r\n  }\r\n\r\n  updateStorage(storage: Storage, value: string, type: string = '_id'): Observable<Storage> {\r\n    return this.http.patch<Storage>(this.apiUrl + '/api/storage/one/' + `${type}/${value}`, storage);\r\n  }\r\n\r\n  getCompaniesStorage(companyID: string, storageType: string = 'all'): Observable<Storage[]> {\r\n    return this.http.get<Storage[]>(this.apiUrl + '/api/company/storages/' + `${companyID}/${storageType}`);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Storage, StorageCache, StorageDump, StorageTreatment } from '../../@core/data/storage';\r\nimport { RoleService } from '../../@core/service/role.service';\r\nimport { StorageService } from '../../@core/service/storage.service';\r\n\r\n@Component({\r\n  selector: 'pages-storage-containers',\r\n  templateUrl: './storage-containers.component.html',\r\n  styleUrls: ['./storage-containers.component.css'],\r\n})\r\nexport class StorageContainersComponent implements OnInit {\r\n\r\n  operations: { production: false, transport: false, treatment: false, disposal: false, cache: false };\r\n  allStorage: Storage[] = [];\r\n  storageProduction: Storage[] = [];\r\n  storageTreatment: StorageTreatment[] = [];\r\n  storageDisposal: StorageDump[] = [];\r\n  storageCache: StorageCache[] = [];\r\n  loading: boolean = false;\r\n\r\n  constructor(private roleService: RoleService, private storageService: StorageService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.roleService.getOperations().subscribe(x => {\r\n      this.operations = x;\r\n    });\r\n    this.updateStorage();\r\n  }\r\n\r\n  updateStorage() {\r\n    this.loading = true;\r\n    this.allStorage = [];\r\n    this.storageDisposal = [];\r\n    this.storageProduction = [];\r\n    this.storageTreatment = [];\r\n    this.storageCache = [];\r\n    this.storageService.getCompaniesStorage( this.roleService.getCompanyID()).subscribe(s => {\r\n      this.allStorage = s;\r\n      for (const x of this.allStorage) {\r\n        if (x.__t === undefined)\r\n          this.storageProduction.push(x);\r\n        else if (x.__t === 'StorageTreatment')\r\n          this.storageTreatment.push(<StorageTreatment>x);\r\n        else if (x.__t === 'StorageDump')\r\n          this.storageDisposal.push(<StorageDump>x);\r\n        else if (x.__t === 'StorageCache')\r\n          this.storageCache.push(<StorageCache>x);\r\n      }\r\n      this.loading = false;\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n  <div *ngIf=\"operations.production && !loading\">\r\n    <storage-production [storage]=\"storageProduction\" (updateStorageEvent)=\"updateStorage()\"></storage-production>\r\n  </div>\r\n  <div *ngIf=\"operations.treatment && !loading\">\r\n    <storage-treatment [storageTreatment]=\"storageTreatment\" [storage]=\"storageProduction\"\r\n                           (updateStorageEvent)=\"updateStorage()\"></storage-treatment>\r\n  </div>\r\n  <div *ngIf=\"operations.disposal && !loading\">\r\n    <storage-dump [storageDisposal]=\"storageDisposal\" [storage]=\"storageProduction\"\r\n                            (updateStorageEvent)=\"updateStorage()\"></storage-dump>\r\n  </div>\r\n  <div *ngIf=\"operations.cache && !loading\">\r\n    <storage-cache [storageCache]=\"storageCache\" (updateStorageEvent)=\"updateStorage()\"></storage-cache>\r\n  </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { NbComponentStatus, NbToastrService } from '@nebular/theme';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ToastrService {\r\n\r\n  constructor(private toastrService: NbToastrService) {\r\n  }\r\n\r\n  showToast(title: String, message: String, status: NbComponentStatus, duration: number = 3000) {\r\n    this.toastrService.show(\r\n      message,\r\n      title,\r\n      {status, duration});\r\n  }\r\n\r\n}\r\n","export const STORAGE_DISPOSAL_SETTINGS: any = {\r\n  hideSubHeader: true,\r\n  actions: {\r\n    columnTitle: 'Dodaj otpad/Odloži otpad/Završi odlaganje',\r\n    position: 'right',\r\n    edit: false,\r\n    add: false,\r\n    delete: false,\r\n    custom: [\r\n      {\r\n        name: 'add',\r\n        title: '<i class=\"fa fa-plus\"></i>',\r\n      },\r\n      {\r\n        name: 'dispose',\r\n        title: '<i class=\"fa fa-trash-alt\"></i>',\r\n      },\r\n      {\r\n        name: 'leftover',\r\n        title: '<i class=\"fa fa-exclamation-triangle\"></i>',\r\n      },\r\n    ],\r\n  },\r\n  columns: {\r\n    indexNumber: {\r\n      title: 'Indeksni Broj',\r\n    },\r\n    name: {\r\n      title: 'Naziv',\r\n    },\r\n    desc: {\r\n      title: 'Opis',\r\n    },\r\n    amount: {\r\n      title: 'Količina (KG)',\r\n    },\r\n  },\r\n};\r\n","export const STORAGE_PRODUCTION_SETTINGS: any = {\r\n  hideSubHeader: true,\r\n  actions: {\r\n    columnTitle: 'Dodaj na skladište',\r\n    position: 'right',\r\n    add: false,\r\n    edit: false,\r\n    delete: false,\r\n    custom: [\r\n      {\r\n        name: 'add',\r\n        title: '<i class=\"fa fa-folder-plus\"></i>',\r\n      },\r\n    ],\r\n  },\r\n  columns: {\r\n    indexNumber: {\r\n      title: 'Indeksni Broj',\r\n    },\r\n    name: {\r\n      title: 'Naziv',\r\n    },\r\n    desc: {\r\n      title: 'Opis',\r\n    },\r\n    amount: {\r\n      title: 'Količina (kg)',\r\n    },\r\n  },\r\n};\r\n","import { Observable } from 'rxjs';\r\n\r\nexport interface Trash {\r\n  _id?: string;\r\n  indexNumber: string;\r\n  name: string;\r\n  desc: string;\r\n  amount: number;\r\n  state?: string;\r\n  qList?: string;\r\n  packaging?: string;\r\n  rSign?: string;\r\n  dSign?: string;\r\n  examinationCode?: string;\r\n  examinationDate?: Date;\r\n}\r\n\r\nexport abstract class TrashData {\r\n  abstract createTrash(trash: Trash, storageID: string): Observable<Trash>;\r\n  abstract getTrash(value: string, type: string): Observable<Trash>;\r\n  abstract getTrashes(value: string, type: string): Observable<Trash[]>;\r\n  abstract updateTrash(trash: Trash, value: string, type: string): Observable<Trash>;\r\n  abstract deleteTrash(value: string, type: string): Observable<Trash>;\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Trash, TrashData } from '../data/trash';\r\n\r\n@Injectable()\r\nexport class TrashService extends TrashData {\r\n  private readonly apiUrl: string;\r\n\r\n  constructor(private http: HttpClient) {\r\n    super();\r\n    this.apiUrl = environment.apiUrl;\r\n  }\r\n\r\n  createTrash(trash: Trash, storageID: string): Observable<Trash> {\r\n    return this.http.post<Trash>(this.apiUrl + '/api/trash', {trash: trash, storageID: storageID});\r\n  }\r\n\r\n  deleteTrash(storageID: string, value: string, type: string = '_id'): Observable<Trash> {\r\n    return this.http.delete<Trash>(this.apiUrl + '/api/trash/one/' + `${type}/${value}/${storageID}`);\r\n  }\r\n\r\n  getTrash(value: string, type: string = '_id'): Observable<Trash> {\r\n    return this.http.get<Trash>(this.apiUrl + '/api/trash/one/' + `${type}/${value}`);\r\n  }\r\n\r\n  getTrashes(value: string, type: string): Observable<Trash[]> {\r\n    return this.http.get<Trash[]>(this.apiUrl + '/api/trash/many/' + `${type}/${value}`);\r\n  }\r\n\r\n  updateTrash(trash: Trash, storageID: string, value: string, type: string = '_id',\r\n              companyName?: string, documentNo?: string, increment?: boolean): Observable<Trash> {\r\n    return this.http.patch<Trash>(this.apiUrl + '/api/trash/one/' + `${type}/${value}`,\r\n      {trash: trash, storageID: storageID, documentNo: documentNo, companyName: companyName, inc: increment});\r\n  }\r\n\r\n}\r\n","import { Observable } from 'rxjs';\r\nimport { Occupation } from './occupation';\r\nimport { Permit } from './permit';\r\nimport { CompanyClient } from './companyClient';\r\nimport { SpecialWaste } from './specialWaste';\r\nimport { Storage } from './storage';\r\nimport { Vehicle } from './vehicle';\r\n\r\nexport interface Company extends CompanyClient {\r\n  manager: string;\r\n  emailReception: string;\r\n  legalRep: {\r\n    firstName: string;\r\n    lastName: string;\r\n  };\r\n  nriz: {\r\n    username: string;\r\n    password: string;\r\n  };\r\n  wasteManager?: {\r\n    firstName: string;\r\n    lastName: string;\r\n  };\r\n  occupation: Occupation;\r\n  permits?: Permit[];\r\n  storages?: Storage[];\r\n  specialWastes?: SpecialWaste[];\r\n  vehicles?: Vehicle[];\r\n}\r\n\r\nexport abstract class CompanyData {\r\n  abstract createCompany(company: Company): Observable<Company>;\r\n  abstract getCompany(value: string, type: string): Observable<Company>;\r\n  abstract getCompanys(value: string, type: string): Observable<Company[]>;\r\n  abstract updateCompany(company: Company, value: string, type: string): Observable<Company>;\r\n  abstract deleteCompany(value: string, type: string): Observable<Company>;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CatalogService } from '../../@core/service/catalog.service';\r\nimport { RoleService } from '../../@core/service/role.service';\r\nimport { TransactionsService } from '../../@core/service/transactions.service';\r\nimport { ThemeModule } from '../../@theme/theme.module';\r\nimport { PopupWindowsModule } from '../popup-windows/popup-windows.module';\r\nimport { StorageContainersComponent } from './storage-containers.component';\r\nimport { StorageService } from '../../@core/service/storage.service';\r\nimport {\r\n  NbAccordionModule,\r\n  NbAutocompleteModule, NbButtonModule,\r\n  NbCardModule, NbCheckboxModule, NbIconModule,\r\n  NbInputModule, NbLayoutModule,\r\n  NbListModule,\r\n  NbPopoverModule, NbProgressBarModule,\r\n  NbSelectModule, NbToggleModule,\r\n} from '@nebular/theme';\r\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { StorageProductionComponent } from './storage-production/storage-production.component';\r\nimport { StorageRoutingModule } from './storage-routing.module';\r\nimport { StorageTreatmentComponent } from './storage-treatment/storage-treatment.component';\r\nimport { StorageDisposalComponent } from './storage-disposal/storage-disposal.component';\r\nimport { StorageCacheComponent } from './storage-cache/storage-cache.component';\r\nimport { StorageMeterComponent } from './storage-meter/storage-meter.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    ThemeModule,\r\n    StorageRoutingModule,\r\n    NbCardModule,\r\n    Ng2SmartTableModule,\r\n    FormsModule,\r\n    NbInputModule,\r\n    NbPopoverModule,\r\n    NbListModule,\r\n    NbSelectModule,\r\n    NbAutocompleteModule,\r\n    NbButtonModule,\r\n    NbProgressBarModule,\r\n    NbCheckboxModule,\r\n    NbIconModule,\r\n    NbLayoutModule,\r\n    NbToggleModule,\r\n    NbAccordionModule,\r\n    PopupWindowsModule,\r\n  ],\r\n  declarations: [\r\n    StorageContainersComponent,\r\n    StorageProductionComponent,\r\n    StorageTreatmentComponent,\r\n    StorageDisposalComponent,\r\n    StorageCacheComponent,\r\n    StorageMeterComponent,\r\n  ],\r\n  providers: [\r\n    StorageService,\r\n    CatalogService,\r\n    TransactionsService,\r\n  ],\r\n  exports: [\r\n    StorageMeterComponent,\r\n  ],\r\n})\r\nexport class StorageModule {\r\n}\r\n","export const STORAGE_EDIT_SETTINGS: any = {\r\n  edit: {\r\n    confirmSave: true,\r\n    editButtonContent: '<i class=\"fa fa-edit\"></i>',\r\n    saveButtonContent: '<i class=\"fa fa-check\"></i>',\r\n    cancelButtonContent: '<i class=\"fa fa-times\"></i>',\r\n  },\r\n  delete: {\r\n    confirmDelete: true,\r\n    deleteButtonContent: '<i class=\"fa fa-trash\"></i>',\r\n    saveButtonContent: 'save',\r\n    cancelButtonContent: 'cancel',\r\n  },\r\n  actions: {\r\n    position: 'right',\r\n    add: false,\r\n    edit: true,\r\n    delete: true,\r\n  },\r\n  columns: {\r\n    indexNumber: {\r\n      title: 'Indeksni Broj',\r\n      editable: false,\r\n    },\r\n    name: {\r\n      title: 'Naziv',\r\n    },\r\n    desc: {\r\n      title: 'Opis',\r\n    },\r\n    amount: {\r\n      title: 'Količina (kg)',\r\n      editable: false,\r\n    },\r\n  },\r\n};\r\n","import { Component, EventEmitter, Input, OnInit, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { NbWindowRef, NbWindowService } from '@nebular/theme';\r\nimport { Observable, of } from 'rxjs';\r\nimport { Trash } from '../../../@core/data/trash';\r\nimport { Storage, StorageTreatment } from '../../../@core/data/storage';\r\nimport { Transaction } from '../../../@core/data/transaction';\r\nimport { RoleService } from '../../../@core/service/role.service';\r\nimport { ToastrService } from '../../../@core/service/toastr.service';\r\nimport { TrashService } from '../../../@core/service/trash.service';\r\nimport { StorageService } from '../../../@core/service/storage.service';\r\nimport { TransactionsService } from '../../../@core/service/transactions.service';\r\nimport { STORAGE_EDIT_SETTINGS } from '../storage-edit.settings';\r\nimport { STORAGE_TREATMENT_SETTINGS } from './storage-treatment.settings';\r\n\r\n@Component({\r\n  selector: 'storage-treatment',\r\n  templateUrl: './storage-treatment.component.html',\r\n  styleUrls: ['./storage-treatment.component.scss'],\r\n})\r\nexport class StorageTreatmentComponent implements OnInit {\r\n  @ViewChild('addTrashTemplate', {read: TemplateRef}) addTrashTemplate: TemplateRef<HTMLElement>;\r\n  @ViewChild('processTrashTemplate', {read: TemplateRef}) processTrashTemplate: TemplateRef<HTMLElement>;\r\n  @ViewChild('leftoverTrashTemplate', {read: TemplateRef}) leftoverTrashTemplate: TemplateRef<HTMLElement>;\r\n  private windowRef: NbWindowRef;\r\n\r\n  @Input() storageTreatment: StorageTreatment[];\r\n  storageTreatment$: Observable<StorageTreatment[]>;\r\n  selectedStorageTreatment: StorageTreatment;\r\n  @Input() storage: Storage[];\r\n  @Output() updateStorageEvent = new EventEmitter<string>();\r\n  selectedTrash: Trash;\r\n\r\n  settings: any = STORAGE_TREATMENT_SETTINGS;\r\n  currentSettings: any = this.settings;\r\n  editSettings: any = STORAGE_EDIT_SETTINGS;\r\n  editIcon: string = 'edit';\r\n\r\n  leftoverTrashCreated: Trash[] = [];\r\n  unfinishedTransactions: Transaction[] = [];\r\n\r\n  constructor(private storageService: StorageService, private windowService: NbWindowService,\r\n              private trashService: TrashService, private transactionsService: TransactionsService,\r\n              private toastrService: ToastrService, private roleService: RoleService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.storageTreatment$ = of(this.storageTreatment);\r\n  }\r\n\r\n  private updateStorage(): void {\r\n    this.updateStorageEvent.emit();\r\n  }\r\n\r\n  edit(): void {\r\n    if (this.currentSettings !== this.editSettings) {\r\n      this.currentSettings = this.editSettings;\r\n      this.editIcon = 'close';\r\n    } else {\r\n      this.currentSettings = this.settings;\r\n      this.editIcon = 'edit';\r\n    }\r\n  }\r\n\r\n  chooseAction(event: any, storage: StorageTreatment) {\r\n    this.selectedStorageTreatment = storage;\r\n    if (event.action === 'add')\r\n      this.openAddTrashWindow(event.data);\r\n    else if (event.action === 'process')\r\n      this.openProcessTrashWindow(event.data);\r\n    else if (event.action === 'leftover')\r\n      this.openLeftoverTrashWindow(event.data);\r\n  }\r\n\r\n  private openAddTrashWindow(trash: Trash) {\r\n    this.selectedTrash = trash;\r\n    this.windowRef = this.windowService.open(this.addTrashTemplate,\r\n      {title: 'Dodaj donetu kolicinu: ' + this.selectedTrash.name});\r\n  }\r\n\r\n  addTrashMethod({trashAmmount: trashAmmount, documentNo: documentNo, companyName: companyName}) {\r\n    if (this.selectedStorageTreatment.maxAmount < this.selectedStorageTreatment.amount + trashAmmount) {\r\n      this.toastrService.showToast('Greška', 'Ne možete da dodate više otpada nego što vaše skladište može da prihvati: '\r\n        + this.selectedStorageTreatment.maxAmount + ' ' + this.selectedStorageTreatment.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    this.selectedTrash.amount += trashAmmount;\r\n    this.trashService.updateTrash(this.selectedTrash, this.selectedStorageTreatment._id, this.selectedTrash._id, '_id',\r\n      companyName, documentNo).subscribe(x => {\r\n      this.updateStorage();\r\n    });\r\n    this.toastrService.showToast('Uspeh',\r\n      'Uspešno ste dodali ' + trashAmmount + ' (kg) ' + this.selectedTrash.name + ' na skladište.',\r\n      'success');\r\n    this.windowRef.close();\r\n    trashAmmount = NaN;\r\n  }\r\n\r\n  private openProcessTrashWindow(trash: Trash) {\r\n    this.selectedTrash = trash;\r\n    this.windowRef = this.windowService.open(this.processTrashTemplate,\r\n      {title: 'Obradi određenu količinu: ' + this.selectedTrash.name});\r\n  }\r\n\r\n  processTrashMethod({\r\n                       selectedTransaction: selectedTransaction,\r\n                       trashAmmount: trashAmmount, trashCreated: trashCreated,\r\n                     }) {\r\n    if (this.selectedStorageTreatment.amount - trashAmmount < 0) {\r\n      this.toastrService.showToast('Greška', 'Ne možete da dodate obradite više otpada nego što vaše skladište ima: '\r\n        + this.selectedStorageTreatment.amount + ' ' + this.selectedStorageTreatment.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    this.selectedTrash.amount -= trashAmmount;\r\n    const companyName = trashCreated ?\r\n      (selectedTransaction.companyName ? selectedTransaction.companyName : selectedTransaction) : '';\r\n    const documentNo = trashCreated ?\r\n      (selectedTransaction.wmdNo ? selectedTransaction.wmdNo : selectedTransaction) : '';\r\n    this.trashService.updateTrash(this.selectedTrash, this.selectedStorageTreatment._id, this.selectedTrash._id, '_id',\r\n      companyName, documentNo).subscribe(x => {\r\n      this.updateStorage();\r\n    });\r\n    if (selectedTransaction !== '-') {\r\n      selectedTransaction.finished = true;\r\n      this.transactionsService.updateTransaction(selectedTransaction, selectedTransaction._id).subscribe(x => {\r\n      });\r\n    }\r\n    this.toastrService.showToast('Uspeh', 'Uspešno ste obradili ' + trashAmmount + ' (kg) '\r\n      + this.selectedTrash.name + ' na skladište.',\r\n      'success');\r\n    this.windowRef.close();\r\n    trashAmmount = NaN;\r\n  }\r\n\r\n  openLeftoverTrashWindow(trash: Trash) {\r\n    this.selectedTrash = trash;\r\n    this.transactionsService.getUnfinishedTransactions(this.selectedTrash._id, this.roleService.getCompanyID())\r\n      .subscribe(x => {\r\n        this.unfinishedTransactions = x;\r\n      });\r\n    this.windowRef = this.windowService.open(this.leftoverTrashTemplate,\r\n      {title: 'Završi proizvodnju preostalog otpada'});\r\n  }\r\n\r\n  leftoverTrashMethod({\r\n                        selectedTransaction: selectedTransaction, leftoverTrashCreated: leftoverTrashCreated,\r\n                        selectedStorage: selectedStorage,\r\n                      }) {\r\n    let canPass = true;\r\n    leftoverTrashCreated.forEach(trashCreated => {\r\n      if (selectedStorage.maxAmount < selectedStorage.amount + trashCreated.amount || !canPass) {\r\n        canPass = false;\r\n        return;\r\n      }\r\n      this.trashService.updateTrash(trashCreated, selectedStorage._id,\r\n        trashCreated.indexNumber, 'indexNumber', undefined, undefined, true).subscribe(x => {\r\n        this.updateStorage();\r\n      });\r\n    });\r\n    if (!canPass) {\r\n      this.toastrService.showToast('Greška', 'Ne možete da dodate više otpada nego što vaše skladište može da prihvati: '\r\n        + selectedStorage.maxAmount + ' ' + selectedStorage.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    selectedTransaction.companyName = null;\r\n    selectedTransaction.wmdNo = null;\r\n    selectedTransaction.finished = true;\r\n    this.transactionsService.updateTransaction(selectedTransaction, selectedTransaction._id).subscribe(x => {\r\n    });\r\n    this.toastrService.showToast('Uspeh', 'Uspesno ste dodali otpade!', 'success');\r\n    this.windowRef.close();\r\n  }\r\n\r\n  updateTrash({newData: trash, confirm: confirm}, storage: StorageTreatment): void {\r\n    this.selectedStorageTreatment = storage;\r\n    try {\r\n      this.trashService.updateTrash(trash, this.selectedStorageTreatment._id, trash._id).subscribe(x => {\r\n        this.updateStorage();\r\n      });\r\n      confirm.resolve();\r\n      this.toastrService.showToast('Uspeh!', 'Uspešno ste uredili ' + trash.name, 'success');\r\n    } catch (err) {\r\n      confirm.reject();\r\n      this.toastrService.showToast('Greška!', 'Došlo je do greške dok ste pokušali da promenite ' + trash.name +\r\n        '. Molimo vas pokušajte kasnije.', 'danger');\r\n    }\r\n  }\r\n\r\n  deleteTrash({data: trash, confirm: confirm}, storage: StorageTreatment): void {\r\n    this.selectedStorageTreatment = storage;\r\n    if (!window.confirm('Da li ste sigurni da želite da obrišete ' + trash.naziv + '?'))\r\n      return;\r\n    try {\r\n      this.trashService.deleteTrash(this.selectedStorageTreatment._id, trash._id).subscribe(x => {\r\n        this.updateStorage();\r\n      });\r\n      confirm.resolve();\r\n      this.toastrService.showToast('Uspeh!', 'Uspešno ste obrisali ' + trash.name, 'success');\r\n    } catch (err) {\r\n      confirm.reject();\r\n      this.toastrService.showToast('Greška!', 'Došlo je do greške dok ste pokušali da obrišete ' + trash.name +\r\n        '. Molimo vas pokušajte kasnije.', 'danger');\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n  <div *ngFor=\"let s of storageTreatment$ | async;\">\r\n    <storage-meter [storage]=\"s\"></storage-meter>\r\n    <nb-card>\r\n      <nb-card-header>\r\n        <div class=\"row\">\r\n          <div class=\"col-11\">\r\n            <h2 class=\"text-left\">{{ s?.name }}</h2>\r\n          </div>\r\n          <div class=\"col-1 d-flex justify-content-center align-items-center\">\r\n            <nb-icon class=\"edit-button\" (click)=\"edit()\" [icon]=\"editIcon\"></nb-icon>\r\n          </div>\r\n        </div>\r\n      </nb-card-header>\r\n      <nb-card-body>\r\n        <ng2-smart-table (custom)=\"chooseAction($event, s)\" [settings]=\"currentSettings\"\r\n                         [source]=\"s?.trashes\"\r\n                         (editConfirm)=\"updateTrash($event, s)\"\r\n                         (deleteConfirm)=\"deleteTrash($event, s)\"></ng2-smart-table>\r\n      </nb-card-body>\r\n    </nb-card>\r\n  </div>\r\n</div>\r\n<ng-template #addTrashTemplate>\r\n  <add-trash-popup [type]=\"'treatment'\" [selectedTrash]=\"selectedTrash\"\r\n                   (callAddTrash)=\"addTrashMethod($event)\"></add-trash-popup>\r\n\r\n</ng-template>\r\n\r\n<ng-template #processTrashTemplate>\r\n  <process-trash-popup [selectedTrash]=\"selectedTrash\"\r\n                       (callProcessTrash)=\"processTrashMethod($event)\"></process-trash-popup>\r\n</ng-template>\r\n\r\n<ng-template #leftoverTrashTemplate>\r\n  <leftover-trash-popup [selectedTrash]=\"selectedTrash\"\r\n                        [storageProduction]=\"storage\"\r\n                        (callLeftoverTrash)=\"leftoverTrashMethod($event)\"></leftover-trash-popup>\r\n</ng-template>\r\n","import { Observable } from 'rxjs';\r\nimport { Location } from './location';\r\nimport { Trash } from './trash';\r\nimport { Package } from './package';\r\n\r\nexport interface Storage {\r\n  _id?: string;\r\n  name: string;\r\n  address: {\r\n    location: Location;\r\n    street: string;\r\n  };\r\n  amount: number;\r\n  maxAmount: number;\r\n  storageUnit?: string;\r\n  geolocationNorth?: string[];\r\n  geolocationEast?: string[];\r\n  trashes?: Trash[];\r\n  packages?: Package[];\r\n  __t?: string;\r\n}\r\nexport interface StorageTreatment extends Storage {\r\n  treatment: string;\r\n}\r\nexport interface StorageDump extends Storage {\r\n  dumpType: string;\r\n}\r\nexport interface StorageCache extends Storage {\r\n  cache: string;\r\n}\r\nexport abstract class StorageData {\r\n  abstract createStorage(storage: Storage): Observable<Storage>;\r\n  abstract getStorage(value: string, type: string): Observable<Storage>;\r\n  abstract getStorages(value: string, type: string): Observable<Storage[]>;\r\n  abstract updateStorage(storage: Storage, value: string, type: string): Observable<Storage>;\r\n  abstract deleteStorage(value: string, type: string): Observable<Storage>;\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { NbComponentStatus } from '@nebular/theme';\r\nimport { Storage } from '../../../@core/data/storage';\r\n\r\n@Component({\r\n  selector: 'storage-meter',\r\n  templateUrl: './storage-meter.component.html',\r\n  styleUrls: ['./storage-meter.component.css'],\r\n})\r\nexport class StorageMeterComponent implements OnInit {\r\n  @Input() storage: Storage;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  calculateStatus(): NbComponentStatus {\r\n    if ((this.storage.amount / this.storage.maxAmount) * 100 < 33)\r\n      return 'success';\r\n    else if ((this.storage.amount / this.storage.maxAmount) * 100 < 66)\r\n      return 'warning';\r\n    else\r\n      return 'danger';\r\n  }\r\n\r\n  calculateValue(): number {\r\n    return (this.storage.amount / this.storage.maxAmount) * 100;\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-12 text-center progress-bar-text\">\r\n    <span class=\"badge badge-light\">{{storage.amount}}/{{storage.maxAmount}} ({{storage.storageUnit}})</span>\r\n  </div>\r\n  <div class=\"col-12\">\r\n    <nb-progress-bar [value]=\"calculateValue()\" [status]=\"calculateStatus()\" size=\"large\">\r\n    </nb-progress-bar>\r\n  </div>\r\n</div>\r\n","export const STORAGE_TREATMENT_SETTINGS: any = {\r\n  hideSubHeader: true,\r\n  actions: {\r\n    columnTitle: 'Dodaj otpad/Obradi otpad/Završi tretman',\r\n    position: 'right',\r\n    add: false,\r\n    edit: false,\r\n    delete: false,\r\n    custom: [\r\n      {\r\n        name: 'add',\r\n        title: '<i class=\"fa fa-plus\"></i>',\r\n      },\r\n      {\r\n        name: 'process',\r\n        title:  '<i class=\"fa fa-trash-restore\"></i>',\r\n      },\r\n      {\r\n        name: 'leftover',\r\n        title: '<i class=\"fa fa-exclamation-triangle\"></i>',\r\n      },\r\n    ],\r\n  },\r\n  columns: {\r\n    indexNumber: {\r\n      title: 'Indeksni Broj',\r\n    },\r\n    name: {\r\n      title: 'Naziv',\r\n    },\r\n    desc: {\r\n      title: 'Opis',\r\n    },\r\n    amount: {\r\n      title: 'Kolicina',\r\n    },\r\n  },\r\n};\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Company, CompanyData } from '../data/company';\r\n\r\n@Injectable()\r\nexport class CompanyService extends CompanyData {\r\n  private readonly apiUrl: string;\r\n\r\n  constructor(private http: HttpClient) {\r\n    super();\r\n    this.apiUrl = environment.apiUrl;\r\n  }\r\n\r\n  createCompany(company: Company): Observable<Company> {\r\n    return this.http.post<Company>(this.apiUrl + '/api/company', company);\r\n  }\r\n\r\n  deleteCompany(value: string, type: string = '_id'): Observable<Company> {\r\n    return this.http.delete<Company>(this.apiUrl + '/api/company/one/' + `${type}/${value}`);\r\n  }\r\n\r\n  getCompany(value: string, type: string = '_id'): Observable<Company> {\r\n    return this.http.get<Company>(this.apiUrl + '/api/company/one/' + `${type}/${value}`);\r\n  }\r\n\r\n  getCompanys(value: string = 'all', type: string): Observable<Company[]> {\r\n    return this.http.get<Company[]>(this.apiUrl + '/api/company/many/' + `${type}/${value}`);\r\n  }\r\n\r\n  updateCompany(company: Company, value: string, type: string = '_id'): Observable<Company> {\r\n    return this.http.patch<Company>(this.apiUrl + '/api/company/one/' + `${type}/${value}`, company);\r\n  }\r\n\r\n}\r\n\r\n","import { Component, EventEmitter, Input, OnInit, Output, TemplateRef, ViewChild } from '@angular/core';\r\nimport { NbComponentStatus, NbToastrService, NbWindowRef, NbWindowService } from '@nebular/theme';\r\nimport { Observable, of } from 'rxjs';\r\nimport { Storage } from '../../../@core/data/storage';\r\nimport { Trash } from '../../../@core/data/trash';\r\nimport { ToastrService } from '../../../@core/service/toastr.service';\r\nimport { TrashService } from '../../../@core/service/trash.service';\r\nimport { StorageService } from '../../../@core/service/storage.service';\r\nimport { STORAGE_EDIT_SETTINGS } from '../storage-edit.settings';\r\nimport { STORAGE_PRODUCTION_SETTINGS } from './storage-production.settings';\r\n\r\n@Component({\r\n  selector: 'storage-production',\r\n  templateUrl: './storage-production.component.html',\r\n  styleUrls: ['./storage-production.component.scss'],\r\n})\r\nexport class StorageProductionComponent implements OnInit {\r\n  @ViewChild('addTrashTemplate', {read: TemplateRef}) addTrashTemplate: TemplateRef<HTMLElement>;\r\n  private windowRef: NbWindowRef;\r\n\r\n  @Input() storage: Storage[];\r\n  storage$: Observable<Storage[]>;\r\n  selectedStorage: Storage;\r\n  @Output() updateStorageEvent = new EventEmitter<string>();\r\n  selectedTrash: Trash;\r\n\r\n  settings: any = STORAGE_PRODUCTION_SETTINGS;\r\n  currentSettings: any = this.settings;\r\n  editSettings: any = STORAGE_EDIT_SETTINGS;\r\n  editIcon: string = 'edit';\r\n\r\n  constructor(private storageService: StorageService, private windowService: NbWindowService,\r\n              private trashService: TrashService, private toastrService: ToastrService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.storage$ = of(this.storage);\r\n  }\r\n\r\n  updateStorage(): void {\r\n    this.updateStorageEvent.emit();\r\n    this.storage$ = of(this.storage);\r\n  }\r\n\r\n  edit(): void {\r\n    if (this.currentSettings !== this.editSettings) {\r\n      this.currentSettings = this.editSettings;\r\n      this.editIcon = 'close';\r\n    } else {\r\n      this.currentSettings = this.settings;\r\n      this.editIcon = 'edit';\r\n    }\r\n  }\r\n\r\n  chooseAction(event: any, storage: Storage) {\r\n    this.selectedStorage = storage;\r\n    if (event.action === 'add')\r\n      this.openAddTrashWindow(event.data);\r\n  }\r\n\r\n  private openAddTrashWindow(trash: Trash) {\r\n    this.selectedTrash = trash;\r\n    this.windowRef = this.windowService.open(this.addTrashTemplate,\r\n      {title: 'Dodaj proizvedenu kolicinu: ' + this.selectedTrash.name});\r\n  }\r\n\r\n  addTrashMethod({trashAmmount: trashAmmount}) {\r\n    if (this.selectedStorage.maxAmount < this.selectedStorage.amount + trashAmmount) {\r\n      this.toastrService.showToast('Greška', 'Ne možete da dodate više otpada nego što vaše skladište može da prihvati: '\r\n        + this.selectedStorage.maxAmount + ' ' + this.selectedStorage.storageUnit, 'warning');\r\n      return;\r\n    }\r\n    this.selectedTrash.amount += trashAmmount;\r\n    this.trashService.updateTrash(this.selectedTrash, this.selectedStorage._id, this.selectedTrash._id).subscribe(x => {\r\n      this.updateStorage();\r\n    });\r\n    this.toastrService.showToast('Uspeh',\r\n      'Uspešno ste dodali ' + trashAmmount + ' (kg) ' + this.selectedTrash.name + ' na skladište.',\r\n      'success');\r\n    this.windowRef.close();\r\n    trashAmmount = NaN;\r\n  }\r\n\r\n  updateTrash({newData: trash, confirm: confirm}, storage: Storage): void {\r\n    this.selectedStorage = storage;\r\n    try {\r\n      this.trashService.updateTrash(trash, this.selectedStorage._id, trash._id).subscribe(x => {\r\n        this.updateStorage();\r\n      });\r\n      confirm.resolve();\r\n      this.toastrService.showToast('Uspeh!', 'Uspešno ste uredili ' + trash.name, 'success');\r\n    } catch (err) {\r\n      confirm.reject();\r\n      this.toastrService.showToast('Greška!', 'Došlo je do greške dok ste pokušali da promenite ' + trash.name +\r\n        '. Molimo vas pokušajte kasnije.', 'danger');\r\n    }\r\n  }\r\n\r\n  deleteTrash({data: trash, confirm: confirm}, storage: Storage): void {\r\n    this.selectedStorage = storage;\r\n    if (!window.confirm('Da li ste sigurni da želite da obrišete ' + trash.name + '?'))\r\n      return;\r\n    try {\r\n        this.trashService.deleteTrash(this.selectedStorage._id, trash._id).subscribe(x => {\r\n          this.updateStorage();\r\n        });\r\n      confirm.resolve();\r\n      this.toastrService.showToast('Uspeh!', 'Uspešno ste obrisali ' + trash.naziv, 'success');\r\n    } catch (err) {\r\n      confirm.reject();\r\n      this.toastrService.showToast('Greška!', 'Došlo je do greške dok ste pokušali da obrišete ' + trash.naziv +\r\n        '. Molimo vas pokušajte kasnije.', 'danger');\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n  <div *ngFor=\"let s of storage$ | async\">\r\n    <storage-meter [storage]=\"s\"></storage-meter>\r\n    <nb-card>\r\n      <nb-card-header>\r\n        <div class=\"row\">\r\n          <div class=\"col-11\">\r\n            <h2 class=\"text-left\">{{ s?.name }}</h2>\r\n          </div>\r\n          <div class=\"col-1 d-flex justify-content-center align-items-center\">\r\n            <nb-icon class=\"edit-button\" (click)=\"edit()\" [icon]=\"editIcon\"></nb-icon>\r\n          </div>\r\n        </div>\r\n      </nb-card-header>\r\n      <nb-card-body>\r\n        <ng2-smart-table class=\"order-table\" (custom)=\"chooseAction($event, s)\" [settings]=\"currentSettings\"\r\n                         [source]=\"s?.trashes\"\r\n                         (editConfirm)=\"updateTrash($event, s)\"\r\n                         (deleteConfirm)=\"deleteTrash($event, s)\"></ng2-smart-table>\r\n      </nb-card-body>\r\n    </nb-card>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #addTrashTemplate>\r\n  <add-trash-popup [type]=\"'production'\" [selectedTrash]=\"selectedTrash\" (callAddTrash)=\"addTrashMethod($event)\"></add-trash-popup>\r\n</ng-template>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { StorageContainersComponent } from './storage-containers.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: StorageContainersComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class StorageRoutingModule {\r\n}\r\n"],"sourceRoot":"webpack:///"}