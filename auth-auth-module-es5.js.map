{"version":3,"sources":["webpack:///src/app/@core/service/location.service.ts","webpack:///src/app/auth/register/register-confirmation/register-confirmation.component.ts","webpack:///src/app/auth/register/register-confirmation/register-confirmation.component.html","webpack:///src/app/auth/register/register-user/register-user.component.html","webpack:///src/app/auth/register/register-user/register-user.component.ts","webpack:///src/app/@core/data/location.ts","webpack:///src/app/auth/auth-routing.module.ts","webpack:///src/app/auth/register/register-informations/trash/trash-storage/trash-storage.component.ts","webpack:///src/app/auth/register/register-informations/trash/trash-storage/trash-storage.component.html","webpack:///src/app/@core/service/toastr.service.ts","webpack:///src/app/auth/terms-of-service/terms-of-service.component.ts","webpack:///src/app/auth/terms-of-service/terms-of-service.component.html","webpack:///src/app/auth/register/register-informations/trash/trash-permit/trash-permit.component.html","webpack:///src/app/auth/register/register-informations/trash/trash-permit/trash-permit.component.ts","webpack:///src/app/@core/data/occupation.ts","webpack:///src/app/auth/forgot-password/forgot-password.component.ts","webpack:///src/app/auth/forgot-password/forgot-password.component.html","webpack:///src/app/@core/service/occupation.service.ts","webpack:///src/app/@core/data/company.ts","webpack:///src/app/@core/service/register.service.ts","webpack:///src/app/auth/register/register-company/register-company.component.html","webpack:///src/app/auth/register/register-company/register-company.component.ts","webpack:///src/app/auth/auth.module.ts","webpack:///src/app/auth/register/register-permit/register-permit.component.ts","webpack:///src/app/auth/register/register-permit/register-permit.component.html","webpack:///src/app/auth/register/register.component.ts","webpack:///src/app/auth/register/register.component.html","webpack:///src/app/auth/redirect/redirect.component.ts","webpack:///src/app/auth/redirect/redirect.component.html","webpack:///src/app/auth/register/register-informations/trash/trash-transport/trash-transport.component.html","webpack:///src/app/auth/register/register-informations/trash/trash-transport/trash-transport.component.ts","webpack:///src/app/auth/login/login.component.ts","webpack:///src/app/auth/login/login.component.html","webpack:///src/app/auth/email-confirmation/email-confirmation.component.ts","webpack:///src/app/auth/email-confirmation/email-confirmation.component.html","webpack:///src/app/auth/logout/logout.component.ts","webpack:///src/app/auth/logout/logout.component.html","webpack:///src/app/auth/register/register-informations/register-informations.component.html","webpack:///src/app/auth/register/register-informations/register-informations.component.ts","webpack:///src/app/auth/register/register-permit/catalog.settings.ts","webpack:///src/app/auth/register-guard.service.ts","webpack:///src/app/auth/register/register-operations/register-operations.component.ts","webpack:///src/app/auth/register/register-operations/register-operations.component.html","webpack:///src/app/@core/service/company.service.ts","webpack:///src/app/auth/reset-password/reset-password.component.ts","webpack:///src/app/auth/reset-password/reset-password.component.html"],"names":["LocationService","http","townshipsIsLoaded","apiUrl","location","undefined","value","type","get","patch","townshipNames","townshipName","arr","filterValue","toLowerCase","filter","x","includes","RegisterConfirmationComponent","service","options","windowService","cd","router","registerService","redirectDelay","showMessages","strategy","submitted","errors","messages","getConfigValue","key","operations$","getOperations","company$","getCompany","user$","getUser","token","reCaptcha","execute","user","subscribe","k","register","result","isSuccess","getMessages","getErrors","redirect","getRedirect","setTimeout","clearData","navigateByUrl","detectChanges","windowRef","open","termsOfServiceTemplate","title","resolved","openTermsOfService","RegisterUserComponent","toastrService","checkIssues","showPassword","retypePassword","email","firstName","lastName","password","phone","role","username","pipe","sendUser","form","invalid","showToast","text","Promise","all","checkUser","then","b","userExists","valid","navigate","validateUser","LocationData","routes","path","component","children","canActivate","pathMatch","redirectTo","NgxAuthRoutingModule","forChild","TrashStorageComponent","locationService","storageNo","tmpNo","townships","places","showStorageInput","numbers","Array","keys","f","company","storages","tmp","storageType","treatment","dumpType","cache","length","storages$","sendCompany","getDistinctTownships","o","townships$","validateStorage","permitRef","checkValid","s","name","maxAmount","isNaN","address","placeName","street","pressed","i","placeCode","townshipCode","zipCode","amount","storageUnit","geolocationEast","geolocationNorth","NaN","packages","trashes","forEach","push","updatePermits","getPlacesFromTownship","m","places$","getPlaces","updateStorages","$event","ToastrService","message","status","duration","show","TermsOfServiceComponent","TrashPermitComponent","permitsNo","showPermitsInput","permits","permitType","permits$","validatePermits","checkPermits","promises","t","permitExists","d","code","dateCreation","dateExpiration","storage","trashList","Date","permit","sendPermit","OccupationData","ForgotPasswordComponent","requestPassword","error","sendEmail","OccupationService","occupation","CompanyData","RegisterService","userService","companyService","permitService","vehicleService","Math","random","toFixed","emailReception","mat","manager","pib","operations","telephone","legalRep","nriz","wasteManager","permitCode","permitCode$","toPromise","res","p","getPermit","err","vehicles","v","getVehicle","licensePlate","RegisterCompanyComponent","occupationService","tmpEmail","getOccupations","occupations","occupations$","map","checkAddress","checkOccupation","checkCompany","companyExists","chooseTownship","findPlaces","findOccupations","clearTmpEmail","validateCompany","NgxAuthModule","RegisterPermitComponent","catalogService","catalog","settings","safe","unsafe","getSafeTrash","sort","a","indexNumber","localeCompare","load","getUnsafeTrash","getCatalogs","query","setFilter","field","search","filterFunction","cell","replace","trash","some","_id","removeTrash","found","index","indexOf","splice","onSearch","addTrash","RegisterComponent","korisnik","RedirectComponent","authService","isAuthenticated","getToken","getPayload","data","TrashTransportComponent","vehiclesNo","showVehicleInput","vehicles$","validateVehicles","checkVehicles","vehicleExists","vehicleNo","console","log","updateVehicles","LoginComponent","roleService","APP_VERSION","appVersion","rememberMe","authenticate","loginUser","login","EmailConfirmationComponent","LogoutComponent","widgetService","logout","ngOnDestroy","RegisterInformationsComponent","route","loading","activeTab","snapshot","paramMap","icon","productionRef","production","transportRef","transport","collectorRef","collector","treatmentRef","dumpRef","disposal","cacheRef","accordion","multi","closeAll","openAll","validateInformation","CATALOG_SETTINGS","pager","perPage","hideSubHeader","actions","columnTitle","position","add","edit","custom","columns","sortDirection","RegisterGuard","next","state","authenticated","pass","registerPath","routeConfig","u","c","RegisterOperationsComponent","trashIco","pack","carBatteryIco","recyleIco","waterIco","airIco","trashOperationsNo","specialWasteNo","packageOperationsNo","waterOperationsNo","airOperationsNo","updateOperations","sendOperations","trashOperationNumber","specialWasteOperationNumber","clearRemovedOperationsData","specialWastes","number","op","e","productionToggle","addOperation","checked","disabled","setDisabledState","remove","findIndex","addProcessOperation","validateOperations","CompanyService","post","ResetPasswordComponent","activatedRoute","params","resetPassword"],"mappings":"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E;;AACE;;AACA;;AACE;;AAEE;;AACE;;AACE;;AACE;;AACE;;AAA6C;;AAAY;;AAC3D;;AACA;;AACE;;AACO;AAAA;AAAA;;AADP;;AAaF;;AACA;;AACE;;AAaF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAAqC;;AAAmC;;AAC1E;;AACA;;AACE;;AACO;AAAA;AAAA;;AADP;;AAcF;;AACA;;AACE;;AAQF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AAAqC;;AAAa;;AACpD;;AACA;;AACE;;AACO;AAAA;AAAA;;AADP;;AAcF;;AACA;;AACE;;AAQF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAAwC;;AAAO;;AACjD;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AAA8C;;AAAQ;;AACxD;;AACA;;AACE;;AACO;AAAA;;AAAA;;AAAA,qBAAiB,IAAAW,cAAA,WAAjB;AAAmD,aAAnD,EAAoD,eAApD,EAAoD;AAAA;AAAA,aAApD;;AADP;;AAYA;;AACE;;;;AACF;;AACF;;AACA;;AACE;;AAKF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AAA2C;;AAAM;;AACnD;;AACA;;AACE;;AACO;AAAA;;AAAA;;AAAA,qBAAiB,IAAAC,UAAA,YAAjB;AAA4C,aAA5C,EAA6C,eAA7C,EAA6C;AAAA;AAAA,aAA7C;;AADP;;AAYA;;AACE;;;;AACF;;AACF;;AACA;;AACE;;AAKF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAAyC;;AAAe;;AAC1D;;AACA;;AACE;;AACO;AAAA;AAAA;;AADP;;AAaF;;AACA;;AACE;;AASF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AAAwC;;AAAa;;AAAQ;;AAC/D;;AACE;;AACO;AAAA;AAAA;;AADP;;AAWF;;AACA;;AACE;;AASF;;AACF;;AACF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAA4C;;AAAiB;;AAC/D;;AACA;;AACE;;AACO;AAAA;;AAAA;;AAAA,qBAAiB,IAAAC,eAAA,YAAjB;AAAkD,aAAlD,EAAmD,eAAnD,EAAmD;AAAA;AAAA,aAAnD;;AADP;;AAYA;;AACE;;;;AAEF;;AACF;;AACA;;AACE;;AAKF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAA8C;;AAAY;;AAC5D;;AACA;;AACE;;AACO;AAAA;AAAA;;AADP;;AAWF;;AACA;;AACE;;AAQF;;AACF;;AACF;;AAGA;;AACE;;AACE;;AACE;;AAAkD;;AAAc;;AAClE;;AACA;;AACE;;AACO;AAAA;AAAA;;AADP;;AAaF;;AACA;;AACE;;AASF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAA4C;;AAAW;;AACzD;;AACA;;AACE;;AACO;AAAA;AAAA;;AADP;;AAWF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAAuD;;AAAmC;;AAC5F;;AACA;;AACE;;AACW;AAAA;AAAA;;AAST;;AACW;AAAA,qBAAmB,IAAAC,aAAA,EAAnB;AAAkC,aAAlC;;AAAoC;;AAAiB;;AAChE;;AAAiC;AAAA,qBAAmB,IAAAA,aAAA,EAAnB;AAAkC,aAAlC;;AAAoC;;AAAe;;AACpF;;AAAwD;;AAAW;;AACrE;;AACF;;AACA;;AACE;;AASF;;AACF;;AACF;;AACA;;AAiCF;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAAuC;;AAErC;;AAEF;;AACF;;AACA;;AACE;;AACF;;AACF;;AACF;;AACF;;AAEA;;AA4EA;;AACE;;AACE;;AACE;;AACE;;AAAqB;;AAAoC;;AAC3D;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AAA+C;;AAAI;;AACrD;;AACA;;AACE;;AACO;AAAA;AAAA;;AADP;;AAYF;;AACA;;AACE;;AAUF;;AACF;;AACF;;AACA;;AACE;;AACE;;AACE;;AAA+C;;AAAQ;;AACzD;;AACA;;AACE;;AACO;AAAA;AAAA;;AADP;;AAYF;;AACA;;AACE;;AAUF;;AACF;;AACF;;AACF;;AACF;;AACF;;AAEA;;AACE;;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","file":"auth-auth-module-es5.js","sourcesContent":["import { Observable, of } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Location, LocationData } from '../data/location';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class LocationService extends LocationData {\r\n  private readonly apiUrl: string;\r\n  private townshipNames: Observable<string[]>;\r\n  private townshipsIsLoaded: Boolean = false;\r\n\r\n  constructor(private http: HttpClient) {\r\n    super();\r\n    this.apiUrl = environment.apiUrl;\r\n  }\r\n\r\n  createLocation(location: Location): Observable<Location> {\r\n    return undefined;\r\n  }\r\n\r\n  deleteLocation(value: string, type: string): Observable<Location> {\r\n    return undefined;\r\n  }\r\n\r\n  getLocation(value: string, type: string = '_id'): Observable<Location> {\r\n    return this.http.get<Location>(this.apiUrl + '/api/location/one/' + `${type}/${value}`);\r\n  }\r\n\r\n  getLocations(value: string = 'all', type: string = '_id'): Observable<Location[]> {\r\n    return this.http.get<Location[]>(this.apiUrl + '/api/location/many/' + `${type}/${value}`);\r\n  }\r\n\r\n  updateLocation(location: Location, value: string, type: string): Observable<Location> {\r\n    return this.http.patch<Location>(this.apiUrl + '/api/location/one/' + `${type}/${value}`, location);\r\n  }\r\n\r\n  // Get all the distinct names of townships as an array of string\r\n  getDistinctTownships(): Observable<string[]> {\r\n    if (!this.townshipsIsLoaded) {\r\n      this.townshipNames = this.http.get<string[]>(this.apiUrl + '/api/location/townships');\r\n      this.townshipsIsLoaded = true;\r\n    }\r\n    return this.townshipNames;\r\n  }\r\n\r\n  // Get all the places that are located in that township\r\n  getPlacesFromTownship(townshipName: string): Observable<string[]> {\r\n    return this.http.get<string[]>(this.apiUrl + '/api/location/place/' + townshipName);\r\n  }\r\n\r\n  filter(value: string, arr: string[]): Observable<string[]> {\r\n    const filterValue = value.toLowerCase();\r\n    if (arr === undefined) return;\r\n    return of(arr.filter(x => x.toLowerCase().includes(filterValue)));\r\n  }\r\n\r\n\r\n}\r\n","import { AfterViewInit, ChangeDetectorRef, Component, Inject, TemplateRef, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS, NbAuthResult, NbAuthService, NbRegisterComponent } from '@nebular/auth';\r\nimport { NbWindowRef, NbWindowService } from '@nebular/theme';\r\nimport { RecaptchaComponent } from 'ng-recaptcha';\r\nimport { Observable } from 'rxjs';\r\nimport { Company } from '../../../@core/data/company';\r\nimport { User } from '../../../@core/data/user';\r\nimport { RegisterService } from '../../../@core/service/register.service';\r\n\r\n@Component({\r\n  selector: 'register-confirmation',\r\n  templateUrl: './register-confirmation.component.html',\r\n  styleUrls: ['./register-confirmation.component.scss'],\r\n})\r\nexport class RegisterConfirmationComponent extends NbRegisterComponent implements AfterViewInit {\r\n  @ViewChild('reCaptcha') reCaptcha: RecaptchaComponent;\r\n  @ViewChild('termsOfServiceTemplate', {read: TemplateRef}) termsOfServiceTemplate: TemplateRef<HTMLElement>;\r\n  private windowRef: NbWindowRef;\r\n\r\n  company$: Observable<Company>;\r\n  user$: Observable<User>;\r\n  operations$: Observable<string[]>;\r\n  redirectDelay: number = 0;\r\n  showMessages: any = [];\r\n  strategy: string = '';\r\n  submitted = false;\r\n  errors: string[] = [];\r\n  messages: string[] = [];\r\n  reCaptchaModel: any;\r\n\r\n  constructor(protected service: NbAuthService, @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n              private windowService: NbWindowService,\r\n              protected cd: ChangeDetectorRef, protected router: Router, private registerService: RegisterService) {\r\n    super(service, options, cd, router);\r\n    this.redirectDelay = this.getConfigValue('forms.register.redirectDelay');\r\n    this.showMessages = this.getConfigValue('forms.register.showMessages');\r\n    this.strategy = this.getConfigValue('forms.register.strategy');\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.operations$ = this.registerService.getOperations();\r\n    this.company$ = this.registerService.getCompany();\r\n    this.user$ = this.registerService.getUser();\r\n  }\r\n\r\n  resolved(token: any) {\r\n  }\r\n\r\n  register(): void {\r\n    this.errors = this.messages = [];\r\n    this.submitted = true;\r\n    this.reCaptcha.execute();\r\n    let user: User;\r\n    this.user$.subscribe(k => {\r\n      user = k;\r\n    });\r\n\r\n    this.service.register(this.strategy, user).subscribe((result: NbAuthResult) => {\r\n      this.submitted = false;\r\n      if (result.isSuccess()) {\r\n        this.messages = result.getMessages();\r\n      } else {\r\n        this.errors = result.getErrors();\r\n      }\r\n      const redirect = result.getRedirect();\r\n      if (redirect) {\r\n        setTimeout(() => {\r\n          this.registerService.clearData();\r\n          return this.router.navigateByUrl(redirect);\r\n        }, this.redirectDelay);\r\n      }\r\n      this.cd.detectChanges();\r\n    });\r\n  }\r\n\r\n  openTermsOfService() {\r\n    this.windowRef = this.windowService.open(this.termsOfServiceTemplate, {title: 'Uslovi korienja'});\r\n  }\r\n}\r\n","<h1 class=\"text-center\">Registruj se!</h1>\r\n<nb-stepper disableStepNavigation selectedIndex=\"4\">\r\n  <nb-step label=\"User\" completed=\"true\">Test</nb-step>\r\n  <nb-step label=\"Firma\" completed=\"true\"></nb-step>\r\n  <nb-step label=\"Operacije\" completed=\"true\"></nb-step>\r\n  <nb-step label=\"Informacije\" completed=\"true\"></nb-step>\r\n  <nb-step label=\"Potvrda\">\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">\r\n        <div class=\"row mb-2\">\r\n          <h5>User:</h5>\r\n        </div>\r\n        <div class=\"row mb-2\">\r\n          <div class=\"col-12\">\r\n            <label class=\"text-muted\">Ime:</label>\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                    status=\"info\">{{(user$ | async)?.firstName}}</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"row mb-2\">\r\n          <div class=\"col-12\">\r\n            <label class=\"text-muted\">Prezime:</label>\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                    status=\"info\">{{(user$ | async)?.lastName}}</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"row mb-2\">\r\n          <div class=\"col-12\">\r\n            <label class=\"text-muted\">Telefon:</label>\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                    status=\"info\">{{(user$ | async)?.phone}}</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"row mb-2\">\r\n          <div class=\"col-12\">\r\n            <label class=\"text-muted\">Email:</label>\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                    status=\"info\">{{(user$ | async)?.email}}</button>\r\n          </div>\r\n        </div>\r\n        <div class=\"row mb-2\">\r\n          <div class=\"col-12\">\r\n            <label class=\"text-muted\">Korisniko ime:</label>\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                    status=\"info\">{{(user$ | async)?.username}}</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row mb-2\">\r\n          <h5>Rad firme:</h5>\r\n        </div>\r\n        <div class=\"row mb-2\">\r\n          <div class=\"col-12\">\r\n            <button *ngFor=\"let o of operations$ | async\" size=\"small\" nbButton class=\"no-select rad-text mb-2\"\r\n                    fullWidth\r\n                    outline\r\n                    status=\"warning\">{{o}}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <div class=\"col-12\">\r\n          <div class=\"row mb-2\">\r\n            <h5>Firma:</h5>\r\n          </div>\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-12\">\r\n              <label class=\"text-muted\">Naziv:</label>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                      status=\"success\">{{(company$ | async)?.name}}</button>\r\n            </div>\r\n          </div>\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-6\">\r\n              <label class=\"text-muted\">PIB:</label>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <label class=\"text-muted\">Matini broj:</label>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                      status=\"success\">{{(company$ | async)?.pib}}</button>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                      status=\"success\">{{(company$ | async)?.mat}}</button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-12\">\r\n              <label class=\"text-muted\">Adresa:</label>\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline status=\"success\">\r\n                {{(company$ | async)?.address.location.townshipName}}\r\n                , {{(company$ | async)?.address.location.placeName}},\r\n                {{(company$ | async)?.address.street}} {{(company$ | async)?.address.location.zipCode}}</button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-12\">\r\n              <label class=\"text-muted\">Delatnost:</label>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                      status=\"success\">{{(company$ | async)?.occupation.name}}</button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-6\">\r\n              <label class=\"text-muted\">Email:</label>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <label class=\"text-muted\">Telefon:</label>\r\n            </div>\r\n            <div class=\"col-6 mb-1\">\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                      status=\"success\"><p class=\"email-text p-0 m-0\">{{(company$ | async)?.email}}</p></button>\r\n            </div>\r\n            <div class=\"col-6 mb-1\">\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                      status=\"success\">{{(company$ | async)?.telephone}}</button>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <label class=\"text-muted\">Email za prijem dokumenata:</label>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <label class=\"text-muted\">Faks:</label>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                      status=\"success\"><p class=\"email-text p-0 m-0\">{{(company$ | async)?.emailReception}}</p></button>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                      status=\"success\">{{(company$ | async)?.fax === '' ? '/' : (company$ | async)?.fax}}</button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-12\">\r\n              <label class=\"text-muted\">Zakonski zastupnik firme:</label>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                      status=\"success\">{{(company$ | async)?.legalRep.firstName}}</button>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <button size=\"small\" nbButton class=\"no-select\" fullWidth outline\r\n                      status=\"success\">{{(company$ | async)?.legalRep.lastName}}</button>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <form (ngSubmit)=\"register()\">\r\n      <button nbButton\r\n              fullWidth\r\n              status=\"danger\"\r\n              routerLink=\"../register-informations\"\r\n              class=\"mt-2 col-6\">\r\n        Nazad\r\n      </button>\r\n      <button nbButton\r\n              fullWidth\r\n              class=\"col-6 mt-2\"\r\n              status=\"success\"\r\n              type=\"submit\"\r\n              [disabled]=\"!(uslovi.checked && tacnost.checked)\">\r\n        Zavri\r\n      </button>\r\n      <re-captcha [siteKey]=\"'6LfLNHsaAAAAAIhkWmF3F-DXvLPWdGQU2EpE-KvW'\"\r\n                  (resolved)=\"resolved($event)\" size=\"invisible\" #reCaptcha=\"reCaptcha\"></re-captcha>\r\n    </form>\r\n\r\n    <div class=\"row justify-content-center mt-2 mb-2\">\r\n      <div class=\"col-5 flex-fill\">\r\n        <nb-checkbox name=\"terms\" #uslovi required>\r\n          Slaem se sa <a (click)=\"openTermsOfService()\" href=\"javascript:;\"><strong>Uslovima Korienjima</strong></a>\r\n        </nb-checkbox>\r\n      </div>\r\n      <div class=\"col-5 flex-fill\">\r\n        <nb-checkbox name=\"tacnost\" #tacnost required>Potvrujem da su sve unete informacije tane\r\n        </nb-checkbox>\r\n      </div>\r\n\r\n    </div>\r\n  </nb-step>\r\n</nb-stepper>\r\n\r\n<ng-template #termsOfServiceTemplate>\r\n  <terms-of-service></terms-of-service>\r\n</ng-template>\r\n","<div class=\"container-fluid\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <h1 class=\"text-center\">Registruj se!</h1>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-12\">\r\n    <nb-stepper disableStepNavigation>\r\n      <nb-step label=\"Korisnik\">\r\n        <form #userForm=\"ngForm\" tabindex=\"-1\">\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-6\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-firstName\">Ime:</label></div>\r\n                <div class=\"col-12\">\r\n                  <input #firstName=\"ngModel\"\r\n                         [(ngModel)]=\"user.firstName\"\r\n                         [attr.aria-invalid]=\"firstName.invalid && firstName.touched ? true : null\"\r\n                         [maxlength]=\"getConfigValue('forms.validation.firstName.maxLength')\"\r\n                         [minlength]=\"getConfigValue('forms.validation.firstName.minLength')\"\r\n                         [pattern]=\"getConfigValue('forms.validation.firstName.pattern')\"\r\n                         [required]=\"getConfigValue('forms.validation.firstName.required')\"\r\n                         [status]=\"firstName.dirty ? (firstName.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         autofocus\r\n                         fullWidth\r\n                         id=\"input-firstName\"\r\n                         name=\"firstName\"\r\n                         nbInput\r\n                         onkeypress=\"return /[a-zA-Z]/i.test(event.key)\"\r\n                         placeholder=\"Ime\"\r\n                         tabindex=\"1\">\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(firstName.invalid && firstName.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"firstName.errors?.required\">\r\n                      Ime je obavezno!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\"\r\n                       *ngIf=\"firstName.errors?.minlength || firstName.errors?.maxlength\">\r\n                      Ime mora da bude due od\r\n                      {{ getConfigValue('forms.validation.firstName.minLength') }}\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"firstName.errors?.pattern\">\r\n                      Ime mora biti validno!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-6\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-lastName\">Prezime:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #lastName=\"ngModel\"\r\n                         [(ngModel)]=\"user.lastName\"\r\n                         [attr.aria-invalid]=\"lastName.invalid && lastName.touched ? true : null\"\r\n                         [maxlength]=\"getConfigValue('forms.validation.lastName.maxLength')\"\r\n                         [minlength]=\"getConfigValue('forms.validation.lastName.minLength')\"\r\n                         [pattern]=\"getConfigValue('forms.validation.lastName.pattern')\"\r\n                         [required]=\"getConfigValue('forms.validation.lastName.required')\"\r\n                         [status]=\"lastName.dirty ? (lastName.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         fullWidth\r\n                         id=\"input-lastName\"\r\n                         name=\"lastName\"\r\n                         nbInput\r\n                         onkeypress=\"return /[a-zA-Z\\-]/i.test(event.key)\"\r\n                         placeholder=\"Prezime\"\r\n                         tabindex=\"2\">\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(lastName.invalid && lastName.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"lastName.errors?.required\">\r\n                      Prezime je obavezno!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"lastName.errors?.minlength\">\r\n                      Prezime mora da bude due od\r\n                      {{ getConfigValue('forms.validation.lastName.minLength') }}\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"lastName.errors?.pattern\">\r\n                      Prezime mora biti validno!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-6\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-username\">Korisniko ime:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #username=\"ngModel\"\r\n                         [(ngModel)]=\"user.username\"\r\n                         [attr.aria-invalid]=\"username.invalid && username.touched ? true : null\"\r\n                         [maxlength]=\"getConfigValue('forms.validation.username.maxLength')\"\r\n                         [minlength]=\"getConfigValue('forms.validation.username.minLength')\"\r\n                         [pattern]=\"getConfigValue('forms.validation.username.pattern')\"\r\n                         [required]=\"getConfigValue('forms.validation.username.required')\"\r\n                         [status]=\"username.dirty ? (username.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         fullWidth\r\n                         id=\"input-username\"\r\n                         name=\"username\"\r\n                         nbInput\r\n                         placeholder=\"Korisniko ime\"\r\n                         tabindex=\"3\">\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(username.invalid && username.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"username.errors?.required\">\r\n                      Korisniko ime je obavezno!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\"\r\n                       *ngIf=\"username.errors?.minlength || username.errors?.maxlength\">\r\n                      Korisniko ime mora biti due od\r\n                      {{ getConfigValue('forms.validation.username.minLength') }}!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"username.errors?.pattern\">\r\n                      Korisniko ime mora biti validno! Ne sme imati razmaka ili karaktere '@!?'.\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-telephone\">Telefon:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #telephone=\"ngModel\"\r\n                         [(ngModel)]=\"user.phone\"\r\n                         [attr.aria-invalid]=\"telephone.invalid && telephone.touched ? true : null\"\r\n                         [maxlength]=\"getConfigValue('forms.validation.telephone.maxLength')\"\r\n                         [minlength]=\"getConfigValue('forms.validation.telephone.minLength')\"\r\n                         [required]=\"getConfigValue('forms.validation.telephone.required')\"\r\n                         [status]=\"telephone.dirty ? (telephone.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         fullWidth\r\n                         id=\"input-telephone\"\r\n                         name=\"phone\"\r\n                         nbInput\r\n                         onkeypress=\"return /[0-9]/i.test(event.key)\"\r\n                         placeholder=\"Telefon\"\r\n                         tabindex=\"4\">\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(telephone.invalid && telephone.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"telephone.errors?.required\">\r\n                      Telefon je obavezan!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\"\r\n                       *ngIf=\"telephone.errors?.minlength || telephone.errors?.maxlength\">\r\n                      Telefon mora biti validan!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-12\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-email\">Email:\r\n                    <i class=\"fa fa-info-circle\"\r\n                       [nbTooltip]=\"'Email ne delimo, on slui za laku komunikaciju sa nama.'\"></i>\r\n                  </label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #email=\"ngModel\"\r\n                         [(ngModel)]=\"user.email\"\r\n                         tabindex=\"5\"\r\n                         [attr.aria-invalid]=\"email.invalid && email.touched ? true : null\"\r\n                         [pattern]=\"getConfigValue('forms.validation.email.pattern')\"\r\n                         [required]=\"getConfigValue('forms.validation.email.required')\"\r\n                         [status]=\"email.dirty ? (email.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         fullWidth\r\n                         id=\"input-email\"\r\n                         name=\"email\"\r\n                         nbInput\r\n                         placeholder=\"Email\">\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(email.invalid && email.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"email.errors?.required\">\r\n                      Email je obavezan!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"email.errors?.pattern\">\r\n                      Email mora biti validan!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-6\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-password\">ifra:\r\n                    <i class=\"fa fa-info-circle\"\r\n                       [nbTooltip]=\"'Unesite minimum 6 karaktera za kreiranje lozinke. Preporuka je da Vaa lozinka ima vie od 8 karaktera da bi bila to bezbednija, koristite znakove kao to su !,@,$...'\"></i>\r\n                  </label>\r\n                </div>\r\n                <div class=\"col-10 pr-0\">\r\n                  <input #password=\"ngModel\"\r\n                         [(ngModel)]=\"user.password\"\r\n                         [attr.aria-invalid]=\"password.invalid && password.touched ? true : null\"\r\n                         [maxlength]=\"getConfigValue('forms.validation.password.maxLength')\"\r\n                         [minlength]=\"getConfigValue('forms.validation.password.minLength')\"\r\n                         [pattern]=\"getConfigValue('forms.validation.password.pattern')\"\r\n                         [required]=\"getConfigValue('forms.validation.password.required')\"\r\n                         [status]=\"password.dirty ? (password.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         [type]=\"showPassword === 'eye' ? 'password' : 'text'\"\r\n                         fullWidth\r\n                         id=\"input-password\"\r\n                         name=\"password\"\r\n                         nbInput\r\n                         placeholder=\"ifra\"\r\n                         tabindex=\"6\">\r\n                </div>\r\n                <div class=\"col-2 pl-0\">\r\n                  <button fullWidth tabindex=\"-1\" nbButton type=\"button\"\r\n                          (click)=\"this.showPassword = this.showPassword === 'eye' ? 'eye-off' : 'eye';\">\r\n                    <nb-icon [icon]=\"showPassword\"></nb-icon>\r\n                  </button>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(password.invalid && password.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"password.errors?.required\">\r\n                      ifra je obavezna!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"password.errors?.minlength || password.errors?.maxlength\">\r\n                      ifra ne sme biti kraa od\r\n                      {{ getConfigValue('forms.validation.password.minLength') }}!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"password.errors?.pattern\">\r\n                      ifra mora biti validna! Ne sme imati razmake!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-rePassword\">Ponovi ifru:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #retypePasswordModel=\"ngModel\"\r\n                         [(ngModel)]=\"retypePassword\"\r\n                         [attr.aria-invalid]=\"retypePasswordModel.invalid && retypePasswordModel.touched ? true : null\"\r\n                         [maxlength]=\"getConfigValue('forms.validation.password.maxLength')\"\r\n                         [minlength]=\"getConfigValue('forms.validation.password.minLength')\"\r\n                         [pattern]=\"getConfigValue('forms.validation.password.pattern')\"\r\n                         [required]=\"getConfigValue('forms.validation.password.required')\"\r\n                         [status]=\"retypePasswordModel.dirty ? (retypePasswordModel.invalid || password.value !== retypePasswordModel.value  ? 'danger' : 'success') : 'basic'\"\r\n                         [type]=\"showPassword === 'eye' ? 'password' : 'text'\"\r\n                         fullWidth\r\n                         id=\"input-rePassword\"\r\n                         name=\"rePass\"\r\n                         nbInput\r\n                         placeholder=\"Potvrdi ifru\"\r\n                         tabindex=\"7\">\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container\r\n                    *ngIf=\"(retypePasswordModel.invalid && password.touched || retypePasswordModel.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"retypePasswordModel.errors?.required\">\r\n                      Ponovna ifra je obavezna!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"password.value !== retypePasswordModel.value\">\r\n                      ifra se ne poklapa sa ve upisanom ifrom!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mt-3\">\r\n            <div class=\"col-12\">\r\n              <button nbButton\r\n                      fullWidth\r\n                      status=\"success\"\r\n                      tabindex=\"8\"\r\n                      type=\"submit\"\r\n                      (click)=\"validateUser(userForm)\">\r\n                Dalje\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n        </form>\r\n      </nb-step>\r\n      <nb-step label=\"Firma\"></nb-step>\r\n      <nb-step label=\"Operacije\"></nb-step>\r\n      <nb-step label=\"Informacije\"></nb-step>\r\n      <nb-step label=\"Potvrda\"></nb-step>\r\n    </nb-stepper>\r\n  </div>\r\n\r\n  <div class=\"col-12\">\r\n    <section class=\"text-center\" aria-label=\"Uloguj se\">\r\n      Ve imate nalog? <a class=\"text-link\" routerLink=\"../login\">Uloguj se</a>\r\n    </section>\r\n  </div>\r\n</div>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS } from '@nebular/auth';\r\nimport { of } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\nimport { User } from '../../../@core/data/user';\r\nimport { RegisterService } from '../../../@core/service/register.service';\r\nimport { ToastrService } from '../../../@core/service/toastr.service';\r\n\r\n@Component({\r\n  selector: 'register-user',\r\n  templateUrl: './register-user.component.html',\r\n  styleUrls: ['./register-user.component.scss'],\r\n})\r\nexport class RegisterUserComponent implements OnInit {\r\n\r\n  checkIssues: boolean = false;\r\n  showPassword: string = 'eye';\r\n  retypePassword: string = '';\r\n  user: User = {email: '', firstName: '', lastName: '', password: '', phone: '', role: '', username: ''};\r\n\r\n  constructor(@Inject(NB_AUTH_OPTIONS) protected options = {}, private registerService: RegisterService,\r\n              private router: Router, private toastrService: ToastrService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.registerService.getUser().pipe(first()).subscribe(k => {\r\n      this.user = k;\r\n    });\r\n    this.registerService.sendUser(of(this.user));\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  async validateUser(form: NgForm) {\r\n    if (form.invalid) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka!', 'Ispravite greke da bi ste nastavili.', 'warning');\r\n      return false;\r\n    }\r\n    let text = '';\r\n    const userExists = await Promise.all(this.registerService.checkUser(this.user)).then(b => {\r\n      text = !b[0] ? 'to korisniko ime' : text;\r\n      text = !b[1] ? 'taj telefon' : text;\r\n      text = !b[2] ? 'taj email' : text;\r\n      return b[0] && b[1] && b[2];\r\n    });\r\n    if (!userExists) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast(`Ve postoji ${text}!`, `Promenite ${text} da biste nastavili.`, 'danger');\r\n      return;\r\n    }\r\n    if (form.valid && this.retypePassword === this.user.password) {\r\n      await this.router.navigate(['auth/register-company']);\r\n    } else {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka!', 'Ispravite greke da bi ste nastavili.', 'warning');\r\n    }\r\n  }\r\n\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nexport interface Location {\r\n  _id?: string;\r\n  townshipCode: number;\r\n  townshipName: string;\r\n  placeCode: number;\r\n  placeName: string;\r\n  zipCode: string;\r\n}\r\n\r\nexport abstract class LocationData {\r\n  abstract createLocation(location: Location): Observable<Location>;\r\n  abstract getLocation(value: string, type: string): Observable<Location>;\r\n  abstract getLocations(value: string, type: string): Observable<Location[]>;\r\n  abstract updateLocation(location: Location, value: string, type: string): Observable<Location>;\r\n  abstract deleteLocation(value: string, type: string): Observable<Location>;\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport {\r\n  NbAuthComponent,\r\n} from '@nebular/auth';\r\nimport { EmailConfirmationComponent } from './email-confirmation/email-confirmation.component';\r\nimport { ForgotPasswordComponent } from './forgot-password/forgot-password.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { LogoutComponent } from './logout/logout.component';\r\nimport { RedirectComponent } from './redirect/redirect.component';\r\nimport { RegisterGuard } from './register-guard.service';\r\nimport { RegisterPermitComponent } from './register/register-permit/register-permit.component';\r\nimport { RegisterCompanyComponent } from './register/register-company/register-company.component';\r\nimport { RegisterInformationsComponent } from './register/register-informations/register-informations.component';\r\nimport { RegisterUserComponent } from './register/register-user/register-user.component';\r\nimport { RegisterOperationsComponent } from './register/register-operations/register-operations.component';\r\nimport { RegisterConfirmationComponent } from './register/register-confirmation/register-confirmation.component';\r\nimport { ResetPasswordComponent } from './reset-password/reset-password.component';\r\n\r\nexport const routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NbAuthComponent,\r\n    children: [\r\n      {\r\n        path: 'login',\r\n        component: LoginComponent,\r\n      },\r\n      {\r\n        path: 'register-user',\r\n        component: RegisterUserComponent,\r\n        canActivate: [RegisterGuard],\r\n      },\r\n      {\r\n        path: 'register-company',\r\n        component: RegisterCompanyComponent,\r\n        canActivate: [RegisterGuard],\r\n      },\r\n      {\r\n        path: 'register-operations',\r\n        component: RegisterOperationsComponent,\r\n        canActivate: [RegisterGuard],\r\n      },\r\n      {\r\n        path: 'register-informations/:tab',\r\n        component: RegisterInformationsComponent,\r\n        pathMatch: 'full',\r\n        canActivate: [RegisterGuard],\r\n      },\r\n      {\r\n        path: 'register-informations',\r\n        component: RegisterInformationsComponent,\r\n        pathMatch: 'full',\r\n        canActivate: [RegisterGuard],\r\n      },\r\n      {\r\n        path: 'register-permit',\r\n        component: RegisterPermitComponent,\r\n      },\r\n      {\r\n        path: 'register-confirmation',\r\n        component: RegisterConfirmationComponent,\r\n        canActivate: [RegisterGuard],\r\n      },\r\n      {\r\n        path: 'logout',\r\n        component: LogoutComponent,\r\n      },\r\n      {\r\n        path: 'email-confirm',\r\n        component: EmailConfirmationComponent,\r\n      },\r\n      {\r\n        path: 'forgot-password',\r\n        component: ForgotPasswordComponent,\r\n      },\r\n      {\r\n        path: 'reset-password',\r\n        component: ResetPasswordComponent,\r\n      },\r\n      {\r\n        path: 'redirect',\r\n        component: RedirectComponent,\r\n      },\r\n    ],\r\n  },\r\n  {path: '', redirectTo: 'auth/login'},\r\n  {path: '**', redirectTo: 'auth/login'},\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class NgxAuthRoutingModule {\r\n}\r\n","import { Component, Inject, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS } from '@nebular/auth';\r\nimport { Observable, of } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\nimport { Company } from '../../../../../@core/data/company';\r\nimport { Storage, StorageCache, StorageDump, StorageTreatment } from '../../../../../@core/data/storage';\r\nimport { LocationService } from '../../../../../@core/service/location.service';\r\nimport { RegisterService } from '../../../../../@core/service/register.service';\r\nimport { TrashPermitComponent } from '../trash-permit/trash-permit.component';\r\n\r\n@Component({\r\n  selector: 'register-trash-storage',\r\n  templateUrl: './trash-storage.component.html',\r\n  styleUrls: ['./trash-storage.component.css'],\r\n})\r\nexport class TrashStorageComponent implements OnInit {\r\n  @ViewChild('permitRef') permitRef: TrashPermitComponent;\r\n  @Input() storageType: string;\r\n  @Input() trashType: string;\r\n\r\n  company: Company;\r\n  storageNo: number = 0;\r\n  tmpNo: number = 0;\r\n  storages: Storage[];\r\n  storages$: Observable<Storage[]>;\r\n  townships: string[] = [];\r\n  townships$: Observable<string[]>;\r\n  places: string[] = [];\r\n  places$: Observable<string[]>;\r\n  showStorageInput: boolean = false;\r\n  checkIssues: boolean = false;\r\n  valid: boolean = false;\r\n  numbers: number[];\r\n\r\n  constructor(@Inject(NB_AUTH_OPTIONS) protected options = {}, private registerService: RegisterService,\r\n              private locationService: LocationService) {\r\n    this.numbers = [...Array(7).keys()];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.registerService.getCompany().pipe(first()).subscribe(f => {\r\n      if (f !== undefined) {\r\n        this.company = f;\r\n        if (f.storages !== undefined) {\r\n          let tmp = [];\r\n          if (this.storageType === 'treatment') {\r\n            tmp = <StorageTreatment[]>this.company.storages;\r\n            this.storages = tmp.filter(x => x.treatment !== undefined);\r\n          } else if (this.storageType === 'dump') {\r\n            tmp = <StorageDump[]>this.company.storages;\r\n            this.storages = tmp.filter(x => x.dumpType !== undefined);\r\n          } else if (this.storageType === 'cache') {\r\n            tmp = <StorageCache[]>this.company.storages;\r\n            this.storages = tmp.filter(x => x.cache !== undefined);\r\n          } else {\r\n            tmp = <any[]>this.company.storages;\r\n            this.storages = <Storage[]>tmp.filter(x => x.cache === undefined &&\r\n              x.dumpType === undefined && x.treatment === undefined);\r\n          }\r\n          this.storageNo = this.storages.length;\r\n          this.storages$ = of(this.storages);\r\n        }\r\n      }\r\n    });\r\n    this.registerService.sendCompany(of(this.company));\r\n    this.locationService.getDistinctTownships().pipe(first()).subscribe(o => {\r\n      this.townships = o;\r\n      this.townships$ = of(o);\r\n    });\r\n    this.validateStorage();\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  checkValid(): boolean {\r\n    this.validateStorage();\r\n    if (this.permitRef !== undefined && !this.permitRef.checkValid())\r\n      return false;\r\n    if (this.valid)\r\n      return true;\r\n    else {\r\n      this.checkIssues = true;\r\n      return false;\r\n    }\r\n  }\r\n\r\n  validateStorage(): void {\r\n    if (this.storages === undefined)\r\n      return;\r\n    this.valid = this.storages.length > 0;\r\n    for (const s of this.storages) {\r\n      if (s.name === '' || s.name.length < 3) {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n      if (s.maxAmount < 1 || isNaN(s.maxAmount)) {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n      if (s.address.location.placeName === '' || s.address.location.townshipName === '') {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n      if (s.address.street === '') {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n      if (this.storageType === 'dump' && s['dumpType'] === '') {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  updateStorages(storageNo: number, pressed: boolean) {\r\n    if (!pressed)\r\n      return;\r\n    this.storageNo = storageNo;\r\n    let tmp = new Array();\r\n    if (this.storageType === 'treatment') {\r\n      tmp = <StorageTreatment[]>this.company.storages;\r\n      this.company.storages = tmp.filter(x => x.treatment === undefined);\r\n    } else if (this.storageType === 'dump') {\r\n      tmp = <StorageDump[]>this.company.storages;\r\n      this.company.storages = tmp.filter(x => x.dumpType === undefined);\r\n    } else if (this.storageType === 'cache') {\r\n      tmp = <StorageCache[]>this.company.storages;\r\n      this.company.storages = tmp.filter(x => x.cache === undefined);\r\n    } else {\r\n      tmp = this.company.storages;\r\n      this.company.storages = tmp.filter(x => x.treatment || x.dumpType || x.cache);\r\n    }\r\n    this.storages = new Array(this.storageNo);\r\n    for (let i = 0; i < this.storageNo; i++) {\r\n      this.storages[i] = {\r\n        address: {location: {placeName: '', placeCode: 0, townshipName: '', townshipCode: 0, zipCode: ''}, street: ''},\r\n        amount: 0,\r\n        storageUnit: 'KG',\r\n        geolocationEast: ['0', '0', '0', '0', '0', '0', '0'],\r\n        geolocationNorth: ['0', '0', '0', '0', '0', '0', '0'],\r\n        maxAmount: NaN,\r\n        name: '',\r\n        packages: [],\r\n        trashes: [],\r\n      };\r\n      if (this.storageType === 'cache') {\r\n        this.storages[i]['cache'] = 'cache';\r\n      }\r\n      if (this.storageType === 'treatment') {\r\n        this.storages[i]['treatment'] = 'treatment';\r\n      }\r\n      if (this.storageType === 'dump') {\r\n        this.storages[i]['dumpType'] = '';\r\n      }\r\n    }\r\n    this.storages$ = of(this.storages);\r\n    this.storages.forEach(x => this.company.storages.push(x));\r\n    this.validateStorage();\r\n    if (this.permitRef !== undefined)\r\n      this.permitRef.updatePermits(this.storageNo, this.storages$);\r\n  }\r\n\r\n  private getPlaces(townshipName: string): void {\r\n    if (townshipName === undefined) return;\r\n    this.locationService.getPlacesFromTownship(townshipName).pipe(first()).subscribe(m => {\r\n      this.places = m;\r\n      this.places$ = of(m);\r\n    });\r\n  }\r\n\r\n  chooseTownship(value: string) {\r\n    if (value === '') {\r\n      this.townships$ = of(this.townships);\r\n      return;\r\n    }\r\n    this.townships$ = this.locationService.filter(value, this.townships);\r\n    if (this.townships$ !== undefined)\r\n      this.townships$.subscribe(x => this.getPlaces(x[0]));\r\n  }\r\n\r\n  findPlaces(value: string) {\r\n    this.places$ = this.locationService.filter(value, this.places);\r\n  }\r\n\r\n  isNaN(value: any): boolean {\r\n    return isNaN(value) || value === undefined;\r\n  }\r\n\r\n}\r\n","<div class=\"row my-1\">\r\n  <div class=\"col-12\">\r\n    <form #updateStorageForm>\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <label class=\"label\" for=\"input-storageNo\">Broj skladita:</label>\r\n        </div>\r\n        <div class=\"col-12\">\r\n          <nb-button-group>\r\n            <button (pressedChange)=\"updateStorages(1, $event)\" nbButtonToggle>1</button>\r\n            <button (pressedChange)=\"updateStorages(2, $event)\" nbButtonToggle>2</button>\r\n            <button (pressedChange)=\"updateStorages(3, $event)\" nbButtonToggle>3</button>\r\n            <button (pressedChange)=\"updateStorages(4, $event)\" nbButtonToggle>4</button>\r\n            <button (pressedChange)=\"updateStorages(5, $event)\" nbButtonToggle>5</button>\r\n            <button (pressedChange)=\"showStorageInput = !showStorageInput\" nbButtonToggle>Vie...</button>\r\n            <input *ngIf=\"showStorageInput\" [(ngModel)]=\"tmpNo\" [ngModelOptions]=\"{standalone: true}\"\r\n                   fullWidth nbInput id=\"input-storageNo\"\r\n                   placeholder=\"0\" step=\"1\" type=\"number\">\r\n            <button *ngIf=\"showStorageInput\" nbButton (click)=\"updateStorages(tmpNo, true)\"><i class=\"fa fa-plus\"></i>\r\n            </button>\r\n          </nb-button-group>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"storageNo > 0\" class=\"row mt-3\">\r\n  <div *ngFor=\"let storage of storages$ | async; let i=index\" class=\"col-12\">\r\n    <form #storageForm=\"ngForm\">\r\n\r\n      <nb-card accent=\"primary\" class=\"p-2\">\r\n        <nb-card-body>\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-12\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-storageName\">Naziv Skladita:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #storageName=\"ngModel\"\r\n                         [(ngModel)]=\"storage.name\"\r\n                         [attr.aria-invalid]=\"storageName.invalid && storageName.touched ? true : null\"\r\n                         [maxlength]=\"getConfigValue('forms.validation.storageName.maxLength')\"\r\n                         [minlength]=\"getConfigValue('forms.validation.storageName.minLength')\"\r\n                         [ngModelOptions]=\"{standalone: true}\"\r\n                         [placeholder]=\"'Skladite #' + (i + 1)\"\r\n                         [required]=\"getConfigValue('forms.validation.storageName.required')\"\r\n                         [status]=\"storageName.dirty ? (storageName.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         autofocus\r\n                         fullWidth\r\n                         id=\"input-storageName\"\r\n                         name=\"storageName\"\r\n                         nbInput>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(storageName.invalid && storageName.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"storageName.errors?.required\">\r\n                      Naziv skladita je obavezan!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\"\r\n                       *ngIf=\"storageName.errors?.minlength || storageName.errors?.maxlength\">\r\n                      Naziv skladita mora biti dui od\r\n                      {{ getConfigValue('forms.validation.storageName.minLength') }} slova!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row my-1\" *ngIf=\"storageType === 'dump'\">\r\n            <div class=\"col-12\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-dumpType\">Vrsta Deponije:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-select #dumpType=\"ngModel\"\r\n                             [(ngModel)]=\"storage.dumpType\"\r\n                             [attr.aria-invalid]=\"dumpType.invalid && dumpType.touched ? true : null\"\r\n                             [ngModelOptions]=\"{standalone: true}\"\r\n                             [required]=\"getConfigValue('forms.validation.dumpType.required')\"\r\n                             [status]=\"dumpType.dirty ? (dumpType.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                             fullWidth\r\n                             id=\"input-dumpType\"\r\n                             name=\"dumpType\"\r\n                             placeholder=\"Vrsta deponije\">\r\n                    <nb-option [value]=\"'Neopasan'\">Neopasan otpad</nb-option>\r\n                    <nb-option [value]=\"'Opasan'\">Opasan otpad</nb-option>\r\n                    <nb-option [value]=\"'Inertan'\">Inertan otpad</nb-option>\r\n                  </nb-select>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(dumpType.invalid && dumpType.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"dumpType.errors?.required\">\r\n                      Vrsta skladita je obavezna!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-12\">\r\n              <label class=\"label\" for=\"input-address\">Adresa:</label>\r\n              <div class=\"row ml-2\" id=\"input-address\">\r\n                <div class=\"col-6\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                      <label class=\"label\" for=\"input-storageTownship\">Optina:</label>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <input #storageTownship=\"ngModel\"\r\n                             (ngModelChange)=\"chooseTownship(storageTownship.value)\"\r\n                             [(ngModel)]=\"storage.address.location.townshipName\"\r\n                             [attr.aria-invalid]=\"storageTownship.invalid && storageTownship.touched ? true : null\"\r\n                             [nbAutocomplete]=\"autoCompleteTownship\"\r\n                             [ngModelOptions]=\"{standalone: true}\"\r\n                             [required]=\"getConfigValue('forms.validation.address.required')\"\r\n                             autocomplete=\"off\"\r\n                             fullWidth\r\n                             id=\"input-storageTownship\"\r\n                             name=\"storageTownship\"\r\n                             nbInput\r\n                             placeholder=\"Optina\">\r\n                      <nb-autocomplete #autoCompleteTownship>\r\n                        <nb-option *ngFor=\"let o of townships$ | async\" [value]=\"o\">{{o}}</nb-option>\r\n                      </nb-autocomplete>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <ng-container *ngIf=\"(storageTownship.invalid && storageTownship.touched) || checkIssues\">\r\n                        <p class=\"error-message mt-1 mb-0\" *ngIf=\"storageTownship.errors?.required\">\r\n                          Optina je obavezna!\r\n                        </p>\r\n                      </ng-container>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                      <label class=\"label\" for=\"input-storagePlace\">Mesto:</label>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <input #storagePlace=\"ngModel\"\r\n                             (ngModelChange)=\"findPlaces($event)\"\r\n                             [(ngModel)]=\"storage.address.location.placeName\"\r\n                             [attr.aria-invalid]=\"storagePlace.invalid && storagePlace.touched ? true : null\"\r\n                             [nbAutocomplete]=\"autoCompletePlace\"\r\n                             [ngModelOptions]=\"{standalone: true}\"\r\n                             [required]=\"getConfigValue('forms.validation.address.required')\"\r\n                             autocomplete=\"off\"\r\n                             fullWidth\r\n                             id=\"input-storagePlace\"\r\n                             name=\"storagePlace\"\r\n                             nbInput\r\n                             placeholder=\"Mesto\">\r\n                      <nb-autocomplete #autoCompletePlace>\r\n                        <nb-option *ngFor=\"let m of places$ | async\" [value]=\"m\">{{m}}</nb-option>\r\n                      </nb-autocomplete>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <ng-container *ngIf=\"(storagePlace.invalid && storagePlace.touched) || checkIssues\">\r\n                        <p class=\"error-message mt-1 mb-0\" *ngIf=\"storagePlace.errors?.required\">\r\n                          Mesto je obavezno!\r\n                        </p>\r\n                      </ng-container>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row my-1\">\r\n                <div class=\"col-3\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                      <label class=\"label\" for=\"input-storageZipCode\">Potanski broj:</label>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <input #storageZipCode=\"ngModel\"\r\n                             [(ngModel)]=\"storage.address.location.zipCode\"\r\n                             [attr.aria-invalid]=\"storageZipCode.invalid && storageZipCode.touched ? true : null\"\r\n                             [maxlength]=\"getConfigValue('forms.validation.zipCode.maxLength')\"\r\n                             [minlength]=\"getConfigValue('forms.validation.zipCode.minLength')\"\r\n                             [ngModelOptions]=\"{standalone: true}\"\r\n                             [required]=\"getConfigValue('forms.validation.zipCode.required')\"\r\n                             [status]=\"storageZipCode.dirty ? (storageZipCode.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                             fullWidth\r\n                             id=\"input-storageZipCode\"\r\n                             name=\"storageZipCode\"\r\n                             nbInput\r\n                             onkeypress=\"return /[0-9]/i.test(event.key)\"\r\n                             placeholder=\"Potanski broj\">\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <ng-container *ngIf=\"(storageZipCode.invalid && storageZipCode.touched) || checkIssues\">\r\n                        <p class=\"error-message mt-1 mb-0\" *ngIf=\"storageZipCode.errors?.required\">\r\n                          Potanski broj je obavezan!\r\n                        </p>\r\n                        <p class=\"error-message mt-1 mb-0\"\r\n                           *ngIf=\"storageZipCode.errors?.minlength || storageZipCode.errors?.maxlength\">\r\n                          Potanski broj mora biti validan!\r\n                        </p>\r\n                      </ng-container>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-9\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                      <label class=\"label\" for=\"input-storageStreet\">Ulica i broj:</label>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <input #storageStreet=\"ngModel\"\r\n                             [(ngModel)]=\"storage.address.street\"\r\n                             [attr.aria-invalid]=\"storageStreet.invalid && storageStreet.touched ? true : null\"\r\n                             [maxlength]=\"getConfigValue('forms.validation.street.maxLength')\"\r\n                             [minlength]=\"getConfigValue('forms.validation.street.minLength')\"\r\n                             [ngModelOptions]=\"{standalone: true}\"\r\n                             [required]=\"getConfigValue('forms.validation.street.required')\"\r\n                             [status]=\"storageStreet.dirty ? (storageStreet.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                             fullWidth\r\n                             id=\"input-storageStreet\"\r\n                             name=\"storageStreet\"\r\n                             nbInput\r\n                             placeholder=\"Ulica i broj\">\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <ng-container *ngIf=\"(storageStreet.invalid && storageStreet.touched) || checkIssues\">\r\n                        <p class=\"error-message mt-1 mb-0\" *ngIf=\"storageStreet.errors?.required\">\r\n                          Ulica je obavezna!\r\n                        </p>\r\n                      </ng-container>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-12\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-geolocationN\">Geolokacija Sever (N):</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n              <span *ngFor=\"let i of numbers;\" id=\"input-geolocationN\">\r\n                <input [(ngModel)]=\"storage.geolocationNorth[i]\"\r\n                       [ngModelOptions]=\"{standalone: true}\"\r\n                       class=\"col-1\"\r\n                       fullWidth\r\n                       maxlength=\"1\"\r\n                       nbInput\r\n                       onkeypress=\"return /[0-9]/i.test(event.key)\"\r\n                       type=\"text\">\r\n                <button nbButton class=\"col-1 mb-1 geolocation-sign\" disabled\r\n                        *ngIf=\"i === 1\"></button>\r\n                <button nbButton disabled style=\"max-width: 2vw; font-size: 1.5rem\" class=\"col-1 mb-1\"\r\n                        *ngIf=\"i === 3\">'</button>\r\n                <button nbButton disabled style=\"max-width: 2vw; font-size: 1.5rem\" class=\"col-1 mb-1\"\r\n                        *ngIf=\"i === 6\">\"</button>\r\n                </span>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 mt-1\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-geolocationE\">Geolokacija Istok (E0):</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                <span *ngFor=\"let i of numbers;\" id=\"input-geolocationE\">\r\n                  <input [(ngModel)]=\"storage.geolocationEast[i]\"\r\n                         [ngModelOptions]=\"{standalone: true}\"\r\n                         class=\"col-1\"\r\n                         fullWidth\r\n                         maxlength=\"1\"\r\n                         nbInput\r\n                         onkeypress=\"return /[0-9]/i.test(event.key)\"\r\n                         type=\"text\">\r\n                  <button nbButton class=\"col-1 mb-1 geolocation-sign\" disabled\r\n                          *ngIf=\"i === 1\"></button>\r\n                  <button nbButton disabled style=\"max-width: 2vw; font-size: 1.5rem\" class=\"col-1 mb-1\"\r\n                          *ngIf=\"i === 3\">'</button>\r\n                  <button nbButton disabled style=\"max-width: 2vw; font-size: 1.5rem\" class=\"col-1 mb-1\"\r\n                          *ngIf=\"i === 6\">\"</button>\r\n                  </span>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row mb-2\">\r\n            <div class=\"col-12\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-storageSize\">Veliina skladita:\r\n                    <i class=\"fa fa-info-circle\"\r\n                       [nbTooltip]=\"'Unesite veliinu privremenog skladita koju posedujete u okviru pravnog subjekta u jedinicama mere. Nain odreivanja veliine privremenog skladita merenje/proraun/procena.'\"></i>\r\n                  </label>\r\n                </div>\r\n                <div class=\"col-10 pr-0\">\r\n                  <input #storageSize=\"ngModel\"\r\n                         [(ngModel)]=\"storage.maxAmount\"\r\n                         [min]=\"getConfigValue('forms.validation.storageSize.min')\"\r\n                         [ngModelOptions]=\"{standalone: true}\"\r\n                         [required]=\"getConfigValue('forms.validation.storageSize.required')\"\r\n                         [status]=\"storageSize.dirty ? (storageSize.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         fullWidth\r\n                         id=\"input-storageSize\"\r\n                         name=\"storageSize\"\r\n                         nbInput\r\n                         placeholder=\"0\"\r\n                         onkeypress=\"return /[0-9.]/i.test(event.key)\"\r\n                         step=\"1\"\r\n                         type=\"number\">\r\n                </div>\r\n                <div class=\"col-2 pl-0\">\r\n                  <nb-select [ngModelOptions]=\"{standalone: true}\" [(ngModel)]=\"storage.storageUnit\">\r\n                    <nb-option [value]=\"'KG'\">KG</nb-option>\r\n                    <nb-option [value]=\"'T'\">T</nb-option>\r\n                  </nb-select>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(storageSize.invalid && storageSize.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"storageSize.errors?.required || isNaN(storageSize.value)\">\r\n                      Veliina skladita je obavezna!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"storageSize < 1\">\r\n                      Veliina skladita ne moe biti 0!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </nb-card-body>\r\n      </nb-card>\r\n    </form>\r\n\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"storageType !== 'production'\">\r\n  <register-trash-permit #permitRef [storageNo]=\"storageNo\" [storages]=\"storages\"\r\n                         [permitType]=\"storageType\"></register-trash-permit>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { NbComponentStatus, NbToastrService } from '@nebular/theme';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ToastrService {\r\n\r\n  constructor(private toastrService: NbToastrService) {\r\n  }\r\n\r\n  showToast(title: String, message: String, status: NbComponentStatus, duration: number = 3000) {\r\n    this.toastrService.show(\r\n      message,\r\n      title,\r\n      {status, duration});\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'terms-of-service',\r\n  templateUrl: './terms-of-service.component.html',\r\n  styleUrls: ['./terms-of-service.component.css']\r\n})\r\nexport class TermsOfServiceComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<h1 class=\"text-center\">DIER USLOVI KORIENJA</h1>\r\n<div style=\"max-height: 50vh; text-align: justify;\">\r\n  Ovi uslovi korienja se odnose na svakoga ko eli da koristi aplikaciju (u daljem tekstu \"DIERS Aplikacija\"), ija je\r\n  svrha da olaka zakonsku obavezu voenja dnevnih evidencija o otpadu, posebnim tokovima otapda i dostavljanje\r\n  godinjih izvetaja Agenciji za zatitu ivotne sredine Republike Srbije (u daljem tekstu \"Agencija\").<br><br>\r\n  Korienjem aplikacije <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a> smatra se da ste u potpunosti\r\n  upoznati i saglasni sa ovde navedenim\r\n  Uslovima korienja. Ukoliko se sa istima ne slaete i ne prihvatate ih, molimo Vas da ne koristite ovu internet\r\n  stranicu.<br><br>\r\n  Uslovi korienja odnose se na korienje internet stranica <a\r\n  href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a> od strane korisnika. Svakim daljim\r\n  korienjem ovih Internet stranica nakon upoznavanja sa Uslovima korienja, smatra se da su korisnici saglasni sa\r\n  ovde navedenim uslovima i pravilima i da pristaju na korienje Internet stranica u skladu sa tim uslovima.<br><br>\r\n  Predmetne izmene mogu izmeu ostalog ukljuivati i uvoenje odreenih naknada ili naplata, stoga savetujemo korisnike\r\n  da periodino ponovo detaljno proitaju informacije sadrane u Uslovima korienja kako bi bili informisani o\r\n  eventualnim promenama.<br><br>\r\n  U sluaju da doe do promene Uslova korienja, a korisnik nastavi da koristi nau internet stranicu, smatra se da\r\n  prihvata Uslove korienja u izmenjenom obliku. Svaka eventualna izmena ili brisanje uslova korienja vaea je za\r\n  trea lica odmah po objavi na internet stranici <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a>. Svako\r\n  korienje, osim upoznavanja sa\r\n  izmenama uslova, predmetnih internet stranica od strane krajnjeg korisnika nakon takve promene podrazumevae se kao\r\n  prihvatanje tih promena.<br><br>\r\n  Korisnik je iskljuivo odgovoran za nabavku i odravanje svoje raunarske opreme, ukljuujui celokupan hardver i\r\n  softver koji poseduje i koji koristi, kao i drugu opremu potrebnu za pristup i korienje internet stranice\r\n  https://www.app.dier.rs, isto tako samostalno snosi i sve trokove vezane za to. DIER iskljuuje svaku odgovornost za\r\n  bilo kakva oteenja opreme i drugih stvari krajnjeg korisnika koja eventualno mogu nastati kao posledica korienja\r\n  internet stranice <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a>.<br><br>\r\n  Korienjem internet stranice https://www.app.dier.rs od strane korisnika, smatra se da je korisnik saglasan da sva\r\n  komunikacija i interakcija koja se odvija putem internet stranice <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a>\r\n  mora biti u skladu sa ovim\r\n  Uslovima korienja. Korisnici ne smeju putem ovih internet stranica objavljivati, prenositi ili initi dostupnim na\r\n  bilo koji nain nikakve materijale ijim sadrajem se kre prava drugih, na primer, sadraj koji je uvredljiv,\r\n  klevetniki, koji naruava ili ugroava privatnost itd..., kao ni materijale nezakonitog sadraja i forme. DIER\r\n  zadrava diskreciono pravo da samo oceni da li je dolo do povrede obaveza od strane korisnika.\r\n  <br><br>\r\n  Korisnik ne sme bez prethodnog pismenog odobrenja DIERS objavljivati, prenositi ili initi dostupnim na bilo koji\r\n  nain sadraj oglasa, reklame ili ponude bilo ijih proizvoda i usluga, kao ni versku, politiku i nekomercijalnu\r\n  promociju, a posebno ne sme vrbovati druge korisnike internet stranica <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a>\r\n  da postanu korisnici\r\n  druge usluge koja je direktna ili indirektna konkurencija DIER.<br><br>\r\n  DIER zadrava diskreciono pravo da samostalno oceni da li je dolo do povrede obaveza od strane korisnika.<br><br>\r\n  Zabranjena je bilo kakva distribucija, kopiranje, prenos, povezivanje, objavljivanje ili na bilo koji nain menjanje\r\n  ovih internet stranica bez pismenog odobrenja DIER. Svako krenje spomenute zabrane moe imati za posledicu povredu\r\n  autorskih prava, prava peata, ili nekog drugog prava pa stoga moe da proizvede neeljene efekte kao to su\r\n  pokretanja vie vrsta sudskih postupaka, a posebno moe dovesti do krivinog gonjenja.<br><br>\r\n  Korisnik ne sme menjati, objavljivati, prenositi, uestvovati u prenosu ili prodaji ili na bilo koji drugi nain\r\n  iskoriavati bilo koji sadraj sa internet stranice <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a>, u\r\n  celosti ili delimino. Takoe nije\r\n  dozvoljeno kopiranje, redistribucija, ponovni prenos, izdavanje ili komercijalno iskoriavanje preuzetog materijala.\r\n  Korisnik se izriito obavezuje da nee na internet stranicama <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a>\r\n  postavljati, objavljivati, ili\r\n  na bilo koji drugi nain initi dostupnim bilo kakav materijal koji podlee autorskom pravu, peatu, ili drugim\r\n  pravima, bez izriitog odobrenja nosioca tih prava, pa je kao takav iskljuivo odgovoran za eventualnu tetu nastalu\r\n  krenjem ove svoje obaveze. Do saznanja da li je neki od materijala na internet stranici zatien nekim od prava,\r\n  korisnik mora doi samostalno, pa stoga DIERS nije u obavezi da takve informacije iznosi ili objavljuje.<br><br>\r\n  Ova izjava o odgovornosti odnosi se na sve eventualno nastale tete ili mogue povrede uzrokovane bilo kakvom grekom,\r\n  brisanjem, prekidom, raunarskim virusom, kvarom, kanjenjem u radu ili prenosu, prekidom u komunikacijskoj liniji,\r\n  kraom, raskidom ugovora, unitenjem ili neovlaenim pristupom, promenama ili zloupotrebom zapisa, neprikladnim\r\n  ponaanjem, nemarom, ili bilo kakvom drugom radnjom. Korisnik je saglasan da DIERS nije odgovorna za neprikladno ili\r\n  protivzakonito ponaanje drugih korisnika ili treih strana i da je rizik od eventualnih teta u potpunosti na\r\n  korisniku.<br><br>\r\n  DIERS ni u kom sluaju nije odgovorna za bilo kakvu tetu koja moe nastati kao posledica korienja, ili zbog\r\n  nemogunosti korienja internet stranica <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a> delimino ili\r\n  u celosti.<br><br>\r\n  Korisnik izriito izjavljuje da nee smatrati odgovornom DIER, njene ogranke, odgovorne osobe u drutvu, zaposlene i\r\n  agente za naknadu eventualne tete i trokova, ukljuujui i trokove pravnog zastupanja, a koji bi mogli da nastanu\r\n  korienjem internet stranice <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a> od strane\r\n  korisnika.<br><br>\r\n  DIERS moe u svako doba da raskine poslovni odnos sa bilo kojim svojim korisnikom i ukinuti mu lozinke ili korisnike\r\n  naloge. U tom sluaju ne prestaju da vae uslovi koji se odnose na odgovornost i obaveze korisnika. DIERS ne garantuje\r\n  za tanost, potpunost ili korisnost bilo kog sadraja na internet stranicama <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a>\r\n  postavljenog od\r\n  strane korisnika, treih lica ili neovlaenih korisnika.<br><br>\r\n  Registracijom / otvaranjem korisnikog naloga na internet stranici <a href=\"https://www.app.dier.rs\">https://www.app.dier.rs</a>\r\n  smatra se da je korisnik\r\n  ove Uslove korienja u celosti proitao.\r\n  <h4>VLASNITVO SADRAJA / INTELEKTUELNA SVOJINA</h4>\r\n  Internet sajt i svi tekstovi, logotipi, grafika, slike, audio materijal i ostali materijal na ovom internet sajtu (u\r\n  daljem tekstu: Sadraj), jesu autorsko pravo ili vlasnitvo autora Nenada Jankovia (Autor) i privrednmog drutva DIER\r\n  (u daljem tekstu \"DIER\")., ili su na internet sajt postavljeni uz dozvolu vlasnika ili ovlaenog nosioca prava.\r\n  Korienje Sadraja, osim na nain opisan u ovim uslovima korienja, bez pisane dozvole vlasnika. Autor e zatiti\r\n  svoja autorska prava, svoja prava intelektualne svojine i ostala srodna prava, kao i druga prava, u najveoj meri\r\n  dozvoljenoj zakonom, ukljuujui i krivino gonjenje.<br><br>\r\n  Korisnici aplikacije mogu biti sva lica koja ele da koriste DIERS Aplikaciju, direktno ili preko svojih zaposlenih\r\n  lica (u daljem tekstu \"Korisnik\") i koja su zakljuila Ugovor o korienju DIERS Aplikacije (u daljem tekstu\r\n  \"Ugovor\").<br><br>\r\n  Svako neovlaeno korienje, umnoavanje i distribucija DIERS aplikacije ili bilo kojeg njenog dela, krivino je delo\r\n  i podlee krivinoj odgovornosti.\r\n  <h4>REGISTRACIJA</h4>\r\n  Da bi se registrovao, Korisnik je duan da tano i istinito unese sve traene podatake o privrednom drutvu ili drugom\r\n  privrednom subjektu kao i da kreira korisniki nalog (korisniko ime i lozinku).<br><br>\r\n  Za prijavljivanje, odnosno korienje DIERS Aplikacije, Korisnik mora da unese korisniko ime i lozinku koje je\r\n  kreirao prilikom registracije.<br><br>\r\n  Kada se Korisnik registruje za korienje DIERS Aplikacije, on postaje vlasnik svog naloga na portalu DIERS Aplikacije\r\n  i njegov administrator.<br><br>\r\n  Za pomo pri radu u DIERS Aplikaciji kontaktirajte nas putem email-a <a\r\n  href=\"mailto:support@dier.rs\">support@dier.rs</a>.<br><br>\r\n  DIER zadrava pravo izmena i dopuna DIERS Aplikacije.\r\n  <h4>ODGOVORNOST KORISNIKA</h4>\r\n  Korisnik koristi DIERS Aplikaciju iskljuivo na svoju odgovornost. DIERS ne daje bilo kakve garancije i ne preuzima\r\n  bilo kakvu odgovornost za tete koje Korisnik pretrpi ili koje bude prouzrokovao treim licima prilikom neodgovornog\r\n  korienja DIERS Aplikacije.<br><br>\r\n  Samo Korisnik zna lozinku koju je definisao u svojstvu administratora i za sve aktivnosti autorizovane i izvrene pod\r\n  nekim od korisnikih imena odgovoran je iskljuivo Korisnik.<br><br>\r\n  Korisnik je odgovoran za otvaranje korisnikih naloga za ostale zaposlene u svojoj organizaciji i za definisanje uloga\r\n  na portalu kojima svaki zaposleni pojedinano moe da pristupi, kao i za ukidanje pristupa DIERS Aplikaciji.<br><br>\r\n  Korisnik je duan da se u svemu pridrava pozitivnih zakonskih propisa Republike Srbije, a posebno propisa koji\r\n  reguliu upravljanje otpadom i zatitu podataka o linosti.<br><br>\r\n  Korisnik je iskljuivo odgovoran za tanost podataka i informacija koje unosi u DIERS Aplikaciju.\r\n  <h4>ODRICANJE OD ODGOVORNOSTI</h4>\r\n  DIERS nema uvid u kreiranu lozinku Korisnika od strane administratora, te nema mogunost da pristupi podacima\r\n  Korisnika.<br><br>\r\n  DIERS nije odgovoran za greke koje nastaju usled neispravnog popunjavanja i netanih podataka koje ovlaena lica\r\n  Korisnika unesu u DIERS Aplikaciju, iz koje se generiu dokumenta o kretanju otpada, dokumenta o kretanju opasnog\r\n  otpada, dokumenta o prekograninom otpadu i dokumenta koja prate prekogranino kretanje otpada, kao i dnevne\r\n  evidencije o otpadu, dnevne evidencije o posebnim tokovima otapda ili podaci koji se podnose Agenciji za godinje\r\n  izvetaje o otpadu i posebnim tokovima otpada.<br><br>\r\n  DIERS se nee smatrati odgovornim za privremeni prekid u pruanju usluge ili gubitak sauvanih podataka usled radova\r\n  na odravanju ili iznenadnih i nepredvienih tehnikih kvarova ili drugih tehnikih neprilika, kao ni za prekid\r\n  usluge, ukoliko su ove okolnosti prouzrokovane razlozima koji su izvan domaaja DIERS.\r\n  <h4>DOSTUPNOST DIERS APLIKACIJE</h4>\r\n  Korisnik razume i saglasan je sa injenicom da je internet internacionalna raunarska mrea koju ne kontrolie\r\n  neposredno DIERS, ve je na nju samo vezan, te zbog toga ne moe da garantuje dostupnost servisa koje direktno NE\r\n  kontrolie.<br><br>\r\n  Korisnik razume i saglasan je sa injenicom da su DIERS serveri povezani na internet putem kompleksne mrene strukure\r\n  i da se podaci putem interneta prenose kroz razliite aktivne i pasivne mrene komponente (ruteri, mreni prekidai, i\r\n  slino), koji imaju svoje maksimalne kapacitete prenosa, te DIERS ne moe biti odgovoran za nemogunosti prustupa\r\n  podacima u DIERS Aplikaciji iz ovih razloga.\r\n  <h4>INFORMACIJE KORISNIKA</h4>\r\n  Sve informacije koje se zahtevaju od Korisnika neophodne su za ispunjavanje obaveza po merodavnim propisima o\r\n  upravljanju otpadom i koriste se iskljuivo i samo za popunjavanje dnevnih evidencija o otpadu, dokumenta o kretanju\r\n  otpada, dokumenta o kretanju opasnog otpada, popunjavanje godinjih evidencija o otpadu, popunjavanju dnevnih\r\n  evidencija Posebnih tokova otpada kao i popunjavanje godinjih evidencija Posebnh tokova otpada u zavisnosti od\r\n  operacije odnosno (licence) Korisnika.<br><br>\r\n  Informacije koje Korisnik unosi uvaju se na DIERS serveru, i mogu im pristupiti trea lica iskljuivo u skladu sa\r\n  odgovarajuim propisima, na osnovu zahteva nadlenog organa.\r\n  <h4>UPOTREBA KOLAIA (ENGL. COOKIES)</h4>\r\n  Kao i veina sajtova na internetu, DIERS sajtovi koriste tzv. kolaie (u daljem tekstu \"Cookie\"). Cookie-ji su mali\r\n  tekstualni fajlovi koje internet pregleda (u daljem tekstu \"Browser\") uva na raunaru Korisnika i koji pomau da se\r\n  identifikujete na veb sajtovima prilikom kasnijih poseta. Cookie-ji su jedinstveno dodeljeni Korisniku i moe ih\r\n  itati samo web server u domenu koji je izdao taj Cookie. Korienje Cookie-ja je standardna praksa na internetu i\r\n  veina Browser-a je podeena tako da automatski prihvata sve Cookie-je. Meutim, Korisnik uvek moe odluiti da eli\r\n  da prestane da ih koristi, odnosno, moe ih jednostavno runo obrisati ili svoj Browser posebno podesiti za rad sa\r\n  Cookie-jima. Za ove procedure Korisnik moe da pogleda dokumentaciju ili Help/Pomo sekciju svog Browser-a.\r\n  <br><br>Na DIERS sajtovima koristimo Cookie-je iskljuivo kako bismo Korisnicima omoguili bolji kvalitet interakcije sa veb\r\n  sajtom i DIERS Aplikacijom.<br><br>\r\n  Za potrebe statistike analize poseenosti i optimizaciju DIERS Aplikacije koristi se servis Google Analytics. Datalji\r\n  o ovim servisima kao i o mogunostima podeavanja od strane Korisnika se mogu pogledati na sledeim linkovima:\r\n  <a href=\"www.google.com/analytics/learn/privacy.html\">www.google.com/analytics/learn/privacy.html</a>.\r\n  <h4>DRUGI INTERNET SAJTOVI</h4>\r\n  DIERS internet sajt moe sadrati linkove za druge internet sajtove koji nisu pod DIERS kontrolom i koji ne podleu\r\n  Ugovoru i ovim Uslovima korienja. Ukoliko Korisnik pristupi drugim internet sajtovima koristei date linkove,\r\n  operateri ovih internet sajtova mogu traiti informacije koje e koristiti u skladu sa svojim politikama zatite\r\n  privatnosti, koje se mogu razlikovati od one koja postoji kod DIERS.<br><br>\r\n  Takvi linkovi su obezbeeni iskljuivo da bi Vama pruili to vie informacija. DIER ne kontrolie i nije odgovoran za\r\n  rad, sadraj, politiku privatnosti ili bezbednost ovih sajtova. Autor ne kontrolie sadraj ili proizvode ili usluge\r\n  dostupne na ovim internet sajtovima. Ako uspostavite vezu sa takvim internet sajtovima preko linka na naem internet\r\n  sajtu, to inite na sopstveni rizik i bez saglasnosti DIER.\r\n  <h4>ZATITA PODATAKA O LINOSTI</h4>\r\n  DIERS ne predstavlja rukovaoca, obraivaa niti korisnika podataka o linosti u skladu sa merodavnim propisima.<br><br>\r\n  Korisnik preuzima obavezu da u sluaju obrade podataka o linosti u vezi sa izvrenjem ovog Ugovora preduzme sve\r\n  radnje kako bi svoje poslovanje uskladio sa zakonom i drugom pozitivno-pravnim propisima iz oblasti zatite podataka o\r\n  linosti.\r\n  <h4>BEZBEDNOST</h4>\r\n  Odravanje integriteta i bezbednosti naih veb lokacija, proizvoda, funkcija i usluga i spreavanje i otkrivanje\r\n  bezbednosnih pretnji, prevara ili drugih kriminalnih ili zlonamernih aktivnosti koje mogu da ugroze vae informacije.\r\n  Kada ste u interakciji sa nama, pre odobravanja pristupa vaim podacima, preduzeemo osnovane korake da potvrdimo va\r\n  identitet kao to je zahtevanje lozinke i ID-a korisnika. Moemo preduzeti i dodatne bezbednosne mere, kao to je\r\n  CCTV, da bismo obezbedili nae fizike lokacije.\r\n  <h4>USAGLAENOST SA ZAKONOM</h4>\r\n  Usaglaenost sa vaeim zakonima, propisima, sudskim nalozima, dravnim zahtevima i zahtevima organa reda u cilju\r\n  adekvatnog rada naih usluga i proizvoda i zatite nae kompanije, naih korisnika i klijenata i reavanja svih\r\n  korisnikih sporova.\r\n  <h4>IZMENE IZJAVE O PRIVATNOSTI</h4>\r\n  Ako izmenimo izjavu o privatnosti, objaviemo izmenjenu izjavu ovde, sa datumom aurirane revizije. Ukoliko izvrimo\r\n  znatne promene u izjavi o privatnosti koje dovode do materijalnih promena naih praksi privatnosti, moemo vas\r\n  obavestiti i drugim sredstvima, na primer slanjem e-poruke ili objavljivanjem obavetenje na korporativnoj veb\r\n  lokaciji i/ili stranicama drutvenih medija pre nego to promene stupe na snagu.\r\n  Datum objavljivanja: 2021. april.\r\n  <h4>KOMUNIKACIJA</h4>\r\n  Komunikacija izmeu DIERS i Korisnika odvija se putem imejla <a href=\"mailto:support@dier.rs\">support@dier.rs</a> ili\r\n  na telefon: <a href=\"tel:0003812644470577\">+381 64 447 05 77</a>.\r\n  <br><br><br>\r\n</div>\r\n\r\n","<div class=\"row my-1\" *ngIf=\"permitType === 'transport' || permitType === 'collector'\">\r\n  <div class=\"col-12\">\r\n    <form #updatePermitForm>\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <label class=\"label\" for=\"input-storageNo\">Broj dozvola:</label>\r\n        </div>\r\n        <div class=\"col-12\">\r\n          <nb-button-group>\r\n            <button (pressedChange)=\"updatePermits(1,undefined, $event)\" nbButtonToggle>1</button>\r\n            <button (pressedChange)=\"updatePermits(2, undefined,$event)\" nbButtonToggle>2</button>\r\n            <button (pressedChange)=\"updatePermits(3,undefined, $event)\" nbButtonToggle>3</button>\r\n            <button (pressedChange)=\"updatePermits(4, undefined,$event)\" nbButtonToggle>4</button>\r\n            <button (pressedChange)=\"updatePermits(5,undefined, $event)\" nbButtonToggle>5</button>\r\n            <button (pressedChange)=\"showPermitsInput = !showPermitsInput\" nbButtonToggle>Vie...</button>\r\n            <input *ngIf=\"showPermitsInput\" [(ngModel)]=\"tmpNo\" [ngModelOptions]=\"{standalone: true}\"\r\n                   fullWidth nbInput id=\"input-storageNo\"\r\n                   placeholder=\"0\" step=\"1\" type=\"number\">\r\n            <button *ngIf=\"showPermitsInput\" nbButton (click)=\"updatePermits(tmpNo, undefined, true)\"><i\r\n              class=\"fa fa-plus\"></i></button>\r\n          </nb-button-group>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"permitsNo > 0\" class=\"row mt-3\">\r\n  <div *ngFor=\"let permit of permits$ | async; let i = index\" class=\"col-12\">\r\n    <form #permitForm=\"ngForm\">\r\n      <nb-card accent=\"success\">\r\n        <nb-card-body>\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-12\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-permitName\">Naziv Dozvole:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #permitName=\"ngModel\"\r\n                         [(ngModel)]=\"permit.name\"\r\n                         [attr.aria-invalid]=\"permitName.invalid && permitName.touched ? true : null\"\r\n                         [maxlength]=\"getConfigValue('forms.validation.permitName.maxLength')\"\r\n                         [minLength]=\"getConfigValue('forms.validation.permitName.minLength')\"\r\n                         [ngModelOptions]=\"{standalone: true}\"\r\n                         [required]=\"getConfigValue('forms.validation.permitName.required')\"\r\n                         [status]=\"permitName.dirty ? (permitName.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         autofocus\r\n                         fullWidth\r\n                         id=\"input-permitName\"\r\n                         name=\"permitName\"\r\n                         nbInput\r\n                         placeholder=\"Dozvola #{{i + 1}}\"></div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(permitName.invalid && permitName.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"permitName.errors?.required\">\r\n                      Naziv dozvole je obavezna!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\"\r\n                       *ngIf=\"permitName.errors?.maxLength || permitName.errors?.minLength\">\r\n                      Naziv dozvole mora biti dui od\r\n                      {{ getConfigValue('forms.validation.permitName.minLength') }} slova!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-6\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-permitCode\">ifra Dozvole:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #permitCode=\"ngModel\"\r\n                         [(ngModel)]=\"permit.code\"\r\n                         [attr.aria-invalid]=\"permitCode.invalid && permitCode.touched ? true : null\"\r\n                         [ngModelOptions]=\"{standalone: true}\"\r\n                         [required]=\"getConfigValue('forms.validation.permitCode.required')\"\r\n                         [status]=\"permitCode.dirty ? (permitCode.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         fullWidth\r\n                         id=\"input-permitCode\"\r\n                         name=\"permitCode\"\r\n                         nbInput\r\n                         placeholder=\"ifra\">\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(permitCode.invalid && permitCode.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"permitCode.errors?.required\">\r\n                      ifra dozvole je obavezna!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\"\r\n                       *ngIf=\"permitCode.errors?.maxLength || permitCode.errors?.minLength\">\r\n                      Naziv dozvole mora biti dui od\r\n                      {{ getConfigValue('forms.validation.permitCode.minLength') }} slova!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-6 my-1\" *ngIf=\"permitType !== 'transport' && permitType !== 'collector'\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-permitsStorage\">Odaberi postrojenje:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-select #permitsStorage=\"ngModel\"\r\n                             (ngModelChange)=\"setAddress(permit, permit.storage)\"\r\n                             [(ngModel)]=\"permit.storage\"\r\n                             [ngModelOptions]=\"{standalone: true}\"\r\n                             [status]=\"permitsStorage.dirty ? (permitsStorage.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                             fullWidth\r\n                             id=\"input-permitsStorage\"\r\n                             name=\"permitsStorage\"\r\n                             required>\r\n                    <nb-option *ngFor=\"let s of storages$ | async\" [value]=\"s\">{{s.name}}</nb-option>\r\n                  </nb-select>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(permitsStorage.invalid && permitsStorage.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"permitsStorage.errors?.required\">\r\n                      Postrojenje za koje je vezana dozvola je obavezno!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-6\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-dateCreation\">Datum izdavanja dozvole:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #dateCreation=\"ngModel\"\r\n                         [(ngModel)]=\"permit.dateCreation\"\r\n                         [attr.aria-invalid]=\"dateCreation.invalid && dateCreation.touched ? true : null\"\r\n                         [nbDatepicker]=\"dateCreationPicker\"\r\n                         [ngModelOptions]=\"{standalone: true}\"\r\n                         [required]=\"getConfigValue('forms.validation.date.required')\"\r\n                         [status]=\"!dateValid(permit) ? 'danger' : 'success'\"\r\n                         fullWidth\r\n                         id=\"input-dateCreation\"\r\n                         name=\"dateCreation\"\r\n                         nbInput>\r\n                  <nb-datepicker #dateCreationPicker></nb-datepicker>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(!dateValid(permit)) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"dateCreation.errors?.required\">\r\n                      Datum nastanka dozvole je obavezan!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"!dateValid(permit)\">\r\n                      Datum nastanka dozvole ne moe biti posle datum izdavanja!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-dateExpiration\">Datum isteka dozvole:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #dateExpiration=\"ngModel\"\r\n                         [(ngModel)]=\"permit.dateExpiration\"\r\n                         [attr.aria-invalid]=\"dateExpiration.invalid && dateExpiration.touched ? true : null\"\r\n                         [nbDatepicker]=\"dateExpirationPicker\"\r\n                         [ngModelOptions]=\"{standalone: true}\"\r\n                         [required]=\"getConfigValue('forms.validation.date.required')\"\r\n                         [status]=\"!dateValid(permit) ? 'danger' : 'success'\"\r\n                         fullWidth\r\n                         id=\"input-dateExpiration\"\r\n                         name=\"dateExpiration\"\r\n                         nbInput>\r\n                  <nb-datepicker #dateExpirationPicker></nb-datepicker>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(dateExpiration.invalid && dateExpiration.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"dateExpiration.errors?.required\">\r\n                      Datum isteka dozvole je obavezan!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row my-2\">\r\n            <div class=\"col-6\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <button nbButton status=\"success\" type=\"button\" [disabled]=\"permit.code === ''\"\r\n                          (click)=\"choosePermit(permit)\">Odaberi otpade\r\n                  </button>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"permit.trashList.length < 1\">\r\n                      Morate dodati bar jedan otpad na listu otpada dozvole!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </nb-card-body>\r\n      </nb-card>\r\n    </form>\r\n  </div>\r\n</div>\r\n","import { Component, Inject, Input, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS } from '@nebular/auth';\r\nimport { Observable, of } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\nimport { Company } from '../../../../../@core/data/company';\r\nimport { Permit } from '../../../../../@core/data/permit';\r\nimport { Storage } from '../../../../../@core/data/storage';\r\nimport { RegisterService } from '../../../../../@core/service/register.service';\r\nimport { ToastrService } from '../../../../../@core/service/toastr.service';\r\n\r\n@Component({\r\n  selector: 'register-trash-permit',\r\n  templateUrl: './trash-permit.component.html',\r\n  styleUrls: ['./trash-permit.component.css'],\r\n})\r\nexport class TrashPermitComponent implements OnInit {\r\n  @Input() permitType: string;\r\n  @Input() storageNo: number;\r\n  @Input() storages: Storage[] = [];\r\n\r\n  permits: Permit[];\r\n  permits$: Observable<Permit[]>;\r\n  permitsNo: number = 0;\r\n  tmpNo: number = 0;\r\n  storages$: Observable<Storage[]>;\r\n  company: Company;\r\n  checkIssues: boolean = false;\r\n  valid: boolean = false;\r\n  showPermitsInput: boolean = false;\r\n\r\n  constructor(@Inject(NB_AUTH_OPTIONS) protected options = {}, private router: Router,\r\n              private registerService: RegisterService, private toastrService: ToastrService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.registerService.getCompany().pipe(first()).subscribe(f => {\r\n      if (f !== undefined) {\r\n        this.company = f;\r\n        if (f.permits !== undefined) {\r\n          this.permits = this.company.permits.filter(x => x.type === this.permitType);\r\n          this.permitsNo = this.permits.length;\r\n          this.permits$ = of(this.permits);\r\n        }\r\n      }\r\n    });\r\n    if (this.permitType !== 'transport' && this.permitType !== 'collector') {\r\n      this.permitsNo = this.storageNo;\r\n      this.storages$ = of(this.storages);\r\n    }\r\n    this.validatePermits();\r\n    this.registerService.sendCompany(of(this.company));\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  async checkValid() {\r\n    this.validatePermits();\r\n    if (!this.valid) {\r\n      this.checkIssues = true;\r\n      return false;\r\n    }\r\n    let text = '';\r\n    const permitExists = await Promise.all(this.registerService.checkPermits(this.permits)).then(promises => {\r\n      for (const t of promises) {\r\n        text = !t ? 'ta ifra' : text;\r\n        if (t)\r\n          return t;\r\n      }\r\n      return false;\r\n    });\r\n    if (!permitExists) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka', `Ve postoji ${text} dozvole!`, 'danger');\r\n      return false;\r\n    }\r\n    if (this.valid)\r\n      return true;\r\n    else {\r\n      this.checkIssues = true;\r\n      return false;\r\n    }\r\n  }\r\n\r\n  validatePermits(): void {\r\n    if (!this.permits)\r\n      return;\r\n    this.valid = this.permits.length > 0;\r\n    for (const d of this.permits) {\r\n      if (d.name === '' || d.name.length < 3) {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n      if (d.code === '') {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n      if (d.dateCreation === undefined || d.dateExpiration === undefined) {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n      if (d.storage === undefined && (this.permitType !== 'transport' && this.permitType !== 'collector')) {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n      if (d.trashList.length < 1) {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  updatePermits(storageNo?: number, storages$?: Observable<Storage[]>, pressed?: boolean) {\r\n    if (pressed !== undefined && pressed === false)\r\n      return;\r\n    if (storageNo !== undefined) {\r\n      this.permitsNo = storageNo;\r\n    }\r\n    if (storages$ !== undefined)\r\n      this.storages$ = storages$;\r\n    if (this.company.permits) {\r\n      if (this.permitType === 'transport') {\r\n        this.company.permits = this.company.permits.filter(x => x.type !== 'transport');\r\n      } else if (this.permitType === 'collector') {\r\n        this.company.permits = this.company.permits.filter(x => x.type !== 'collector');\r\n      }\r\n    } else {\r\n      this.company.permits = [];\r\n    }\r\n    this.permits = new Array(this.permitsNo);\r\n    for (let i = 0; i < this.permitsNo; i++) {\r\n      this.permits[i] = {\r\n        address: {location: undefined, street: ''},\r\n        code: '',\r\n        dateCreation: new Date(),\r\n        dateExpiration: new Date(),\r\n        name: '',\r\n        storage: {\r\n          name: '', maxAmount: 0, address:\r\n            {location: {placeCode: 0, placeName: '', townshipCode: 0, townshipName: '', zipCode: ''}, street: ''},\r\n          amount: 0,\r\n        },\r\n        trashList: [],\r\n        type: this.permitType,\r\n      };\r\n      if (this.permitType === 'transport' || this.permitType === 'collector') {\r\n        delete this.permits[i].storage;\r\n        delete this.permits[i].address;\r\n      }\r\n    }\r\n    this.permits$ = of(this.permits);\r\n    this.permits.forEach(t => this.company.permits.push(t));\r\n    this.validatePermits();\r\n  }\r\n\r\n  choosePermit(permit: Permit): void {\r\n    this.registerService.sendPermit(of(permit.code));\r\n    this.router.navigate(['/auth/register-permit']);\r\n  }\r\n\r\n  dateValid(permit: Permit): Boolean {\r\n    return permit.dateCreation <= permit.dateExpiration;\r\n  }\r\n\r\n  setAddress(permit: Permit, storage: Storage) {\r\n    permit.address = storage.address;\r\n  }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nexport interface Occupation {\r\n  _id?: string;\r\n  code: string;\r\n  name: string;\r\n}\r\n\r\nexport abstract class OccupationData {\r\n  abstract createOccupation(occupation: Occupation): Observable<Occupation>;\r\n  abstract getOccupation(value: string, type: string): Observable<Occupation>;\r\n  abstract getOccupations(value: string, type: string): Observable<Occupation[]>;\r\n  abstract updateOccupation(occupation: Occupation, value: string, type: string): Observable<Occupation>;\r\n  abstract deleteOccupation(value: string, type: string): Observable<Occupation>;\r\n}\r\n","import { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { NB_AUTH_OPTIONS, NbAuthResult, NbAuthService, NbRequestPasswordComponent } from '@nebular/auth';\r\nimport { ToastrService } from '../../@core/service/toastr.service';\r\n\r\n@Component({\r\n  selector: 'forgot-password',\r\n  templateUrl: './forgot-password.component.html',\r\n  styleUrls: ['./forgot-password.component.css'],\r\n})\r\nexport class ForgotPasswordComponent extends NbRequestPasswordComponent {\r\n\r\n  email: string = '';\r\n\r\n  constructor(protected service: NbAuthService, @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n              protected cd: ChangeDetectorRef, protected router: Router, private toastrService: ToastrService) {\r\n    super(service, options, cd, router);\r\n    this.strategy = this.getConfigValue('forms.login.strategy');\r\n  }\r\n\r\n  sendEmail(form: NgForm) {\r\n    if (form.invalid) {\r\n      this.toastrService.showToast('Greka', 'Popravite greke.', 'warning');\r\n      return;\r\n    }\r\n    this.service.requestPassword(this.strategy, {'email': this.email}).subscribe((result: NbAuthResult) => {\r\n      if (!result.isSuccess())\r\n        this.toastrService.showToast('Greka', 'Dolo je do greke, pokuajte kasnije.', 'warning');\r\n      else {\r\n        this.router.navigate(['login']);\r\n      }\r\n    }, (error => {\r\n      this.toastrService.showToast('Greka', 'Pokuajte kasnije.', 'warning')\r\n    }));\r\n  }\r\n\r\n}\r\n","<div class=\"align-self-center text-center\">\r\n  <h1 class=\"mb-1\">Zaboravljena lozinka:</h1>\r\n  <label class=\"text-muted\" for=\"input-email\">Upiite vau email adresu i poslaemo Vam link za resetovanje lozinke</label>\r\n  <form #form=\"ngForm\" (ngSubmit)=\"sendEmail(form)\" class=\"mt-4\">\r\n    <div class=\"row d-flex justify-content-center \">\r\n      <div class=\"col-8\">\r\n        <input #emailInput=\"ngModel\"\r\n               [(ngModel)]=\"email\"\r\n               [attr.aria-invalid]=\"emailInput.invalid && emailInput.touched ? true : null\"\r\n               [pattern]=\"getConfigValue('forms.validation.email.pattern')\"\r\n               [required]=\"getConfigValue('forms.validation.email.required')\"\r\n               [status]=\"emailInput.dirty ? (emailInput.invalid  ? 'danger' : 'success') : 'basic'\"\r\n               fullWidth\r\n               id=\"input-email\"\r\n               name=\"email\"\r\n               nbInput\r\n               placeholder=\"Email\">\r\n        <ng-container *ngIf=\"emailInput.invalid && emailInput.touched\">\r\n          <p class=\"error-message text-left mt-1 mb-0\" *ngIf=\"emailInput.errors?.required\">\r\n            Morate upisati email!\r\n          </p>\r\n          <p class=\"error-message mt-1 mb-0\" *ngIf=\"emailInput.errors?.pattern\">\r\n            Email mora biti validan!\r\n          </p>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-3 d-flex justify-content-center\">\r\n      <div class=\"col-8\">\r\n        <button status=\"primary\" size=\"large\" type=\"submit\" nbButton fullWidth>Poalji mejl</button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, of } from 'rxjs';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Occupation, OccupationData } from '../data/occupation';\r\n\r\n@Injectable()\r\nexport class OccupationService extends OccupationData {\r\n  private readonly apiUrl: string;\r\n  constructor(private http: HttpClient) {\r\n    super();\r\n    this.apiUrl = environment.apiUrl;\r\n  }\r\n\r\n  createOccupation(occupation: Occupation): Observable<Occupation> {\r\n    return undefined;\r\n  }\r\n\r\n  deleteOccupation(value: string, type?: string): Observable<Occupation> {\r\n    return undefined;\r\n  }\r\n\r\n  getOccupation(value: string = '', type: string = '_id'): Observable<Occupation> {\r\n    return this.http.get<Occupation>(this.apiUrl + '/api/occupation/one/' + `${type}/${value}`);\r\n  }\r\n\r\n  getOccupations(value: string = 'all', type: string = '_id'): Observable<Occupation[]> {\r\n    return this.http.get<Occupation[]>(this.apiUrl + '/api/occupation/many/' + `${type}/${value}`);\r\n  }\r\n\r\n  updateOccupation(occupation: Occupation, value: string, type: string = '_id'): Observable<Occupation> {\r\n    return this.http.patch<Occupation>(this.apiUrl + '/api/occupation/one/' + `${type}/${value}`, occupation);\r\n  }\r\n\r\n  filter(value: string, arr: Occupation[]): Observable<Occupation[]> {\r\n    const filterValue = value.toLowerCase();\r\n    if (arr === undefined) return;\r\n    return of(arr.filter(x => x.name.toLowerCase().includes(filterValue) || x.code.includes(filterValue)));\r\n  }\r\n\r\n}\r\n\r\n","import { Observable } from 'rxjs';\r\nimport { Occupation } from './occupation';\r\nimport { Permit } from './permit';\r\nimport { CompanyClient } from './companyClient';\r\nimport { SpecialWaste } from './specialWaste';\r\nimport { Storage } from './storage';\r\nimport { Vehicle } from './vehicle';\r\n\r\nexport interface Company extends CompanyClient {\r\n  manager: string;\r\n  emailReception: string;\r\n  legalRep: {\r\n    firstName: string;\r\n    lastName: string;\r\n  };\r\n  nriz: {\r\n    username: string;\r\n    password: string;\r\n  };\r\n  wasteManager?: {\r\n    firstName: string;\r\n    lastName: string;\r\n  };\r\n  occupation: Occupation;\r\n  permits?: Permit[];\r\n  storages?: Storage[];\r\n  specialWastes?: SpecialWaste[];\r\n  vehicles?: Vehicle[];\r\n}\r\n\r\nexport abstract class CompanyData {\r\n  abstract createCompany(company: Company): Observable<Company>;\r\n  abstract getCompany(value: string, type: string): Observable<Company>;\r\n  abstract getCompanys(value: string, type: string): Observable<Company[]>;\r\n  abstract updateCompany(company: Company, value: string, type: string): Observable<Company>;\r\n  abstract deleteCompany(value: string, type: string): Observable<Company>;\r\n}\r\n","import { Injectable, isDevMode } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { Company } from '../data/company';\r\nimport { Permit } from '../data/permit';\r\nimport { User } from '../data/user';\r\nimport { Vehicle } from '../data/vehicle';\r\nimport { CompanyService } from './company.service';\r\nimport { PermitService } from './permit.service';\r\nimport { UserService } from './user.service';\r\nimport { VehicleService } from './vehicle.service';\r\n\r\n@Injectable()\r\nexport class RegisterService {\r\n  private user$: Observable<User>;\r\n  private user: User;\r\n  private company$: Observable<Company>;\r\n  private company: Company;\r\n  private operations$: Observable<string[]>;\r\n  private operations: string[];\r\n  private permitCode: string;\r\n  private permitCode$: Observable<string>;\r\n\r\n  constructor(private userService: UserService, private companyService: CompanyService,\r\n              private permitService: PermitService, private vehicleService: VehicleService) {\r\n    this.clearData();\r\n    if (isDevMode()) {\r\n      this.user = {\r\n        email: 'serbiansolutions' + (Math.random() * 1000).toFixed(0) + '@gmail.com',\r\n        firstName: 'Filip',\r\n        username: 'random' + (Math.random() * 1000).toFixed(0),\r\n        lastName: 'Balandzic',\r\n        password: 'nikjan00',\r\n        phone: (Math.random() * 10000000000).toFixed(0),\r\n        role: 'manager',\r\n      };\r\n      this.company = {\r\n        storages: [],\r\n        address: {\r\n          location: {\r\n            placeCode: 0,\r\n            placeName: 'Arnajevo',\r\n            townshipCode: 0,\r\n            townshipName: 'Beograd',\r\n            zipCode: '31210',\r\n          }, street: 'Nikola tesla 2',\r\n        },\r\n        occupation: {\r\n          code: '',\r\n          name: 'Proizvodnja mesnih preraevina',\r\n        },\r\n        email: 'random1' + (Math.random() * 1000).toFixed(0) + '@gmail.com',\r\n        emailReception: 'random' + (Math.random() * 1000).toFixed(0) + '@gmail.com',\r\n        mat: (Math.random() * 100000000).toFixed(0),\r\n        manager: 'random',\r\n        name: 'Test',\r\n        pib: (Math.random() * 1000000000).toFixed(0),\r\n        operations: [],\r\n        telephone: (Math.random() * 10000000000).toFixed(0),\r\n        legalRep: {firstName: 'Nikola', lastName: 'Jankovic'},\r\n        nriz: {username: '', password: ''},\r\n        wasteManager: {\r\n          firstName: '',\r\n          lastName: '',\r\n        },\r\n      };\r\n      this.operations = ['Transport Neopasnog Otpada'];\r\n    }\r\n  }\r\n\r\n  clearData(): void {\r\n    this.user = {email: '', firstName: '', username: '', lastName: '', password: '', phone: '', role: 'manager'};\r\n    this.company = {\r\n      occupation: {code: '', name: ''},\r\n      address: {location: {townshipCode: 0, townshipName: '', placeCode: 0, placeName: '', zipCode: ''}, street: ''},\r\n      email: '',\r\n      emailReception: '',\r\n      mat: '',\r\n      manager: '',\r\n      name: '',\r\n      pib: '',\r\n      operations: [],\r\n      storages: [],\r\n      permits: [],\r\n      telephone: '',\r\n      legalRep: {firstName: '', lastName: ''},\r\n      wasteManager: {firstName: '', lastName: ''},\r\n      nriz: {username: '', password: ''},\r\n    };\r\n    this.operations = [];\r\n    this.permitCode = '';\r\n  }\r\n\r\n  sendPermit(permitCode: Observable<string>): void {\r\n    this.permitCode$ = permitCode;\r\n    permitCode.subscribe(d => {\r\n      this.permitCode = d;\r\n    });\r\n  }\r\n\r\n  getPermit(): Observable<string> {\r\n    return of(this.permitCode);\r\n  }\r\n\r\n  sendOperations(operations: Observable<string[]>): void {\r\n    this.operations$ = operations;\r\n    operations.subscribe(o => {\r\n      this.operations = o;\r\n    });\r\n  }\r\n\r\n  getOperations(): Observable<string[]> {\r\n    return of(this.operations);\r\n  }\r\n\r\n  sendUser(user: Observable<User>): void {\r\n    this.user$ = user;\r\n    user.subscribe(k => {\r\n      this.user = k;\r\n    });\r\n  }\r\n\r\n  getUser(): Observable<User> {\r\n    if (this.company !== undefined && this.user !== undefined) {\r\n      this.user.company = this.company;\r\n    }\r\n    return of(this.user);\r\n  }\r\n\r\n  sendCompany(company: Observable<Company>): void {\r\n    this.company$ = company;\r\n    company.subscribe(f => {\r\n      this.company = f;\r\n    });\r\n  }\r\n\r\n  getCompany(): Observable<Company> {\r\n    if (this.company !== undefined) {\r\n      if (this.operations !== undefined) {\r\n        this.company.operations = this.operations;\r\n      }\r\n      if (this.user !== undefined) {\r\n        this.company.manager = this.user.username;\r\n      }\r\n      return of(this.company);\r\n    }\r\n  }\r\n\r\n  checkUser(user: User): Promise<boolean>[] {\r\n    const promises = [];\r\n    promises.push(this.userService.getUser(user.username, 'username').toPromise()\r\n      .then(res => {\r\n        return res === null;\r\n      }));\r\n    promises.push(this.userService.getUser(user.phone, 'phone').toPromise()\r\n      .then(res => {\r\n        return res === null;\r\n      }));\r\n    promises.push(this.userService.getUser(user.email, 'email').toPromise()\r\n      .then(res => {\r\n        return res === null;\r\n      }));\r\n    return promises;\r\n  }\r\n\r\n  checkCompany(company: Company): Promise<boolean>[] {\r\n    const promises = [];\r\n    promises.push(this.companyService.getCompany(company.pib, 'pib').toPromise()\r\n      .then(res => {\r\n        return res === null;\r\n      }));\r\n    promises.push(this.companyService.getCompany(company.mat, 'mat').toPromise()\r\n      .then(res => {\r\n        return res === null;\r\n      }));\r\n    promises.push(this.companyService.getCompany(company.email, 'email').toPromise()\r\n      .then(res => {\r\n        return res === null;\r\n      }));\r\n    promises.push(this.companyService.getCompany(company.emailReception, 'emailReception').toPromise()\r\n      .then(res => {\r\n        return res === null;\r\n      }));\r\n    promises.push(this.companyService.getCompany(company.telephone, 'telephone').toPromise()\r\n      .then(res => {\r\n        return res === null;\r\n      }));\r\n    if (company.nriz.username !== '') {\r\n      promises.push(this.companyService.getCompany(company.nriz.username, 'nriz.username').toPromise()\r\n        .then(res => {\r\n          return res === null;\r\n        }));\r\n    } else {\r\n      promises.push(true);\r\n    }\r\n    return promises;\r\n  }\r\n\r\n  checkPermits(permits: Permit[]): Promise<boolean>[] {\r\n    const promises = [];\r\n    for (const p of permits) {\r\n      promises.push(this.permitService.getPermit(p.code, 'code').toPromise()\r\n        .then(res => {\r\n          return res === null;\r\n        }).catch(err => {\r\n          return true;\r\n        }));\r\n    }\r\n    return promises;\r\n  }\r\n\r\n  checkVehicles(vehicles: Vehicle[]): Promise<boolean>[] {\r\n    const promises = [];\r\n    for (const v of vehicles) {\r\n      promises.push(this.vehicleService.getVehicle(v.licensePlate, 'licensePlate').toPromise()\r\n        .then(res => {\r\n          return res === null;\r\n        }));\r\n    }\r\n    return promises;\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <h1 class=\"text-center\">Registruj se!</h1>\r\n    </div>\r\n    <div class=\"col-12\">\r\n      <nb-stepper disableStepNavigation selectedIndex=\"1\">\r\n        <nb-step label=\"Korisnik\" completed=\"true\"></nb-step>\r\n        <nb-step label=\"Firma\">\r\n          <form #companyForm=\"ngForm\">\r\n\r\n            <div class=\"row my-1\">\r\n              <div class=\"col-12\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-companyName\">Naziv Firme:</label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <input #companyName=\"ngModel\"\r\n                           [(ngModel)]=\"company.name\"\r\n                           [attr.aria-invalid]=\"companyName.invalid && companyName.touched ? true : null\"\r\n                           [maxlength]=\"getConfigValue('forms.validation.companyName.maxLength')\"\r\n                           [minlength]=\"getConfigValue('forms.validation.companyName.minLength')\"\r\n                           [required]=\"getConfigValue('forms.validation.companyName.required')\"\r\n                           [status]=\"companyName.dirty ? (companyName.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                           autofocus\r\n                           fullWidth\r\n                           id=\"input-companyName\"\r\n                           name=\"companyName\"\r\n                           nbInput\r\n                           placeholder=\"Naziv firme\">\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <ng-container *ngIf=\"(companyName.invalid && companyName.touched) || checkIssues\">\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"companyName.errors?.required\">\r\n                        Naziv firme je obavezan!\r\n                      </p>\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"companyName.errors?.minlength\">\r\n                        Naziv firme mora biti dui od\r\n                        {{ getConfigValue('forms.validation.companyName.minLength') }} slova!\r\n                      </p>\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"companyName.errors?.maxlength\">\r\n                        Naziv firme mora biti krai od\r\n                        {{ getConfigValue('forms.validation.companyName.maxLength') }} slova!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row my-1\">\r\n              <div class=\"col-6\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-pib\">Poreski identifikacioni broj (PIB):</label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <input #pib=\"ngModel\"\r\n                           [(ngModel)]=\"company.pib\"\r\n                           [attr.aria-invalid]=\"pib.invalid && pib.touched ? true : null\"\r\n                           [maxlength]=\"getConfigValue('forms.validation.pib.maxLength')\"\r\n                           [minlength]=\"getConfigValue('forms.validation.pib.minLength')\"\r\n                           [pattern]=\"getConfigValue('forms.validation.pib.pattern')\"\r\n                           [required]=\"getConfigValue('forms.validation.pib.required')\"\r\n                           [status]=\"pib.dirty ? (pib.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                           fullWidth\r\n                           id=\"input-pib\"\r\n                           name=\"pib\"\r\n                           nbInput\r\n                           onkeypress=\"return /[0-9]/i.test(event.key)\"\r\n                           placeholder=\"PIB\">\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <ng-container *ngIf=\"(pib.invalid && pib.touched) || checkIssues\">\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"pib.errors?.required\">\r\n                        PIB je obavezan!\r\n                      </p>\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"pib.errors?.minlength\">\r\n                        PIB mora da bude validan!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-6\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-mat\">Matini broj:</label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <input #mat=\"ngModel\"\r\n                           [(ngModel)]=\"company.mat\"\r\n                           [attr.aria-invalid]=\"mat.invalid && mat.touched ? true : null\"\r\n                           [maxlength]=\"getConfigValue('forms.validation.mat.maxLength')\"\r\n                           [minlength]=\"getConfigValue('forms.validation.mat.minLength')\"\r\n                           [pattern]=\"getConfigValue('forms.validation.mat.pattern')\"\r\n                           [required]=\"getConfigValue('forms.validation.mat.required')\"\r\n                           [status]=\"mat.dirty ? (mat.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                           fullWidth\r\n                           id=\"input-mat\"\r\n                           name=\"mat\"\r\n                           nbInput\r\n                           onkeypress=\"return /[0-9]/i.test(event.key)\"\r\n                           placeholder=\"Matini broj\">\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <ng-container *ngIf=\"(mat.invalid && mat.touched) || checkIssues\">\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"mat.errors?.required\">\r\n                        Matini broj je obavezan!\r\n                      </p>\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"pib.errors?.minlength\">\r\n                        Matini broj mora da bude validan!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row my-1\">\r\n              <div class=\"col-12\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-adresa\">Adresa:</label>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row ml-2\" id=\"input-adresa\">\r\n                  <div class=\"col-6\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-12\">\r\n                        <label class=\"label\" for=\"input-townshipName\">Optina:</label>\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <input #townshipName=\"ngModel\"\r\n                               (ngModelChange)=\"chooseTownship(townshipName.value)\"\r\n                               [(ngModel)]=\"company.address.location.townshipName\"\r\n                               [attr.aria-invalid]=\"townshipName.invalid && townshipName.touched ? true : null\"\r\n                               [nbAutocomplete]=\"AutoCompleteTownships\"\r\n                               [required]=\"getConfigValue('forms.validation.address.required')\"\r\n                               autocomplete=\"off\"\r\n                               fullWidth\r\n                               id=\"input-townshipName\"\r\n                               name=\"townshipName\"\r\n                               nbInput\r\n                               placeholder=\"Naziv optine\">\r\n                        <nb-autocomplete #AutoCompleteTownships>\r\n                          <nb-option *ngFor=\"let o of townships$ | async\" [value]=\"o\">{{o}}</nb-option>\r\n                        </nb-autocomplete>\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <ng-container *ngIf=\"(townshipName.invalid && townshipName.touched) || checkIssues\">\r\n                          <p class=\"error-message mt-1 mb-0\" *ngIf=\"townshipName.errors?.required\">\r\n                            Optina je obavezna!\r\n                          </p>\r\n                        </ng-container>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"col-6\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-12\">\r\n                        <label class=\"label\" for=\"input-placeName\">Mesto:</label>\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <input #placeName=\"ngModel\"\r\n                               (ngModelChange)=\"findPlaces(placeName.value)\"\r\n                               [(ngModel)]=\"company.address.location.placeName\"\r\n                               [attr.aria-invalid]=\"placeName.invalid && placeName.touched ? true : null\"\r\n                               [nbAutocomplete]=\"autoCompletePlaces\"\r\n                               [required]=\"getConfigValue('forms.validation.address.required')\"\r\n                               autocomplete=\"off\"\r\n                               fullWidth\r\n                               id=\"input-placeName\"\r\n                               name=\"placeName\"\r\n                               nbInput\r\n                               placeholder=\"Naziv mesta\">\r\n                        <nb-autocomplete #autoCompletePlaces>\r\n                          <nb-option *ngFor=\"let m of places$ | async\" [value]=\"m\">{{m}}</nb-option>\r\n                        </nb-autocomplete>\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <ng-container *ngIf=\"checkIssues\">\r\n                          <p class=\"error-message mt-1 mb-0\" *ngIf=\"placeName.errors?.required\">\r\n                            Mesto je obavezno!\r\n                          </p>\r\n                        </ng-container>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row ml-2 mt-2\">\r\n                  <div class=\"col-3\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-12\">\r\n                        <label class=\"label\" for=\"input-zipCode\">Potanski broj:</label>\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <input #zipCode=\"ngModel\"\r\n                               [(ngModel)]=\"company.address.location.zipCode\"\r\n                               [attr.aria-invalid]=\"zipCode.invalid && zipCode.touched ? true : null\"\r\n                               [maxlength]=\"getConfigValue('forms.validation.zipCode.maxLength')\"\r\n                               [minlength]=\"getConfigValue('forms.validation.zipCode.minLength')\"\r\n                               [required]=\"getConfigValue('forms.validation.zipCode.required')\"\r\n                               [status]=\"zipCode.dirty ? (zipCode.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                               fullWidth\r\n                               id=\"input-zipCode\"\r\n                               name=\"zipCode\"\r\n                               nbInput\r\n                               onkeypress=\"return /[0-9]/i.test(event.key)\"\r\n                               placeholder=\"Potanski broj\">\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <ng-container *ngIf=\"(zipCode.invalid && zipCode.touched) || checkIssues\">\r\n                          <p class=\"error-message mt-1 mb-0\" *ngIf=\"zipCode.errors?.required\">\r\n                            Potanski broj je obavezan\r\n                          </p>\r\n                          <p class=\"error-message mt-1 mb-0\"\r\n                             *ngIf=\"zipCode.errors?.minlength || zipCode.errors?.maxlength\">\r\n                            Potanski broj mora biti validan\r\n                          </p>\r\n                        </ng-container>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"col-9\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-12\">\r\n                        <label class=\"label\" for=\"input-street\">Ulica i broj:</label></div>\r\n                      <div class=\"col-12\">\r\n                        <input #street=\"ngModel\"\r\n                               [(ngModel)]=\"company.address.street\"\r\n                               [attr.aria-invalid]=\"street.invalid && street.touched ? true : null\"\r\n                               [minlength]=\"getConfigValue('forms.validation.street.minLength')\"\r\n                               [required]=\"getConfigValue('forms.validation.street.required')\"\r\n                               [status]=\"street.dirty ? (street.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                               fullWidth\r\n                               id=\"input-street\"\r\n                               name=\"street\"\r\n                               nbInput\r\n                               placeholder=\"Ulica i broj\">\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <ng-container *ngIf=\"(street.invalid && street.touched) || checkIssues\">\r\n                          <p class=\"error-message mt-1 mb-0\" *ngIf=\"street.errors?.required\">\r\n                            Ulica je obavezna!\r\n                          </p>\r\n                          <p class=\"error-message mt-1 mb-0\"\r\n                             *ngIf=\"street.errors?.minlength\">\r\n                            Ulica mora biti validna!\r\n                          </p>\r\n                        </ng-container>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row my-1\">\r\n              <div class=\"col-12\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-occupation\">ifra delatnosti:</label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <input #occupation=\"ngModel\"\r\n                           (ngModelChange)=\"findOccupations(occupation.value)\"\r\n                           [(ngModel)]=\"company.occupation.name\"\r\n                           [attr.aria-invalid]=\"occupation.invalid && occupation.touched ? true : null\"\r\n                           [nbAutocomplete]=\"autoDelatnostSelect\"\r\n                           [required]=\"getConfigValue('forms.validation.occupation.required')\"\r\n                           autocomplete=\"off\"\r\n                           fullWidth\r\n                           id=\"input-occupation\"\r\n                           name=\"occupation\"\r\n                           nbInput\r\n                           placeholder=\"Delatnost\">\r\n                    <nb-autocomplete #autoDelatnostSelect>\r\n                      <nb-option *ngFor=\"let d of occupations$ | async\" [value]=\"d.name\">[{{d.code}}\r\n                        ] {{d.name}}</nb-option>\r\n                    </nb-autocomplete>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <ng-container *ngIf=\"(occupation.invalid && occupation.touched) || checkIssues\">\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"occupation.errors?.required\">\r\n                        ifra delatnosti je obavezna!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row my-1\">\r\n              <div class=\"col-4\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-companyEmail\">Email firme:</label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <input #companyEmail=\"ngModel\"\r\n                           [(ngModel)]=\"company.email\"\r\n                           [attr.aria-invalid]=\"companyEmail.invalid && companyEmail.touched ? true : null\"\r\n                           [required]=\"getConfigValue('forms.validation.email.required')\"\r\n                           [pattern]=\"getConfigValue('forms.validation.email.pattern')\"\r\n                           [status]=\"companyEmail.dirty ? (companyEmail.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                           fullWidth\r\n                           id=\"input-companyEmail\"\r\n                           name=\"companyEmail\"\r\n                           nbInput\r\n                           placeholder=\"Email firme\">\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <ng-container *ngIf=\"(companyEmail.invalid && companyEmail.touched) || checkIssues\">\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"companyEmail.errors?.required\">\r\n                        Email je obavezan!\r\n                      </p>\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"companyEmail.errors?.pattern\">\r\n                        Email mora biti validan!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n\r\n              <div class=\"col-4\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-companyTelephone\">Telefon firme:</label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <input #companyTelephone=\"ngModel\"\r\n                           [(ngModel)]=\"company.telephone\"\r\n                           [attr.aria-invalid]=\"companyTelephone.invalid && companyTelephone.touched ? true : null\"\r\n                           [maxlength]=\"getConfigValue('forms.validation.telephone.maxLength')\"\r\n                           [minlength]=\"getConfigValue('forms.validation.telephone.minLength')\"\r\n                           [required]=\"getConfigValue('forms.validation.telephone.required')\"\r\n                           [status]=\"companyTelephone.dirty ? (companyTelephone.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                           fullWidth\r\n                           id=\"input-companyTelephone\"\r\n                           name=\"companyTelephone\"\r\n                           nbInput\r\n                           onkeypress=\"return /[0-9]/i.test(event.key)\"\r\n                           placeholder=\"Telefon firme\">\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <ng-container *ngIf=\"(companyTelephone.invalid && companyTelephone.touched) || checkIssues\">\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"companyTelephone.errors?.required\">\r\n                        Telefon firme je obavezan!\r\n                      </p>\r\n                      <p class=\"error-message mt-1 mb-0\"\r\n                         *ngIf=\"companyTelephone.errors?.minlength || companyTelephone.errors?.maxlength\">\r\n                        Telefon firme mora biti validan!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-4\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-companyFax\">Faks firme:</label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <input #companyFax=\"ngModel\"\r\n                           [(ngModel)]=\"company.fax\"\r\n                           [maxlength]=\"getConfigValue('forms.validation.telephone.maxLength')\"\r\n                           [minlength]=\"getConfigValue('forms.validation.telephone.minLength')\"\r\n                           [attr.aria-invalid]=\"companyFax.invalid && companyFax.touched ? true : null\"\r\n                           fullWidth\r\n                           id=\"input-companyFax\"\r\n                           name=\"companyFax\"\r\n                           nbInput\r\n                           onkeypress=\"return /[0-9]/i.test(event.key)\"\r\n                           placeholder=\"Faks firme\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row my-1\">\r\n              <div class=\"col-6\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-companyEmailReception\">Birajte email za prijem dokumenata:</label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <nb-select #companyEmailReception=\"ngModel\"\r\n                               [(ngModel)]=\"company.emailReception\"\r\n                               [attr.aria-invalid]=\"companyEmailReception.invalid && companyEmailReception.touched ? true : null\"\r\n                               [required]=\"getConfigValue('forms.validation.email.required')\"\r\n                               [selected]=\"company.email\"\r\n                               [status]=\"companyEmailReception.dirty ? (companyEmailReception.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                               fullWidth\r\n                               id=\"input-companyEmailReception\"\r\n                               name=\"companyEmailReception\"\r\n                               placeholder=\"Email za prijem dokumenata\">\r\n                      <nb-option [value]=\"company.email\"\r\n                                 (selectionChange)=\"clearTmpEmail()\">{{company.email}}</nb-option>\r\n                      <nb-option [value]=\"user?.email\" (selectionChange)=\"clearTmpEmail()\">{{user?.email}}</nb-option>\r\n                      <nb-option [value]=\"company.emailReception\" #otherEmail>Drugi email</nb-option>\r\n                    </nb-select>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <ng-container\r\n                      *ngIf=\"(companyEmailReception.invalid && companyEmailReception.touched) || checkIssues\">\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"companyEmailReception.errors?.required\">\r\n                        Email je obavezan!\r\n                      </p>\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"companyEmailReception.errors?.pattern\">\r\n                        Email mora biti validan!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-6\" *ngIf=\"otherEmail.selected\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-companyEmailReception2\">Unesite va email za prijem\r\n                      dokumenata:</label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <input #companyEmailReception2=\"ngModel\"\r\n                           [(ngModel)]=\"tmpEmail\"\r\n                           (ngModelChange)=\"setCompanyEmail()\"\r\n                           [attr.aria-invalid]=\"companyEmailReception2.invalid && companyEmailReception2.touched ? true : null\"\r\n                           [pattern]=\"getConfigValue('forms.validation.email.pattern')\"\r\n                           [required]=\"getConfigValue('forms.validation.email.required')\"\r\n                           [status]=\"companyEmailReception2.dirty ? (companyEmailReception2.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                           fullWidth\r\n                           id=\"input-companyEmailReception2\"\r\n                           name=\"companyEmailReception2\"\r\n                           nbInput\r\n                           placeholder=\"Email\">\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <ng-container\r\n                      *ngIf=\"(companyEmailReception2.invalid && companyEmailReception2.touched) || checkIssues\">\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"companyEmailReception2.errors?.required\">\r\n                        Email je obavezan!\r\n                      </p>\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"companyEmailReception2.errors?.pattern\">\r\n                        Email mora biti validan!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row my-1\">\r\n              <div class=\"col-12\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"toggle-nriz\">Da li imate nalog na NRIZ (Nacionalni registar izvora\r\n                      zagaivanja)?\r\n                      <i class=\"fa fa-info-circle\"\r\n                         [nbTooltip]=\"'Ukoliko posedujete nalog na NRIZ unesite korisnoko ime i ifru za pristup na NRIZ ukoliko elite da nam poverite odgovornost i obavljanje poslova izvetavanja umesto vas.'\"></i>\r\n                    </label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <nb-toggle #nrizToggle id=\"toggle-nriz\"></nb-toggle>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row my-1\" *ngIf=\"nrizToggle.checked\">\r\n              <div class=\"col-6\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-usernameNRIZ\">Korisniko ime:</label>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <input #usernameNRIZ=\"ngModel\"\r\n                           [(ngModel)]=\"company.nriz.username\"\r\n                           [attr.aria-invalid]=\"usernameNRIZ.invalid && usernameNRIZ.touched ? true : null\"\r\n                           [maxlength]=\"getConfigValue('forms.validation.username.maxLength')\"\r\n                           [minlength]=\"getConfigValue('forms.validation.username.minLength')\"\r\n                           [required]=\"getConfigValue('forms.validation.username.required') && nrizToggle.checked\"\r\n                           [status]=\"usernameNRIZ.dirty ? (usernameNRIZ.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                           fullWidth\r\n                           id=\"input-usernameNRIZ\"\r\n                           name=\"usernameNRIZ\"\r\n                           nbInput\r\n                           placeholder=\"Korisniko ime\">\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <ng-container *ngIf=\"(usernameNRIZ.invalid && usernameNRIZ.touched) || checkIssues\">\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"usernameNRIZ.errors?.required\">\r\n                        Ime zakonskog zastupnika je obavezno!\r\n                      </p>\r\n                      <p class=\"error-message mt-1 mb-0\"\r\n                         *ngIf=\"usernameNRIZ.errors?.minlength || usernameNRIZ.errors?.maxlength\">\r\n                        Korisniko ime mora biti due od\r\n                        {{ getConfigValue('forms.validation.username.minLength') }} slova!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-6\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\" for=\"input-passwordNRIZ\">ifra:</label>\r\n                  </div>\r\n                  <div class=\"col-10 pr-0\">\r\n                    <input #passwordNRIZ=\"ngModel\"\r\n                           [(ngModel)]=\"company.nriz.password\"\r\n                           [attr.aria-invalid]=\"passwordNRIZ.invalid && passwordNRIZ.touched ? true : null\"\r\n                           [maxlength]=\"getConfigValue('forms.validation.password.maxLength')\"\r\n                           [minlength]=\"getConfigValue('forms.validation.password.minLength')\"\r\n                           [required]=\"getConfigValue('forms.validation.password.required') && nrizToggle.checked\"\r\n                           [status]=\"passwordNRIZ.dirty ? (passwordNRIZ.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                           fullWidth\r\n                           id=\"input-passwordNRIZ\"\r\n                           name=\"passwordNRIZ\"\r\n                           nbInput\r\n                           [type]=\"showPassword === 'eye' ? 'password' : 'text'\"\r\n                           placeholder=\"ifra\">\r\n                  </div>\r\n                  <div class=\"col-2 pl-0\">\r\n                    <button fullWidth tabindex=\"-1\" nbButton type=\"button\"\r\n                            (click)=\"this.showPassword = this.showPassword === 'eye' ? 'eye-off' : 'eye';\">\r\n                      <nb-icon [icon]=\"showPassword\"></nb-icon>\r\n                    </button>\r\n                  </div>\r\n                  <div class=\"col-12\">\r\n                    <ng-container *ngIf=\"(passwordNRIZ.invalid && passwordNRIZ.touched) || checkIssues\">\r\n                      <p class=\"error-message mt-1 mb-0\" *ngIf=\"passwordNRIZ.errors?.required\">\r\n                        ifra je obavezna!\r\n                      </p>\r\n                      <p class=\"error-message mt-1 mb-0\"\r\n                         *ngIf=\"passwordNRIZ.errors?.minlength || passwordNRIZ.errors?.maxlength\">\r\n                        ifra mora biti due od\r\n                        {{ getConfigValue('forms.validation.password.minLength') }} slova!\r\n                      </p>\r\n                    </ng-container>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row my-1\">\r\n              <div class=\"col-12\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-12\">\r\n                    <label class=\"label\">Puno ime zakonskog zastupnika firme:</label>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row ml-2\">\r\n                  <div class=\"col-6\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-12\">\r\n                        <label class=\"label\" for=\"input-fNameLegalRep\">Ime:</label>\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <input #fNameLegalRepo=\"ngModel\"\r\n                               [(ngModel)]=\"company.legalRep.firstName\"\r\n                               [attr.aria-invalid]=\"fNameLegalRepo.invalid && fNameLegalRepo.touched ? true : null\"\r\n                               [maxlength]=\"getConfigValue('forms.validation.firstName.maxLength')\"\r\n                               [minlength]=\"getConfigValue('forms.validation.firstName.minLength')\"\r\n                               [required]=\"getConfigValue('forms.validation.firstName.required')\"\r\n                               [status]=\"fNameLegalRepo.dirty ? (fNameLegalRepo.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                               fullWidth\r\n                               id=\"input-fNameLegalRep\"\r\n                               name=\"fNameLegalRep\"\r\n                               nbInput\r\n                               placeholder=\"Ime\">\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <ng-container *ngIf=\"(fNameLegalRepo.invalid && fNameLegalRepo.touched) || checkIssues\">\r\n                          <p class=\"error-message mt-1 mb-0\" *ngIf=\"fNameLegalRepo.errors?.required\">\r\n                            Ime zakonskog zastupnika je obavezno!\r\n                          </p>\r\n                          <p class=\"error-message mt-1 mb-0\"\r\n                             *ngIf=\"fNameLegalRepo.errors?.minlength || fNameLegalRepo.errors?.maxlength\">\r\n                            Ime zakonskog zastupnika mora biti due od\r\n                            {{ getConfigValue('forms.validation.firstName.minLength') }} slova!\r\n                          </p>\r\n                        </ng-container>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-6\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-12\">\r\n                        <label class=\"label\" for=\"input-lNameLegalRep\">Prezime:</label>\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <input #lNameLegalRepo=\"ngModel\"\r\n                               [(ngModel)]=\"company.legalRep.lastName\"\r\n                               [attr.aria-invalid]=\"lNameLegalRepo.invalid && lNameLegalRepo.touched ? true : null\"\r\n                               [maxlength]=\"getConfigValue('forms.validation.lastName.maxLength')\"\r\n                               [minlength]=\"getConfigValue('forms.validation.lastName.minLength')\"\r\n                               [required]=\"getConfigValue('forms.validation.lastName.required')\"\r\n                               [status]=\"lNameLegalRepo.dirty ? (lNameLegalRepo.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                               fullWidth\r\n                               id=\"input-lNameLegalRep\"\r\n                               name=\"lNameLegalRep\"\r\n                               nbInput\r\n                               placeholder=\"Prezime\">\r\n                      </div>\r\n                      <div class=\"col-12\">\r\n                        <ng-container *ngIf=\"(lNameLegalRepo.invalid && lNameLegalRepo.touched) || checkIssues\">\r\n                          <p class=\"error-message mt-1 mb-0\" *ngIf=\"lNameLegalRepo.errors?.required\">\r\n                            Prezime zakonskog zastupnika je obavezno!\r\n                          </p>\r\n                          <p class=\"error-message mt-1 mb-0\"\r\n                             *ngIf=\"lNameLegalRepo.errors?.minlength || lNameLegalRepo.errors?.maxlength\">\r\n                            Prezime zakonskog zastupnika mora biti due od\r\n                            {{ getConfigValue('forms.validation.lastName.minLength') }} slova!\r\n                          </p>\r\n                        </ng-container>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row mt-3\">\r\n              <div class=\"col-6 mr-0 pr-0\">\r\n                <button nbButton\r\n                        fullWidth\r\n                        status=\"danger\"\r\n                        type=\"button\"\r\n                        routerLink=\"../register-user\">\r\n                  Nazad\r\n                </button>\r\n              </div>\r\n              <div class=\"col-6 ml-0 pl-0\">\r\n                <button nbButton\r\n                        fullWidth\r\n                        status=\"success\"\r\n                        type=\"submit\"\r\n                        (click)=\"validateCompany(companyForm)\">\r\n                  Dalje\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </nb-step>\r\n        <nb-step label=\"Operacije\"></nb-step>\r\n        <nb-step label=\"Informacije\"></nb-step>\r\n        <nb-step label=\"Potvrda\"></nb-step>\r\n      </nb-stepper>\r\n    </div>\r\n    <div class=\"col-12\">\r\n      <section class=\"text-center\" aria-label=\"Uloguj se\">\r\n        Ve imate nalog? <a class=\"text-link\" routerLink=\"../login\">Uloguj se</a>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS } from '@nebular/auth';\r\nimport { NbComponentStatus } from '@nebular/theme';\r\nimport { Observable, of } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\nimport { Occupation } from '../../../@core/data/occupation';\r\nimport { Company } from '../../../@core/data/company';\r\nimport { User } from '../../../@core/data/user';\r\nimport { OccupationService } from '../../../@core/service/occupation.service';\r\nimport { LocationService } from '../../../@core/service/location.service';\r\nimport { RegisterService } from '../../../@core/service/register.service';\r\nimport { ToastrService } from '../../../@core/service/toastr.service';\r\n\r\n@Component({\r\n  selector: 'register-company',\r\n  templateUrl: './register-company.component.html',\r\n  styleUrls: ['./register-company.component.scss'],\r\n})\r\nexport class RegisterCompanyComponent implements OnInit {\r\n\r\n  showPassword: string = 'eye';\r\n  checkIssues: boolean = false;\r\n  occupations$: Observable<Occupation[]>;\r\n  occupations: Occupation[];\r\n  places$: Observable<string[]>;\r\n  places: string[];\r\n  townships: string[];\r\n  townships$: Observable<string[]>;\r\n  tmpEmail: string = '';\r\n  user: User;\r\n  company: Company;\r\n\r\n  constructor(@Inject(NB_AUTH_OPTIONS) protected options = {}, private locationService: LocationService,\r\n              private occupationService: OccupationService, private registerService: RegisterService,\r\n              private router: Router, private toastrService: ToastrService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.registerService.getCompany().pipe(first()).subscribe(f => {\r\n      this.company = f;\r\n    });\r\n    this.registerService.getUser().pipe(first()).subscribe(k => {\r\n      if (k !== undefined) {\r\n        this.user = k;\r\n      }\r\n    });\r\n    this.registerService.sendCompany(of(this.company));\r\n    this.locationService.getDistinctTownships().pipe(first()).subscribe(o => {\r\n      this.townships = o;\r\n      this.townships$ = of(o);\r\n    });\r\n    this.occupationService.getOccupations().pipe(first()).subscribe(d => {\r\n      this.occupations = d;\r\n      this.occupations$ = of(d);\r\n    });\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  private checkAddress(): boolean {\r\n    return this.townships.includes(this.company.address.location.townshipName)\r\n      && this.places.includes(this.company.address.location.placeName);\r\n  }\r\n\r\n  private checkOccupation(): boolean {\r\n    return this.occupations.map(x => x.name).includes(this.company.occupation.name);\r\n  }\r\n\r\n  async validateCompany(form: NgForm) {\r\n    if (form.invalid) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka', 'Ispravite greke da bi ste nastavili.', 'warning');\r\n      return false;\r\n    }\r\n    if (!this.checkAddress()) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka', 'Proverite adresu (odaberite sa liste optinu odnosno mesto) da bi ste nastavili.',\r\n        'warning', 5000);\r\n      return false;\r\n    }\r\n    if (!this.checkOccupation()) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka', 'Proverite zanimanje (odaberite sa liste zanimanja) da bi ste nastavili.',\r\n        'warning', 5000);\r\n      return false;\r\n    }\r\n    let text = '';\r\n    const companyExists = await Promise.all(this.registerService.checkCompany(this.company)).then(b => {\r\n      text = !b[0] ? 'taj pib' : text;\r\n      text = !b[1] ? 'taj matini broj' : text;\r\n      text = !b[2] ? 'taj email' : text;\r\n      text = !b[3] ? 'taj email za prijem' : text;\r\n      text = !b[4] ? 'taj telefon' : text;\r\n      text = !b[5] ? 'to korisniko ime za NRIZ' : text;\r\n      return b[0] && b[1] && b[2] && b[3] && b[4] && b[5];\r\n    });\r\n    if (!companyExists) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast(`Ve postoji ${text}!`, `Promenite ${text} da biste nastavili.`, 'danger');\r\n      return;\r\n    }\r\n    if (form.valid && this.tmpEmail === '' && this.company.emailReception !== '') {\r\n      this.router.navigate(['auth/register-operations']);\r\n    } else {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka', 'Ispravite greke da bi ste nastavili.', 'warning');\r\n    }\r\n  }\r\n\r\n  private getPlaces(townshipName: string): void {\r\n    if (townshipName === undefined) return;\r\n    this.locationService.getPlacesFromTownship(townshipName).pipe(first()).subscribe(m => {\r\n      this.places = m;\r\n      this.places$ = of(m);\r\n    });\r\n  }\r\n\r\n  chooseTownship(value: string) {\r\n    if (value === '') {\r\n      this.townships$ = of(this.townships);\r\n      return;\r\n    }\r\n    this.townships$ = this.locationService.filter(value, this.townships);\r\n    if (this.townships$ !== undefined)\r\n      this.townships$.subscribe(x => {\r\n        this.getPlaces(x[0]);\r\n      });\r\n  }\r\n\r\n  findPlaces(value: string) {\r\n    this.places$ = this.locationService.filter(value, this.places);\r\n  }\r\n\r\n  findOccupations(occupation: string) {\r\n    this.occupations$ = this.occupationService.filter(occupation, this.occupations);\r\n  }\r\n\r\n  // Clear the temporary email so the validation works\r\n  clearTmpEmail(): void {\r\n    this.tmpEmail = '';\r\n  }\r\n\r\n  setCompanyEmail(): void {\r\n    this.company.emailReception = this.tmpEmail;\r\n  }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { RecaptchaModule } from 'ng-recaptcha';\r\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\r\nimport { CompanyService } from '../@core/service/company.service';\r\nimport { OccupationService } from '../@core/service/occupation.service';\r\nimport { CatalogService } from '../@core/service/catalog.service';\r\nimport { LocationService } from '../@core/service/location.service';\r\nimport { PermitService } from '../@core/service/permit.service';\r\nimport { RegisterService } from '../@core/service/register.service';\r\nimport { VehicleService } from '../@core/service/vehicle.service';\r\nimport { ThemeModule } from '../@theme/theme.module';\r\nimport { NgxAuthRoutingModule } from './auth-routing.module';\r\nimport {\r\n\tNbAccordionModule,\r\n\tNbAlertModule,\r\n\tNbAutocompleteModule, NbButtonGroupModule,\r\n\tNbButtonModule,\r\n\tNbCardModule,\r\n\tNbCheckboxModule,\r\n\tNbDatepickerModule, NbIconModule,\r\n\tNbInputModule,\r\n\tNbPopoverModule,\r\n\tNbSelectModule, NbSpinnerModule,\r\n\tNbStepperModule,\r\n\tNbTabsetModule,\r\n\tNbToggleModule, NbTooltipModule,\r\n} from '@nebular/theme';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { LogoutComponent } from './logout/logout.component';\r\nimport { RegisterGuard } from './register-guard.service';\r\nimport { RegisterCompanyComponent } from './register/register-company/register-company.component';\r\nimport { RegisterInformationsComponent } from './register/register-informations/register-informations.component';\r\nimport { RegisterUserComponent } from './register/register-user/register-user.component';\r\nimport { RegisterOperationsComponent } from './register/register-operations/register-operations.component';\r\nimport { RegisterConfirmationComponent } from './register/register-confirmation/register-confirmation.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { TrashTransportComponent } from './register/register-informations/trash/trash-transport/trash-transport.component';\r\nimport { RegisterPermitComponent } from './register/register-permit/register-permit.component';\r\nimport { TrashStorageComponent } from './register/register-informations/trash/trash-storage/trash-storage.component';\r\nimport { TrashPermitComponent } from './register/register-informations/trash/trash-permit/trash-permit.component';\r\nimport { RedirectComponent } from './redirect/redirect.component';\r\nimport { EmailConfirmationComponent } from './email-confirmation/email-confirmation.component';\r\nimport { ForgotPasswordComponent } from './forgot-password/forgot-password.component';\r\nimport { ResetPasswordComponent } from './reset-password/reset-password.component';\r\nimport { TermsOfServiceComponent } from './terms-of-service/terms-of-service.component';\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tThemeModule,\r\n\t\tCommonModule,\r\n\t\tRouterModule,\r\n\t\tNbAlertModule,\r\n\t\tNbInputModule,\r\n\t\tNbButtonModule,\r\n\t\tNbCheckboxModule,\r\n\t\tNgxAuthRoutingModule,\r\n\t\tNbSelectModule,\r\n\t\tFormsModule,\r\n\t\tNbToggleModule,\r\n\t\tNbAccordionModule,\r\n\t\tNbTabsetModule,\r\n\t\tNbAutocompleteModule,\r\n\t\tNbStepperModule,\r\n\t\tNbCardModule,\r\n\t\tNg2SmartTableModule,\r\n\t\tNbPopoverModule,\r\n\t\tNbDatepickerModule,\r\n\t\tNbIconModule,\r\n\t\tNbSpinnerModule,\r\n\t\tRecaptchaModule,\r\n\t\tNbTooltipModule,\r\n\t\tNbButtonGroupModule,\r\n\t],\r\n  declarations: [\r\n    LoginComponent,\r\n    LogoutComponent,\r\n    RegisterComponent,\r\n    RegisterUserComponent,\r\n    RegisterCompanyComponent,\r\n    RegisterOperationsComponent,\r\n    RegisterInformationsComponent,\r\n    RegisterPermitComponent,\r\n    RegisterConfirmationComponent,\r\n    TrashTransportComponent,\r\n    TrashStorageComponent,\r\n    TrashPermitComponent,\r\n    RedirectComponent,\r\n    EmailConfirmationComponent,\r\n    ForgotPasswordComponent,\r\n    ResetPasswordComponent,\r\n    TermsOfServiceComponent,\r\n  ],\r\n  providers: [\r\n    RegisterGuard,\r\n    LocationService,\r\n    OccupationService,\r\n    RegisterService,\r\n    CompanyService,\r\n    PermitService,\r\n    VehicleService,\r\n    CatalogService,\r\n  ],\r\n})\r\n\r\nexport class NgxAuthModule {\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS } from '@nebular/auth';\r\nimport { LocalDataSource } from 'ng2-smart-table';\r\nimport { of } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\nimport { Permit } from '../../../@core/data/permit';\r\nimport { Company } from '../../../@core/data/company';\r\nimport { Catalog } from '../../../@core/data/catalog';\r\nimport { CatalogService } from '../../../@core/service/catalog.service';\r\nimport { RegisterService } from '../../../@core/service/register.service';\r\nimport { CATALOG_SETTINGS } from './catalog.settings';\r\n\r\n@Component({\r\n  selector: 'register-permit',\r\n  templateUrl: './register-permit.component.html',\r\n  styleUrls: ['./register-permit.component.scss'],\r\n})\r\nexport class RegisterPermitComponent implements OnInit {\r\n\r\n  catalog: LocalDataSource = new LocalDataSource();\r\n  company: Company;\r\n  permitCode: string;\r\n  permit: Permit;\r\n  trashList: Catalog[];\r\n  settings: {} = CATALOG_SETTINGS;\r\n  permitType: string = '';\r\n\r\n  constructor(@Inject(NB_AUTH_OPTIONS) protected options = {}, private registerService: RegisterService,\r\n              private catalogService: CatalogService) {\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.registerService.getPermit().subscribe(d => {\r\n      this.permitCode = d;\r\n    });\r\n    this.registerService.getCompany().subscribe(f => {\r\n      if (f !== undefined) {\r\n        this.company = f;\r\n        this.permit = this.company.permits.filter(x => x.code === this.permitCode)[0];\r\n        this.permitType = this.permit.type;\r\n        this.trashList = this.permit.trashList;\r\n      }\r\n    });\r\n    this.registerService.sendCompany(of(this.company));\r\n    let safe = false, unsafe = false;\r\n    this.registerService.getOperations().subscribe(o => {\r\n      o.forEach(x => {\r\n        if (x.includes('Neopasnog'))\r\n          safe = true;\r\n        if (x.includes('Opasnog'))\r\n          unsafe = true;\r\n      });\r\n      if (safe && !unsafe)\r\n        this.catalogService.getSafeTrash().pipe(first()).subscribe(k => {\r\n          k.sort((a, b) => a.indexNumber.localeCompare(b.indexNumber));\r\n          this.catalog.load(k);\r\n        });\r\n      else if (unsafe && !safe)\r\n        this.catalogService.getUnsafeTrash().pipe(first()).subscribe(k => {\r\n          k.sort((a, b) => a.indexNumber.localeCompare(b.indexNumber));\r\n          this.catalog.load(k);\r\n        });\r\n      else if (unsafe && safe)\r\n        this.catalogService.getCatalogs().pipe(first()).subscribe(k => {\r\n          k.sort((a, b) => a.indexNumber.localeCompare(b.indexNumber));\r\n          this.catalog.load(k);\r\n        });\r\n    });\r\n  }\r\n\r\n  onSearch(query: string) {\r\n    if (query === '')\r\n      this.catalog.setFilter([]);\r\n    this.catalog.setFilter([\r\n      {\r\n        field: 'indexNumber',\r\n        search: query,\r\n        filter: function filterFunction(cell: any, search: string): boolean {\r\n          cell = cell.replace(/\\s+/g, '').includes(search.replace(/\\s+/g, ''));\r\n          return cell;\r\n        },\r\n      },\r\n      {\r\n        field: 'name',\r\n        search: query,\r\n      },\r\n    ], false);\r\n  }\r\n\r\n  addTrash(trash: Catalog) {\r\n    if (this.trashList.some(x => x._id === trash._id)) {\r\n      this.removeTrash(trash);\r\n    } else {\r\n      this.permit.trashList.push(trash);\r\n    }\r\n    this.company.permits.filter(x => x.code === this.permitCode)[0] = this.permit;\r\n  }\r\n\r\n  removeTrash(trash: Catalog) {\r\n    const found = this.trashList.filter(x => x._id === trash._id)[0];\r\n    if (found) {\r\n      const index = this.trashList.indexOf(found, 0);\r\n      if (index > -1)\r\n        this.trashList.splice(index, 1);\r\n    }\r\n  }\r\n\r\n}\r\n","<h1 class=\"text-center\">Registruj se!</h1>\r\n<nb-stepper disableStepNavigation selectedIndex=\"3\">\r\n  <nb-step label=\"User\" completed=\"true\">Test</nb-step>\r\n  <nb-step label=\"Firma\" completed=\"true\"></nb-step>\r\n  <nb-step label=\"Operacije\" completed=\"true\"></nb-step>\r\n  <nb-step label=\"Informacije\">\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">\r\n        <h5>Lista otpada dozvole:</h5>\r\n        <button nbButton status=\"warning\" (click)=\"addTrash(o)\"\r\n                class=\"p-2 m-1\" *ngFor=\"let o of trashList\" [nbPopover]=\"o.name\"\r\n                nbPopoverTrigger=\"hint\" nbPopoverPlacement=\"bottom\">\r\n          {{o.indexNumber}}\r\n        </button>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <label class=\"ml-0\">Pretrazi po indeksnom broju ili nazivu:</label>\r\n        <input nbInput #search fullWidth type=\"text\" placeholder=\"Pretrazi\"\r\n               (input)=\"search.value.length >= 1 && onSearch(search.value)\">\r\n        <ng2-smart-table [source]=\"catalog\" [settings]=\"settings\"\r\n                         (custom)=\"addTrash($event.data)\"></ng2-smart-table>\r\n      </div>\r\n    </div>\r\n    <button nbButton\r\n            fullWidth\r\n            status=\"success\"\r\n            [routerLink]=\"['..', 'register-informations', permitType]\"\r\n            class=\"mt-2\"\r\n            [disabled]=\"trashList?.length === 0\">\r\n      Zavri\r\n    </button>\r\n  </nb-step>\r\n  <nb-step label=\"Potvrda\"></nb-step>\r\n</nb-stepper>\r\n","import { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS, NbAuthResult, NbAuthService, NbRegisterComponent } from '@nebular/auth';\r\n\r\n@Component({\r\n  selector: 'auth-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.scss'],\r\n})\r\nexport class RegisterComponent extends NbRegisterComponent {\r\n\r\n  showMessages: any = [];\r\n  strategy: string = '';\r\n  submitted = false;\r\n  errors: string[] = [];\r\n  messages: string[] = [];\r\n\r\n  constructor(protected service: NbAuthService,\r\n              @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n              protected cd: ChangeDetectorRef,\r\n              protected router: Router) {\r\n    super(service, options, cd, router);\r\n    this.showMessages = this.getConfigValue('forms.register.showMessages');\r\n    this.strategy = this.getConfigValue('forms.register.strategy');\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  register(): void {\r\n    this.errors = this.messages = [];\r\n    this.submitted = true;\r\n\r\n     const korisnik: string = '';\r\n\r\n    this.service.register(this.strategy, korisnik).subscribe((result: NbAuthResult) => {\r\n      this.submitted = false;\r\n      if (result.isSuccess()) {\r\n        this.messages = result.getMessages();\r\n      } else {\r\n        this.errors = result.getErrors();\r\n      }\r\n      const redirect = result.getRedirect();\r\n      if (redirect) {\r\n        setTimeout(() => {\r\n          return this.router.navigateByUrl(redirect);\r\n        }, this.redirectDelay);\r\n      }\r\n      this.cd.detectChanges();\r\n    });\r\n  }\r\n\r\n}\r\n","<h1 id=\"title\" class=\"title\">Registruj se</h1>\r\n\r\n<nb-alert *ngIf=\"showMessages.error && errors?.length && !submitted\" outline=\"danger\" role=\"alert\">\r\n  <p class=\"alert-title\"><b>Greka</b></p>\r\n  <ul class=\"alert-message-list\">\r\n    <li *ngFor=\"let error of errors\" class=\"alert-message\">{{ error }}</li>\r\n  </ul>\r\n</nb-alert>\r\n\r\n<nb-alert *ngIf=\"showMessages.success && messages?.length && !submitted\" outline=\"success\" role=\"alert\">\r\n  <p class=\"alert-title\"><b>Uspeh!</b></p>\r\n  <ul class=\"alert-message-list\">\r\n    <li *ngFor=\"let message of messages\" class=\"alert-message\">{{ message }}</li>\r\n  </ul>\r\n</nb-alert>\r\n\r\n<div class=\"container\">\r\n  <section class=\"text-center\" aria-label=\"Uloguj se\">\r\n    Ve imate nalog? <a class=\"text-link\" routerLink=\"../login\">Uloguj se</a>\r\n  </section>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NbAuthService } from '@nebular/auth';\r\n\r\n@Component({\r\n  selector: 'auth-redirect',\r\n  templateUrl: './redirect.component.html',\r\n  styleUrls: ['./redirect.component.css'],\r\n})\r\nexport class RedirectComponent implements OnInit {\r\n\r\n  constructor(private authService: NbAuthService, private router: Router) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.authService.isAuthenticated().subscribe(b => {\r\n        if (!b)\r\n          this.router.navigate(['auth', 'login']);\r\n      },\r\n    );\r\n    this.authService.getToken().subscribe(t => {\r\n      const user = t.getPayload().data.user;\r\n      if (user.role === 'admin') {\r\n        this.router.navigate(['admin']);\r\n      } else {\r\n        this.router.navigate(['pages', 'dashboard']);\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<p>redirect works!</p>\r\n","<div class=\"row my-1\">\r\n  <div class=\"col-12\">\r\n    <form #updateVehicleForm>\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <label class=\"label\" for=\"input-storageNo\">Broj vozila:</label>\r\n        </div>\r\n        <div class=\"col-12\">\r\n          <nb-button-group>\r\n            <button (pressedChange)=\"updateVehicles(1, $event)\" nbButtonToggle>1</button>\r\n            <button (pressedChange)=\"updateVehicles(2, $event)\" nbButtonToggle>2</button>\r\n            <button (pressedChange)=\"updateVehicles(3, $event)\" nbButtonToggle>3</button>\r\n            <button (pressedChange)=\"updateVehicles(4, $event)\" nbButtonToggle>4</button>\r\n            <button (pressedChange)=\"updateVehicles(5, $event)\" nbButtonToggle>5</button>\r\n            <button (pressedChange)=\"showVehicleInput = !showVehicleInput\" nbButtonToggle>Vie...</button>\r\n            <input *ngIf=\"showVehicleInput\" [(ngModel)]=\"tmpNo\" [ngModelOptions]=\"{standalone: true}\"\r\n                   fullWidth nbInput id=\"input-storageNo\"\r\n                   placeholder=\"0\" step=\"1\" type=\"number\">\r\n            <button *ngIf=\"showVehicleInput\" nbButton (click)=\"updateVehicles(tmpNo, true)\"><i class=\"fa fa-plus\"></i></button>\r\n          </nb-button-group>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"vehiclesNo > 0\" class=\"row pt-4\">\r\n  <div *ngFor=\"let vehicle of vehicles$ | async; let i = index\" class=\"col-6\">\r\n    <form #transportForm=\"ngForm\">\r\n\r\n      <nb-card accent=\"danger\">\r\n        <nb-card-body>\r\n\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-12\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-licensePlate\">Registarski broj tablice:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <input #licensePlate=\"ngModel\"\r\n                         [(ngModel)]=\"vehicle.licensePlate\"\r\n                         [attr.aria-invalid]=\"licensePlate.invalid && licensePlate.touched ? true : null\"\r\n                         [maxlength]=\"getConfigValue('forms.validation.licensePlate.maxLength')\"\r\n                         [minLength]=\"getConfigValue('forms.validation.licensePlate.minLength')\"\r\n                         [ngModelOptions]=\"{standalone: true}\"\r\n                         [pattern]=\"getConfigValue('forms.validation.licensePlate.pattern')\"\r\n                         [required]=\"getConfigValue('forms.validation.licensePlate.required')\"\r\n                         [status]=\"licensePlate.dirty ? (licensePlate.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                         fullWidth\r\n                         id=\"input-licensePlate\"\r\n                         name=\"licensePlate\"\r\n                         nbInput\r\n                         oninput=\"this.value = this.value.toUpperCase()\"\r\n                         placeholder=\"NS-234-DS\">\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(licensePlate.invalid && licensePlate.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"licensePlate.errors?.required\">\r\n                      Registarski broj tablica je obavezan!\r\n                    </p>\r\n                    <p class=\"error-message mt-1 mb-0\"\r\n                       *ngIf=\"licensePlate.errors?.pattern || licensePlate.errors?.minLength\">\r\n                      Registarski broj tablica mora biti validan (npr. BG-234-AA)!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row my-1\">\r\n            <div class=\"col-12\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <label class=\"label\" for=\"input-vehicleType\">Vrsta vozila:</label>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-select #vehicleType=\"ngModel\"\r\n                             [(ngModel)]=\"vehicle.type\"\r\n                             [attr.aria-invalid]=\"vehicleType.invalid && vehicleType.touched ? true : null\"\r\n                             [ngModelOptions]=\"{standalone: true}\"\r\n                             [required]=\"getConfigValue('forms.validation.vehicleType.required')\"\r\n                             [status]=\"vehicleType.dirty ? (vehicleType.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                             fullWidth\r\n                             id=\"input-vehicleType\"\r\n                             name=\"vehicleType\"\r\n                             placeholder=\"Odaberi\">\r\n                    <nb-option [value]=\"'kamion'\">Kamion</nb-option>\r\n                    <nb-option [value]=\"'kombi'\">Kombi</nb-option>\r\n                    <nb-option [value]=\"'automobil'\">Automobil</nb-option>\r\n                  </nb-select>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <ng-container *ngIf=\"(vehicleType.invalid && vehicleType.touched) || checkIssues\">\r\n                    <p class=\"error-message mt-1 mb-0\" *ngIf=\"!vehicleType.value\">\r\n                      Vrsta vozila je obavezna!\r\n                    </p>\r\n                  </ng-container>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </nb-card-body>\r\n      </nb-card>\r\n    </form>\r\n  </div>\r\n</div>\r\n\r\n<register-trash-permit #permitRef [permitType]=\"'transport'\"></register-trash-permit>\r\n","import { Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS } from '@nebular/auth';\r\nimport { Observable, of } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\nimport { Company } from '../../../../../@core/data/company';\r\nimport { Vehicle } from '../../../../../@core/data/vehicle';\r\nimport { RegisterService } from '../../../../../@core/service/register.service';\r\nimport { ToastrService } from '../../../../../@core/service/toastr.service';\r\nimport { TrashPermitComponent } from '../trash-permit/trash-permit.component';\r\n\r\n@Component({\r\n  selector: 'register-trash-transport',\r\n  templateUrl: './trash-transport.component.html',\r\n  styleUrls: ['./trash-transport.component.scss'],\r\n})\r\nexport class TrashTransportComponent implements OnInit {\r\n  @ViewChild('permitRef') permitRef: TrashPermitComponent;\r\n\r\n  company: Company;\r\n  vehicles: Vehicle[];\r\n  vehicles$: Observable<Vehicle[]>;\r\n  vehiclesNo: number = 0;\r\n  tmpNo: number = 0;\r\n  valid: boolean = false;\r\n  checkIssues: boolean = false;\r\n  showVehicleInput: boolean = false;\r\n\r\n  constructor(@Inject(NB_AUTH_OPTIONS) protected options = {}, private registerService: RegisterService,\r\n              private toastrService: ToastrService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.registerService.getCompany().pipe(first()).subscribe(f => {\r\n      if (f !== undefined) {\r\n        this.company = f;\r\n        if (f.vehicles !== undefined) {\r\n          this.vehiclesNo = this.company.vehicles.length;\r\n          this.vehicles = this.company.vehicles;\r\n          this.vehicles$ = of(this.vehicles);\r\n        }\r\n      }\r\n    });\r\n    this.registerService.sendCompany(of(this.company));\r\n    this.validateVehicles();\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  async checkValid() {\r\n    this.validateVehicles();\r\n    if (!this.valid) {\r\n      this.checkIssues = true;\r\n      return false;\r\n    }\r\n    let text = '';\r\n    const vehicleExists = await Promise.all(this.registerService.checkVehicles(this.vehicles)).then(promises => {\r\n      for (const t of promises) {\r\n        text = !t ? 'ta registarska tablica' : text;\r\n        if (t)\r\n          return t;\r\n      }\r\n      return false;\r\n    });\r\n    if (!vehicleExists) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka', `Ve postoji ${text}!`, 'danger');\r\n      return false;\r\n    }\r\n    if (this.permitRef !== undefined && !await this.permitRef.checkValid()) {\r\n      return false;\r\n    }\r\n    if (this.valid)\r\n      return true;\r\n    else {\r\n      this.checkIssues = true;\r\n      return false;\r\n    }\r\n  }\r\n\r\n  validateVehicles(): void {\r\n    if (this.vehicles === undefined)\r\n      return;\r\n    this.valid = this.vehicles.length > 0;\r\n    for (const p of this.vehicles) {\r\n      if (p.licensePlate === '' || p.licensePlate.length < 9) {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n      if (p.type === '') {\r\n        this.valid = false;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  updateVehicles(vehicleNo: number, pressed: boolean) {\r\n    if (!pressed)\r\n      return;\r\n    console.log(vehicleNo);\r\n    this.vehiclesNo = vehicleNo;\r\n    this.vehicles = new Array(this.vehiclesNo);\r\n    for (let i = 0; i < this.vehiclesNo; i++) {\r\n      this.vehicles[i] = {\r\n        licensePlate: '', type: '',\r\n      };\r\n    }\r\n    this.company.vehicles = this.vehicles;\r\n    this.vehicles$ = of(this.vehicles);\r\n    this.validateVehicles();\r\n  }\r\n\r\n}\r\n","import { ChangeDetectorRef, Component, Inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS, NbAuthResult, NbAuthService, NbLoginComponent } from '@nebular/auth';\r\nimport { environment } from '../../../environments/environment';\r\nimport { RoleService } from '../../@core/service/role.service';\r\n\r\n@Component({\r\n  selector: 'auth-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css'],\r\n})\r\nexport class LoginComponent extends NbLoginComponent {\r\n\r\n  APP_VERSION: string = environment.appVersion;\r\n\r\n  showPassword: string = 'eye';\r\n  redirectDelay: number = 0;\r\n  showMessages: any = {};\r\n  strategy: string = '';\r\n  errors: string[] = [];\r\n  messages: string[] = [];\r\n  user: any = {email: '', password: '', rememberMe: false};\r\n  submitted: boolean = false;\r\n  rememberMe = false;\r\n\r\n  constructor(protected service: NbAuthService, @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n              protected cd: ChangeDetectorRef, private roleService: RoleService, protected router: Router) {\r\n    super(service, options, cd, router);\r\n    this.redirectDelay = this.getConfigValue('forms.login.redirectDelay');\r\n    this.showMessages = this.getConfigValue('forms.login.showMessages');\r\n    this.strategy = this.getConfigValue('forms.login.strategy');\r\n    this.rememberMe = this.getConfigValue('forms.login.rememberMe');\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  login(): void {\r\n    this.errors = [];\r\n    this.messages = [];\r\n    this.submitted = true;\r\n\r\n    this.service.authenticate(this.strategy, this.user).subscribe((result: NbAuthResult) => {\r\n      this.submitted = false;\r\n\r\n      if (result.isSuccess()) {\r\n        this.messages = result.getMessages();\r\n      } else {\r\n        this.errors = result.getErrors();\r\n      }\r\n\r\n      const redirect = result.getRedirect();\r\n      if (redirect) {\r\n        this.roleService.loginUser();\r\n        setTimeout(() => {\r\n          return this.router.navigateByUrl(redirect);\r\n        }, this.redirectDelay);\r\n      }\r\n      this.cd.detectChanges();\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"align-self-center flex-fill\">\r\n  <div class=\"row d-flex mb-5 justify-content-center\">\r\n    <img class=\"\" style=\"height: 40%; width: 40%;\" src=\"assets/images/logo.png\" alt=\"DIERS\">\r\n  </div>\r\n  <h1 id=\"title\" class=\"title\">Uloguj se!</h1>\r\n\r\n  <div class=\"row d-flex justify-content-center\">\r\n    <div class=\"col-8\">\r\n      <nb-alert *ngIf=\"showMessages.error && errors?.length && !submitted\" outline=\"danger\" role=\"alert\">\r\n        <p class=\"alert-title\"><b>Dolo je do greke, proverite podatke!</b></p>\r\n        <ul class=\"alert-message-list\">\r\n          <li *ngFor=\"let error of errors\" class=\"alert-message\">{{ error }}</li>\r\n        </ul>\r\n      </nb-alert>\r\n\r\n      <nb-alert *ngIf=\"showMessages.success && messages?.length && !submitted\" outline=\"success\" role=\"alert\">\r\n        <p class=\"alert-title\"><b>Uspesno ste se ulogovali!</b></p>\r\n        <ul class=\"alert-message-list\">\r\n          <li *ngFor=\"let message of messages\" class=\"alert-message\">{{ message }}</li>\r\n        </ul>\r\n      </nb-alert>\r\n    </div>\r\n  </div>\r\n\r\n  <form (ngSubmit)=\"login()\" #loginForm=\"ngForm\" aria-labelledby=\"uloguj se\">\r\n\r\n    <div class=\"row d-flex justify-content-center mb-3\">\r\n      <div class=\"col-8\">\r\n        <label class=\"label\" for=\"input-email\">Email/Korisniko ime:</label>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <input #email=\"ngModel\"\r\n               [(ngModel)]=\"user.email\"\r\n               [attr.aria-invalid]=\"email.invalid && email.touched ? true : null\"\r\n               [required]=\"getConfigValue('forms.validation.email.required')\"\r\n               [status]=\"email.dirty ? (email.invalid  ? 'danger' : 'success') : 'basic'\"\r\n               autofocus\r\n               fullWidth\r\n               id=\"input-email\"\r\n               name=\"email\"\r\n               nbInput\r\n               placeholder=\"Email adresa/Korisniko ime\">\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <ng-container *ngIf=\"email.touched\">\r\n          <p class=\"error-message mt-1 mb-0\" *ngIf=\"email.errors?.required\">\r\n            Email je obavezan!\r\n          </p>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row d-flex justify-content-center mb-2\">\r\n      <div class=\"col-8\">\r\n        <label class=\"label\" for=\"input-password\">ifra:</label>\r\n      </div>\r\n      <div class=\"col-7 pr-0\">\r\n        <input #password=\"ngModel\"\r\n               [(ngModel)]=\"user.password\"\r\n               [attr.aria-invalid]=\"password.invalid && password.touched ? true : null\"\r\n               [required]=\"getConfigValue('forms.validation.password.required')\"\r\n               [status]=\"password.dirty ? (password.invalid  ? 'danger' : 'success') : 'basic'\"\r\n               fullWidth\r\n               id=\"input-password\"\r\n               name=\"password\"\r\n               nbInput\r\n               placeholder=\"ifra\"\r\n               [type]=\"showPassword === 'eye' ? 'password' : 'text'\"></div>\r\n      <div class=\"col-1 pl-0\">\r\n        <button fullWidth type=\"button\" nbButton\r\n                (click)=\"this.showPassword = this.showPassword === 'eye' ? 'eye-off' : 'eye';\">\r\n          <nb-icon [icon]=\"showPassword\"></nb-icon>\r\n        </button>\r\n      </div>\r\n      <div class=\"col-8\">\r\n        <ng-container *ngIf=\"password.touched\">\r\n          <p class=\"error-message mt-1 mb-0\" *ngIf=\"password.errors?.required\">\r\n            ifra je obavezna!\r\n          </p>\r\n        </ng-container>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row d-flex justify-content-center mb-2\">\r\n      <div class=\"col-4\">\r\n        <nb-checkbox *ngIf=\"rememberMe\" [(ngModel)]=\"user.rememberMe\" name=\"rememberMe\">Zapamti me</nb-checkbox>\r\n      </div>\r\n      <div class=\"col-4 justify-content-end d-flex\">\r\n        <a class=\"forgot-password\" routerLink=\"../forgot-password\">Zaboravili ste ifru?</a>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row d-flex justify-content-center mb-2\">\r\n      <div class=\"col-8\">\r\n        <button [class.btn-pulse]=\"submitted\"\r\n                [disabled]=\"submitted\"\r\n                fullWidth\r\n                nbButton\r\n                status=\"success\">\r\n          Uloguj se\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n  </form>\r\n\r\n  <div class=\"row d-flex justify-content-center pb-2\">\r\n    <div class=\"col-8 text-center\" aria-label=\"Registruj se\">\r\n      Nemate nalog? <a class=\"text-link\" routerLink=\"../register-user\">Registruj se</a>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n<div class=\"row justify-content-end\"><span class=\"badge badge-warning\">{{APP_VERSION}}</span></div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'auth-email-confirmation',\r\n  templateUrl: './email-confirmation.component.html',\r\n  styleUrls: ['./email-confirmation.component.css'],\r\n})\r\nexport class EmailConfirmationComponent implements OnInit {\r\n\r\n  constructor(private router: Router) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    setTimeout(() => {\r\n      this.router.navigate(['login']);\r\n    }, 3000);\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"text-center\">\r\n  <div class=\"row d-flex mb-5 justify-content-center\">\r\n    <img class=\"\" style=\"height: 40%; width: 40%;\" src=\"assets/images/logo.png\" alt=\"DIERS\">\r\n  </div>\r\n  <h1>Uspeno ste aktivirali Va nalog!</h1>\r\n  <h5 class=\"text-muted\">Automatski emo vas prebaciti na login stranicu...</h5>\r\n</div>\r\n","import { Component, Inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport {\r\n  getDeepFromObject,\r\n  NB_AUTH_OPTIONS,\r\n  NbAuthResult,\r\n  NbAuthService,\r\n  NbLogoutComponent,\r\n} from '@nebular/auth';\r\nimport { RoleService } from '../../@core/service/role.service';\r\nimport { WidgetService } from '../../@core/service/widget.service';\r\n\r\n@Component({\r\n  selector: 'ngx-logout',\r\n  templateUrl: './logout.component.html',\r\n  styleUrls: ['./logout.component.scss'],\r\n})\r\nexport class LogoutComponent extends NbLogoutComponent {\r\n\r\n  redirectDelay: number = 0;\r\n  strategy: string = '';\r\n\r\n  constructor(protected service: NbAuthService, private widgetService: WidgetService,\r\n              @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n              protected router: Router, private roleService: RoleService) {\r\n    super(service, options, router);\r\n    this.redirectDelay = this.getConfigValue('forms.logout.redirectDelay');\r\n    this.strategy = this.getConfigValue('forms.logout.strategy');\r\n  }\r\n\r\n  logout(strategy: string): void {\r\n    this.service.logout(strategy).subscribe((result: NbAuthResult) => {\r\n      const redirect = result.getRedirect();\r\n      this.roleService.ngOnDestroy();\r\n      this.widgetService.ngOnDestroy();\r\n      if (redirect) {\r\n        setTimeout(() => {\r\n          return this.router.navigateByUrl(redirect);\r\n        }, this.redirectDelay);\r\n      }\r\n    });\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n}\r\n","<div>Odjavljivanje u toku...</div>\r\n","<h1 class=\"text-center\">Registruj se!</h1>\r\n<nb-stepper disableStepNavigation selectedIndex=\"3\">\r\n  <nb-step label=\"User\" completed=\"true\"></nb-step>\r\n  <nb-step label=\"Firma\" completed=\"true\"></nb-step>\r\n  <nb-step label=\"Operacije\" completed=\"true\"></nb-step>\r\n  <nb-step label=\"Informacije\">\r\n    <nb-card class=\"bg-light\" *ngIf=\"operations.specialWaste\">\r\n      <nb-card-body>\r\n        <p class=\"justify-content-center d-flex\">Nije potrebno unoenje dodatnih informacija za Posebne tokove otpada.\r\n        Sam unos e se obavljati u samoj aplikaciji.</p>\r\n      </nb-card-body>\r\n    </nb-card>\r\n    <nb-accordion #accordionTrash size=\"tiny\" [nbSpinner]=\"loading\"\r\n                  nbSpinnerStatus=\"danger\"\r\n                  nbSpinnerSize=\"giant\"\r\n                  nbSpinnerMessage=\"Proveravamo unete informacije!\">\r\n\r\n      <nb-accordion-item [collapsed]=\"activeTab !== 'production'\" #accordionProduction *ngIf=\"operations.production\">\r\n        <nb-accordion-item-header>Proizvodnja &nbsp;\r\n          <nb-icon [status]=\"checkCompletion('production').status\"\r\n                   [icon]=\"checkCompletion('production').icon\"></nb-icon>\r\n        </nb-accordion-item-header>\r\n        <nb-accordion-item-body>\r\n          <register-trash-storage #productionRef [storageType]=\"'production'\"\r\n                                  *ngIf=\"!accordionProduction.collapsed\"></register-trash-storage>\r\n        </nb-accordion-item-body>\r\n      </nb-accordion-item>\r\n\r\n      <nb-accordion-item [collapsed]=\"activeTab !== 'transport'\" #accordionTransport *ngIf=\"operations.transport\">\r\n        <nb-accordion-item-header>Transport &nbsp;\r\n          <nb-icon [status]=\"checkCompletion('transport').status\" [icon]=\"checkCompletion('transport').icon\"></nb-icon>\r\n        </nb-accordion-item-header>\r\n        <nb-accordion-item-body>\r\n\r\n          <register-trash-transport #transportRef *ngIf=\"!accordionTransport.collapsed\"></register-trash-transport>\r\n\r\n        </nb-accordion-item-body>\r\n      </nb-accordion-item>\r\n\r\n      <nb-accordion-item [collapsed]=\"activeTab !== 'collector'\" #accordionCollector *ngIf=\"operations.collector\">\r\n        <nb-accordion-item-header>Sakuplja &nbsp;\r\n          <nb-icon [status]=\"checkCompletion('collector').status\" [icon]=\"checkCompletion('collector').icon\"></nb-icon>\r\n        </nb-accordion-item-header>\r\n        <nb-accordion-item-body>\r\n\r\n          <register-trash-permit #collectorRef [permitType]=\"'collector'\"\r\n                                 *ngIf=\"!accordionCollector.collapsed\"></register-trash-permit>\r\n\r\n        </nb-accordion-item-body>\r\n      </nb-accordion-item>\r\n\r\n      <nb-accordion-item [collapsed]=\"activeTab !== 'treatment'\" #accordionTreatment *ngIf=\"operations.treatment\">\r\n        <nb-accordion-item-header>Tretman &nbsp;\r\n          <nb-icon [status]=\"checkCompletion('treatment').status\" [icon]=\"checkCompletion('treatment').icon\"></nb-icon>\r\n        </nb-accordion-item-header>\r\n        <nb-accordion-item-body>\r\n\r\n          <register-trash-storage #treatmentRef [storageType]=\"'treatment'\"\r\n                                  *ngIf=\"!accordionTreatment.collapsed\"></register-trash-storage>\r\n\r\n        </nb-accordion-item-body>\r\n      </nb-accordion-item>\r\n\r\n      <nb-accordion-item [collapsed]=\"activeTab !== 'disposal'\" #accordionDump *ngIf=\"operations.disposal\">\r\n        <nb-accordion-item-header>Odlaganje &nbsp;\r\n          <nb-icon [status]=\"checkCompletion('dump').status\" [icon]=\"checkCompletion('dump').icon\"></nb-icon>\r\n        </nb-accordion-item-header>\r\n        <nb-accordion-item-body>\r\n\r\n          <register-trash-storage #dumpRef [storageType]=\"'dump'\"\r\n                                  *ngIf=\"!accordionDump.collapsed\"></register-trash-storage>\r\n\r\n        </nb-accordion-item-body>\r\n      </nb-accordion-item>\r\n\r\n      <nb-accordion-item [collapsed]=\"activeTab !== 'cache'\" #accordionCache *ngIf=\"operations.cache\">\r\n        <nb-accordion-item-header>Skladitenje &nbsp;\r\n          <nb-icon [status]=\"checkCompletion('cache').status\" [icon]=\"checkCompletion('cache').icon\"></nb-icon>\r\n        </nb-accordion-item-header>\r\n        <nb-accordion-item-body>\r\n\r\n          <register-trash-storage #cacheRef [storageType]=\"'cache'\"\r\n                                  *ngIf=\"!accordionCache.collapsed\"></register-trash-storage>\r\n\r\n        </nb-accordion-item-body>\r\n      </nb-accordion-item>\r\n    </nb-accordion>\r\n\r\n    <div class=\"row mt-3\">\r\n      <div class=\"col-6 mr-0 pr-0\">\r\n        <button nbButton\r\n                fullWidth\r\n                status=\"danger\"\r\n                routerLink=\"/auth/register-operations\">\r\n          Nazad\r\n        </button>\r\n      </div>\r\n      <div class=\"col-6 ml-0 pl-0\">\r\n        <button nbButton\r\n                fullWidth\r\n                status=\"success\"\r\n                type=\"submit\"\r\n                (click)=\"validateInformation(accordionTrash)\">\r\n          Dalje\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n  </nb-step>\r\n  <nb-step label=\"Potvrda\"></nb-step>\r\n</nb-stepper>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NbAccordionComponent } from '@nebular/theme';\r\nimport { first } from 'rxjs/operators';\r\nimport { RegisterService } from '../../../@core/service/register.service';\r\nimport { RoleService } from '../../../@core/service/role.service';\r\nimport { ToastrService } from '../../../@core/service/toastr.service';\r\nimport { TrashPermitComponent } from './trash/trash-permit/trash-permit.component';\r\nimport { TrashStorageComponent } from './trash/trash-storage/trash-storage.component';\r\nimport { TrashTransportComponent } from './trash/trash-transport/trash-transport.component';\r\n\r\n@Component({\r\n  selector: 'register-informations',\r\n  templateUrl: './register-informations.component.html',\r\n  styleUrls: ['./register-informations.component.css'],\r\n})\r\nexport class RegisterInformationsComponent implements OnInit {\r\n  @ViewChild('productionRef') private productionRef: TrashStorageComponent;\r\n  @ViewChild('transportRef') private transportRef: TrashTransportComponent;\r\n  @ViewChild('collectorRef') private collectorRef: TrashPermitComponent;\r\n  @ViewChild('treatmentRef') private treatmentRef: TrashStorageComponent;\r\n  @ViewChild('dumpRef') private dumpRef: TrashStorageComponent;\r\n  @ViewChild('cacheRef') private cacheRef: TrashStorageComponent;\r\n\r\n  valid: boolean = false;\r\n  loading: boolean = false;\r\n  operations: {\r\n    production: boolean,\r\n    transport: boolean,\r\n    collector: boolean,\r\n    treatment: boolean,\r\n    disposal: boolean,\r\n    cache: boolean,\r\n    specialWaste: boolean,\r\n  };\r\n  activeTab: string = '';\r\n\r\n  constructor(private registerService: RegisterService, private router: Router,\r\n              private toastrService: ToastrService, private roleService: RoleService,\r\n              private route: ActivatedRoute) {\r\n    this.activeTab = this.route.snapshot.paramMap.get('tab');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.registerService.getOperations().pipe(first()).subscribe(o => {\r\n      this.roleService.getOperations(o, true).pipe(first()).subscribe(f => {\r\n        this.operations = f;\r\n      });\r\n    });\r\n  }\r\n\r\n  checkCompletion(type: string): any {\r\n    const result = {icon: 'checkmark-circle-outline', status: 'success'};\r\n    if (type === 'production') {\r\n      if (this.productionRef !== undefined && this.operations.production)\r\n        if (this.productionRef.valid)\r\n          return result;\r\n    }\r\n    if (type === 'transport') {\r\n      if (this.transportRef !== undefined && this.operations.transport)\r\n        if (this.transportRef.valid)\r\n          return result;\r\n    }\r\n    if (type === 'collector') {\r\n      if (this.collectorRef !== undefined && this.operations.collector)\r\n        if (this.collectorRef.valid)\r\n          return result;\r\n    }\r\n    if (type === 'treatment') {\r\n      if (this.treatmentRef !== undefined && this.operations.treatment)\r\n        if (this.treatmentRef.valid)\r\n          return result;\r\n    }\r\n    if (type === 'dump') {\r\n      if (this.dumpRef !== undefined && this.operations.disposal)\r\n        if (this.dumpRef.valid)\r\n          return result;\r\n    }\r\n    if (type === 'cache') {\r\n      if (this.cacheRef !== undefined && this.operations.cache)\r\n        if (this.cacheRef.valid)\r\n          return result;\r\n    }\r\n    return {icon: 'alert-triangle-outline', status: 'danger'};\r\n  }\r\n\r\n  async validateInformation(accordion: NbAccordionComponent) {\r\n    this.loading = true;\r\n    accordion.multi = true;\r\n    accordion.closeAll();\r\n    accordion.openAll();\r\n    setTimeout(async () => {\r\n      this.valid = true;\r\n      if (this.productionRef !== undefined && this.operations.production)\r\n        if (!this.productionRef.checkValid())\r\n          this.valid = false;\r\n      if (this.transportRef !== undefined && this.operations.transport)\r\n        this.valid = await this.transportRef.checkValid();\r\n      if (this.collectorRef !== undefined && this.operations.collector)\r\n          this.valid = await this.collectorRef.checkValid();\r\n      if (this.treatmentRef !== undefined && this.operations.treatment)\r\n        if (!this.treatmentRef.checkValid())\r\n          this.valid = false;\r\n      if (this.dumpRef !== undefined && this.operations.disposal)\r\n        if (!this.dumpRef.checkValid())\r\n          this.valid = false;\r\n      if (this.cacheRef !== undefined && this.operations.cache)\r\n        if (!this.cacheRef.checkValid())\r\n          this.valid = false;\r\n      if (!this.valid) {\r\n        accordion.closeAll();\r\n        accordion.multi = false;\r\n        this.loading = false;\r\n        this.toastrService.showToast('Greka', 'Ponovo pogledajte unete informacije!', 'warning');\r\n      } else {\r\n        this.router.navigate(['auth/register-confirmation']);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n}\r\n","export const CATALOG_SETTINGS = {\r\n  pager: {\r\n    perPage: 5,\r\n  },\r\n  hideSubHeader: true,\r\n  actions: {\r\n    columnTitle: 'Odaberi',\r\n    position: 'right',\r\n    add: false,\r\n    delete: false,\r\n    edit: false,\r\n    custom: [\r\n      {\r\n        name: 'izaberi',\r\n        title: '<i class=\"fa fa-plus\"></i>',\r\n      },\r\n    ],\r\n  },\r\n  columns: {\r\n    indexNumber: {\r\n      title: 'Indeksni Broj',\r\n      filter: false,\r\n      sort: true,\r\n      sortDirection: 'asc',\r\n    },\r\n    name: {\r\n      title: 'Naziv',\r\n      filter: false,\r\n    },\r\n  },\r\n};\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { NbAuthService } from '@nebular/auth';\r\nimport { first } from 'rxjs/operators';\r\nimport { RegisterService } from '../@core/service/register.service';\r\n\r\n@Injectable()\r\nexport class RegisterGuard implements CanActivate {\r\n\r\n  constructor(private authService: NbAuthService, private router: Router,\r\n              private registerService: RegisterService) {\r\n  }\r\n\r\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n    this.authService.isAuthenticated().pipe().subscribe(authenticated => {\r\n      if (authenticated) {\r\n        this.router.navigate(['pages']);\r\n      }\r\n    });\r\n    let pass = true;\r\n    const registerPath = next.routeConfig.path;\r\n    if (registerPath === 'register-company') {\r\n      this.registerService.getUser().pipe(first()).subscribe(u => {\r\n        if (u.username === '' || u.email === '') {\r\n          this.router.navigate(['auth', 'register-user']);\r\n          pass = false;\r\n        }\r\n      });\r\n    } else if (registerPath === 'register-operations') {\r\n      this.registerService.getCompany().pipe(first()).subscribe(c => {\r\n        if (c.pib === '' || c.mat === '') {\r\n          this.router.navigate(['auth', 'register-company']);\r\n          pass = false;\r\n        }\r\n      });\r\n    } else if (registerPath === 'register-informations') {\r\n      this.registerService.getOperations().pipe(first()).subscribe(o => {\r\n        if (o.length === 0) {\r\n          this.router.navigate(['auth', 'register-operations']);\r\n          pass = false;\r\n        }\r\n      });\r\n    } else if (registerPath === 'register-confirmation') {\r\n      this.registerService.getCompany().pipe(first()).subscribe(c => {\r\n        if (c.pib === '' || c.mat === '' || c.operations.length === 0 || c.manager === '') {\r\n          this.router.navigate(['auth', 'register-informations']);\r\n          pass = false;\r\n        }\r\n      });\r\n    }\r\n    return pass;\r\n  }\r\n\r\n}\r\n","import { Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS } from '@nebular/auth';\r\nimport { NbIconConfig, NbToggleComponent } from '@nebular/theme';\r\nimport { of } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\nimport { Company } from '../../../@core/data/company';\r\nimport { RegisterService } from '../../../@core/service/register.service';\r\nimport { ToastrService } from '../../../@core/service/toastr.service';\r\n\r\n@Component({\r\n  selector: 'register-operations',\r\n  templateUrl: './register-operations.component.html',\r\n  styleUrls: ['./register-operations.component.scss'],\r\n})\r\nexport class RegisterOperationsComponent implements OnInit {\r\n  @ViewChild('wasteManagerForm') form: NgForm;\r\n\r\n  trashIco: NbIconConfig = {icon: 'trash', pack: 'solid'};\r\n  carBatteryIco: NbIconConfig = {icon: 'car-battery', pack: 'solid'};\r\n  recyleIco: NbIconConfig = {icon: 'recycle', pack: 'solid'};\r\n  waterIco: NbIconConfig = {icon: 'water', pack: 'solid'};\r\n  airIco: NbIconConfig = {icon: 'wind', pack: 'solid'};\r\n\r\n  trashOperationsNo: number = 0;\r\n  specialWasteNo: number = 0;\r\n  packageOperationsNo: number = 0;\r\n  waterOperationsNo: number = 0;\r\n  airOperationsNo: number = 0;\r\n  operations: string[] = [];\r\n  company: Company;\r\n  checkIssues: boolean = false;\r\n\r\n  constructor(@Inject(NB_AUTH_OPTIONS) protected options = {}, private router: Router,\r\n              private registerService: RegisterService, private toastrService: ToastrService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.registerService.getOperations().pipe(first()).subscribe(o => {\r\n      if (o !== undefined) {\r\n        this.operations = o;\r\n        this.updateOperations();\r\n      }\r\n    });\r\n    this.registerService.getCompany().pipe(first()).subscribe(c => {\r\n      this.company = c;\r\n    });\r\n    this.registerService.getUser().pipe(first()).subscribe(u => {\r\n      this.company.wasteManager.firstName = u.firstName;\r\n      this.company.wasteManager.lastName = u.lastName;\r\n    });\r\n    this.registerService.sendCompany(of(this.company));\r\n    this.registerService.sendOperations(of(this.operations));\r\n  }\r\n\r\n  getConfigValue(key: string): any {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  validateOperations(): void {\r\n    if (this.form.invalid) {\r\n      this.checkIssues = true;\r\n      this.toastrService.showToast('Greka', 'Ispravite greke da bi ste nastavili.', 'warning');\r\n      return;\r\n    }\r\n    if (this.trashOperationNumber(true) + this.specialWasteOperationNumber(true) === 0) {\r\n      this.company.wasteManager.firstName = '';\r\n      this.company.wasteManager.lastName = '';\r\n    }\r\n    if (this.operations.length > 0) {\r\n      this.clearRemovedOperationsData();\r\n      this.router.navigate(['auth/register-informations']);\r\n    } else {\r\n      this.toastrService.showToast('Greka', 'Odaberite bar jednu operaciju da biste nastavili.', 'warning');\r\n    }\r\n  }\r\n\r\n  private clearRemovedOperationsData() {\r\n    this.company.vehicles = [];\r\n    this.company.storages = [];\r\n    this.company.permits = [];\r\n    this.company.specialWastes = [];\r\n    this.registerService.sendCompany(of(this.company));\r\n    this.registerService.sendOperations(of(this.operations));\r\n  }\r\n\r\n  trashOperationNumber(number: boolean = false): any {\r\n    return number ? this.operations.filter(x =>\r\n      x.toLowerCase().includes('neopasnog') || x.toLowerCase().includes('opasnog')).length :\r\n      this.operations.filter(x => x.toLowerCase().includes('neopasnog') || x.toLowerCase().includes('opasnog')).length + '';\r\n  }\r\n\r\n  specialWasteOperationNumber(number: boolean = false): any {\r\n    return number ? this.operations.filter(x => x.toLowerCase().includes('tokova')).length :\r\n      this.operations.filter(x => x.toLowerCase().includes('tokova')).length + '';\r\n  }\r\n\r\n  updateOperations() {\r\n    // NEEDS FIXING\r\n    this.trashOperationsNo = this.operations.filter(x =>\r\n      x.toLowerCase().includes('neopasnog') || x.toLowerCase().includes('opasnog')).length;\r\n    this.specialWasteNo = this.operations.filter(x => x.toLowerCase().includes('tokova')).length;\r\n  }\r\n\r\n  addProcessOperation(op: string, e: boolean, productionToggle: NbToggleComponent) {\r\n    this.addOperation(op, e);\r\n    if (!productionToggle.checked) {\r\n      productionToggle.checked = true;\r\n    }\r\n    if (!productionToggle.disabled) {\r\n      productionToggle.setDisabledState(true);\r\n    }\r\n    if (op.includes('Neopasnog'))\r\n      this.addOperation('Proizvodnja Neopasnog Otpada', e, false);\r\n    else\r\n      this.addOperation('Proizvodnja Opasnog Otpada', e, false);\r\n  }\r\n\r\n  addOperation(op: string, e: boolean, remove: boolean = true) {\r\n    if (e) {\r\n      if (!this.operations.includes(op))\r\n        this.operations.push(op);\r\n    } else if (remove) {\r\n      this.operations.splice(this.operations.findIndex(x => x === op), 1);\r\n    }\r\n  }\r\n\r\n}\r\n","<h1 class=\"text-center\">Registruj se!</h1>\r\n<nb-stepper disableStepNavigation selectedIndex=\"2\">\r\n  <nb-step label=\"Korisnik\" completed=\"true\">Test</nb-step>\r\n  <nb-step label=\"Firma\" completed=\"true\"></nb-step>\r\n  <nb-step label=\"Operacije\">\r\n    <div class=\"row\">\r\n      <nb-tabset>\r\n        <nb-tab [badgeText]=\"trashOperationNumber()\" badgeStatus=\"primary\" responsive=\"true\" tabTitle=\"Otpad\"\r\n                [tabIcon]=\"trashIco\">\r\n          <div class=\"row pb-0 mb-0\">\r\n            <nb-card class=\"col-6\">\r\n              <nb-card-header>Neopasan otpad</nb-card-header>\r\n              <nb-card-body>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle #ProizvodnjaNeopasnogOtpada [checked]=\"operations.includes('Proizvodnja Neopasnog Otpada')\"\r\n                             (checkedChange)=\"addOperation('Proizvodnja Neopasnog Otpada', $event)\"\r\n                             [disabled]=\"TretmanNeopasnogOtpada.checked || OdlaganjeNeopasnogOtpada.checked\"\r\n                             class=\"mx-1\">Proizvodnja\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle [checked]=\"operations.includes('Transport Neopasnog Otpada')\"\r\n                             (checkedChange)=\"addOperation('Transport Neopasnog Otpada', $event)\" class=\"mx-1\">Transport\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle #SakupljacNeopasnogOtpada [checked]=\"operations.includes('Sakupljac Neopasnog Otpada')\"\r\n                             (checkedChange)=\"addOperation('Sakupljac Neopasnog Otpada', $event)\" class=\"mx-1\">\r\n                    Sakuplja\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle #TretmanNeopasnogOtpada [checked]=\"operations.includes('Tretman Neopasnog Otpada')\"\r\n                             (checkedChange)=\"addProcessOperation('Tretman Neopasnog Otpada', $event, ProizvodnjaNeopasnogOtpada)\"\r\n                             class=\"mx-1\">Tretman\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle #OdlaganjeNeopasnogOtpada [checked]=\"operations.includes('Odlaganje Neopasnog Otpada')\"\r\n                             (checkedChange)=\"addProcessOperation('Odlaganje Neopasnog Otpada', $event, ProizvodnjaNeopasnogOtpada)\"\r\n                             class=\"mx-1\">Odlaganje\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle [checked]=\"operations.includes('Skladitenje Neopasnog Otpada')\"\r\n                             (checkedChange)=\"addOperation('Skladitenje Neopasnog Otpada', $event)\" class=\"mx-1\">\r\n                    Skladitenje\r\n                  </nb-toggle>\r\n                </div>\r\n              </nb-card-body>\r\n            </nb-card>\r\n            <nb-card class=\"col-6\">\r\n              <nb-card-header>Opasan otpad</nb-card-header>\r\n              <nb-card-body>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle #ProizvodnjaOpasnogOtpada [checked]=\"operations.includes('Proizvodnja Opasnog Otpada')\"\r\n                             (checkedChange)=\"addOperation('Proizvodnja Opasnog Otpada', $event)\" class=\"mx-1\"\r\n                             [disabled]=\"TretmanOpasnogOtpada.checked || OdlaganjeOpasnogOtpada.checked\">\r\n                    Proizvodnja\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle [checked]=\"operations.includes('Transport Opasnog Otpada')\"\r\n                             (checkedChange)=\"addOperation('Transport Opasnog Otpada', $event)\" class=\"mx-1\">Transport\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle #SakupljacOpasnogOtpada [checked]=\"operations.includes('Sakupljac Opasnog Otpada')\"\r\n                             (checkedChange)=\"addOperation('Sakupljac Opasnog Otpada', $event)\" class=\"mx-1\">\r\n                    Sakuplja\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle #TretmanOpasnogOtpada [checked]=\"operations.includes('Tretman Opasnog Otpada')\"\r\n                             (checkedChange)=\"addProcessOperation('Tretman Opasnog Otpada', $event, ProizvodnjaOpasnogOtpada)\"\r\n                             class=\"mx-1\">Tretman\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle #OdlaganjeOpasnogOtpada [checked]=\"operations.includes('Odlaganje Opasnog Otpada')\"\r\n                             (checkedChange)=\"addProcessOperation('Odlaganje Opasnog Otpada', $event, ProizvodnjaOpasnogOtpada)\"\r\n                             class=\"mx-1\">Odlaganje\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle [checked]=\"operations.includes('Skladitenje Opasnog Otpada')\"\r\n                             (checkedChange)=\"addOperation('Skladitenje Opasnog Otpada', $event)\" class=\"mx-1\">\r\n                    Skladitenje\r\n                  </nb-toggle>\r\n                </div>\r\n              </nb-card-body>\r\n            </nb-card>\r\n          </div>\r\n          <nb-card class=\"row mt-0 pt-0 bg-warning\"\r\n                   *ngIf=\"ProizvodnjaOpasnogOtpada.disabled || ProizvodnjaNeopasnogOtpada.disabled\">\r\n            <nb-card-body class=mt-0>\r\n              Ako se\r\n              bavite {{TretmanNeopasnogOtpada.checked || TretmanOpasnogOtpada.checked ? 'tretmanom' : 'odlaganjem'}}\r\n              otpada, automatski postajete\r\n              i proizvoa otpada. :)\r\n            </nb-card-body>\r\n          </nb-card>\r\n        </nb-tab>\r\n        <nb-tab [badgeText]=\"specialWasteOperationNumber()\" badgeStatus=\"primary\"\r\n                responsive=\"true\" tabTitle=\"Posebni tokovi otpada\" [tabIcon]=\"carBatteryIco\">\r\n          <div class=\"row pb-0 mb-0\">\r\n            <nb-card class=\"col-12\">\r\n              <nb-card-header>Posebni tokovi otpada</nb-card-header>\r\n              <nb-card-body>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle [checked]=\"operations.includes('Proizvodnja Posebnih Tokova Otpada')\"\r\n                             (checkedChange)=\"addOperation('Proizvodnja Posebnih Tokova Otpada', $event)\"\r\n                             class=\"mx-1\">Proizvodnja\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle [checked]=\"operations.includes('Uvoz Posebnih Tokova Otpada')\"\r\n                             (checkedChange)=\"addOperation('Uvoz Posebnih Tokova Otpada', $event)\" class=\"mx-1\">Uvoz\r\n                  </nb-toggle>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                  <nb-toggle [checked]=\"operations.includes('Izvoz Posebnih Tokova Otpada')\"\r\n                             (checkedChange)=\"addOperation('Izvoz Posebnih Tokova Otpada', $event)\"\r\n                             class=\"mx-1\">Izvoz\r\n                  </nb-toggle>\r\n                </div>\r\n              </nb-card-body>\r\n            </nb-card>\r\n          </div>\r\n        </nb-tab>\r\n        <nb-tab responsive=\"true\" tabTitle=\"Ambalaze\" [tabIcon]=\"recyleIco\">\r\n          <nb-card class=\"bg-light\">\r\n            <nb-card-body>\r\n              <h4 class=\"justify-content-center text-muted d-flex\">Operacija trenutno u izradi.</h4>\r\n            </nb-card-body>\r\n          </nb-card>\r\n        </nb-tab>\r\n        <nb-tab responsive=\"true\" tabTitle=\"Emisije u vode\" [tabIcon]=\"waterIco\">\r\n          <nb-card class=\"bg-light\">\r\n            <nb-card-body>\r\n              <h4 class=\"justify-content-center text-muted d-flex\">Operacija trenutno u izradi.</h4>\r\n            </nb-card-body>\r\n          </nb-card>\r\n        </nb-tab>\r\n        <nb-tab responsive=\"true\" tabTitle=\"Emisije u vazduh\" [tabIcon]=\"airIco\">\r\n          <nb-card class=\"bg-light\">\r\n            <nb-card-body>\r\n              <h4 class=\"justify-content-center text-muted d-flex\">Operacija trenutno u izradi.</h4>\r\n            </nb-card-body>\r\n          </nb-card>\r\n        </nb-tab>\r\n      </nb-tabset>\r\n      <form #wasteManagerForm=\"ngForm\">\r\n        <div class=\"row flex-fill ml-3\" style=\"max-width: 54.5vw;\"\r\n             *ngIf=\"(trashOperationNumber(true) + 0) + (specialWasteOperationNumber(true) + 0) > 0\">\r\n          <nb-card class=\"col-12\">\r\n            <nb-card-header>\r\n              <div class=\"row\">\r\n                Lice odgovorno za upravljanje otpadom:\r\n                <i class=\"pl-1 my-auto fa fa-info-circle\"\r\n                   [nbTooltip]=\"'Na osnovu Zakona o upravljanju otadom obaveza pravnog subjekta je da imenuje lice odgovorno za upravljanje otpadom, s tim u vezi proverite unete podatke ili ih promenite ako je potrebno.'\"></i>\r\n              </div>\r\n              <p class=\"card-subtitle text-secondary mt-1\">\r\n                Ako se bavite otpadom/posebnim tokovima otpada morate imati odreeno lice za upravaljanje otpadom,\r\n                ako elite da odaberete da mi to radimo ostavite sebe pa kasnije u aplikaciji moi ete da promenite.\r\n              </p>\r\n            </nb-card-header>\r\n            <nb-card-body>\r\n\r\n              <div class=\"row\">\r\n                <div class=\"col-6\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                      <label class=\"label\" for=\"input-fNameManager\">Ime:</label>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <input #fNameManager=\"ngModel\"\r\n                             [(ngModel)]=\"company.wasteManager.firstName\"\r\n                             [attr.aria-invalid]=\"fNameManager.invalid && fNameManager.touched ? true : null\"\r\n                             [maxlength]=\"getConfigValue('forms.validation.firstName.maxLength')\"\r\n                             [minlength]=\"getConfigValue('forms.validation.firstName.minLength')\"\r\n                             [required]=\"getConfigValue('forms.validation.firstName.required')\"\r\n                             [status]=\"fNameManager.dirty ? (fNameManager.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                             fullWidth\r\n                             id=\"input-fNameManager\"\r\n                             name=\"fNameManager\"\r\n                             nbInput\r\n                             placeholder=\"Ime\">\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <ng-container *ngIf=\"(fNameManager.invalid && fNameManager.touched) || checkIssues\">\r\n                        <p class=\"error-message mt-1 mb-0\" *ngIf=\"fNameManager.errors?.required\">\r\n                          Ime zakonskog zastupnika je obavezno!\r\n                        </p>\r\n                        <p class=\"error-message mt-1 mb-0\"\r\n                           *ngIf=\"fNameManager.errors?.minlength || fNameManager.errors?.maxlength\">\r\n                          Ime zakonskog zastupnika mora biti due od\r\n                          {{ getConfigValue('forms.validation.firstName.minLength') }} slova!\r\n                        </p>\r\n                      </ng-container>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                      <label class=\"label\" for=\"input-lNameManager\">Prezime:</label>\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <input #lNameManager=\"ngModel\"\r\n                             [(ngModel)]=\"company.wasteManager.lastName\"\r\n                             [attr.aria-invalid]=\"lNameManager.invalid && lNameManager.touched ? true : null\"\r\n                             [maxlength]=\"getConfigValue('forms.validation.lastName.maxLength')\"\r\n                             [minlength]=\"getConfigValue('forms.validation.lastName.minLength')\"\r\n                             [required]=\"getConfigValue('forms.validation.lastName.required')\"\r\n                             [status]=\"lNameManager.dirty ? (lNameManager.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                             fullWidth\r\n                             id=\"input-lNameManager\"\r\n                             name=\"lNameManager\"\r\n                             nbInput\r\n                             placeholder=\"Prezime\">\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                      <ng-container *ngIf=\"(lNameManager.invalid && lNameManager.touched)|| checkIssues\">\r\n                        <p class=\"error-message mt-1 mb-0\" *ngIf=\"lNameManager.errors?.required\">\r\n                          Prezime zakonskog zastupnika je obavezno!\r\n                        </p>\r\n                        <p class=\"error-message mt-1 mb-0\"\r\n                           *ngIf=\"lNameManager.errors?.minlength || lNameManager.errors?.maxlength\">\r\n                          Prezime zakonskog zastupnika mora biti due od\r\n                          {{ getConfigValue('forms.validation.lastName.minLength') }} slova!\r\n                        </p>\r\n                      </ng-container>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n            </nb-card-body>\r\n          </nb-card>\r\n        </div>\r\n        <button nbButton\r\n                fullWidth\r\n                status=\"danger\"\r\n                routerLink=\"../register-company\"\r\n                class=\"mt-2 col-6\">\r\n          Nazad\r\n        </button>\r\n        <button nbButton\r\n                fullWidth\r\n                class=\"col-6 mt-2\"\r\n                status=\"success\"\r\n                type=\"submit\"\r\n                (click)=\"validateOperations()\">\r\n          Dalje\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </nb-step>\r\n  <nb-step label=\"Informacije\"></nb-step>\r\n  <nb-step lable=\"Potvrda\"></nb-step>\r\n</nb-stepper>\r\n\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Company, CompanyData } from '../data/company';\r\n\r\n@Injectable()\r\nexport class CompanyService extends CompanyData {\r\n  private readonly apiUrl: string;\r\n\r\n  constructor(private http: HttpClient) {\r\n    super();\r\n    this.apiUrl = environment.apiUrl;\r\n  }\r\n\r\n  createCompany(company: Company): Observable<Company> {\r\n    return this.http.post<Company>(this.apiUrl + '/api/company', company);\r\n  }\r\n\r\n  deleteCompany(value: string, type: string = '_id'): Observable<Company> {\r\n    return this.http.delete<Company>(this.apiUrl + '/api/company/one/' + `${type}/${value}`);\r\n  }\r\n\r\n  getCompany(value: string, type: string = '_id'): Observable<Company> {\r\n    return this.http.get<Company>(this.apiUrl + '/api/company/one/' + `${type}/${value}`);\r\n  }\r\n\r\n  getCompanys(value: string = 'all', type: string): Observable<Company[]> {\r\n    return this.http.get<Company[]>(this.apiUrl + '/api/company/many/' + `${type}/${value}`);\r\n  }\r\n\r\n  updateCompany(company: Company, value: string, type: string = '_id'): Observable<Company> {\r\n    return this.http.patch<Company>(this.apiUrl + '/api/company/one/' + `${type}/${value}`, company);\r\n  }\r\n\r\n}\r\n\r\n","import { ChangeDetectorRef, Component, Inject } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NB_AUTH_OPTIONS, NbAuthService, NbResetPasswordComponent } from '@nebular/auth';\r\nimport { ToastrService } from '../../@core/service/toastr.service';\r\n\r\n@Component({\r\n  selector: 'reset-password',\r\n  templateUrl: './reset-password.component.html',\r\n  styleUrls: ['./reset-password.component.css'],\r\n})\r\nexport class ResetPasswordComponent extends NbResetPasswordComponent {\r\n\r\n  showPassword: string = 'eye';\r\n  password: string = '';\r\n  retypePassword: string = '';\r\n  token: string = '';\r\n\r\n  constructor(protected service: NbAuthService, @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n              protected cd: ChangeDetectorRef, protected router: Router, private activatedRoute: ActivatedRoute,\r\n              private toastrService: ToastrService) {\r\n    super(service, options, cd, router);\r\n    this.strategy = this.getConfigValue('forms.login.strategy');\r\n    this.token = this.activatedRoute.snapshot.params['token'];\r\n  }\r\n\r\n  resetPassword(form: NgForm) {\r\n    if (form.invalid) {\r\n      this.toastrService.showToast('Greka', 'Proverite sve informacije!', 'warning');\r\n      return;\r\n    }\r\n    this.service.resetPassword(this.strategy, {password: this.password, token: this.token}).subscribe(result => {\r\n      if (!result.isSuccess()) {\r\n        this.toastrService.showToast('Greka', 'Pokuajte ponovo kasnije', 'warning');\r\n        return;\r\n      } else {\r\n        this.router.navigate(['login']);\r\n      }\r\n    }, error => {\r\n      this.toastrService.showToast('Greka', 'Pokuajte ponovo kasnije', 'warning');\r\n    });\r\n  }\r\n}\r\n","<div class=\"align-self-center\">\r\n  <h1 class=\"mb-1 text-center\">Zaboravljena lozinka:</h1>\r\n  <form #form=\"ngForm\" (ngSubmit)=\"resetPassword(form)\" class=\"mt-4\">\r\n    <div class=\"row d-flex justify-content-center\">\r\n      <div class=\"col-8\">\r\n        <div class=\"row mb-2\">\r\n          <label class=\"label col-12\" for=\"input-password\">ifra:</label>\r\n          <div class=\"col-10 pr-0\">\r\n            <input #passwordModel=\"ngModel\"\r\n                   [(ngModel)]=\"password\"\r\n                   [attr.aria-invalid]=\"passwordModel.invalid && passwordModel.touched ? true : null\"\r\n                   [maxlength]=\"getConfigValue('forms.validation.password.maxLength')\"\r\n                   [minlength]=\"getConfigValue('forms.validation.password.minLength')\"\r\n                   [required]=\"getConfigValue('forms.validation.password.required')\"\r\n                   [status]=\"passwordModel.dirty ? (passwordModel.invalid  ? 'danger' : 'success') : 'basic'\"\r\n                   [type]=\"showPassword === 'eye' ? 'password' : 'text'\"\r\n                   fullWidth\r\n                   id=\"input-password\"\r\n                   name=\"password\"\r\n                   nbInput\r\n                   placeholder=\"ifra\"\r\n                   tabindex=\"1\">\r\n          </div>\r\n          <div class=\"col-2 pl-0\">\r\n            <button fullWidth tabindex=\"-1\" nbButton type=\"button\"\r\n                    (click)=\"this.showPassword = this.showPassword === 'eye' ? 'eye-off' : 'eye';\">\r\n              <nb-icon [icon]=\"showPassword\"></nb-icon>\r\n            </button>\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <ng-container *ngIf=\"passwordModel.invalid && passwordModel.touched\">\r\n              <p class=\"error-message mt-1 mb-0\" *ngIf=\"passwordModel.errors?.required\">\r\n                ifra je obavezna!\r\n              </p>\r\n              <p class=\"error-message mt-1 mb-0\"\r\n                 *ngIf=\"passwordModel.errors?.minlength || passwordModel.errors?.maxlength\">\r\n                ifra ne sme biti kraa od\r\n                {{ getConfigValue('forms.validation.password.minLength') }}!\r\n              </p>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <label class=\"label col-12\" for=\"input-rePassword\">Ponovi ifru:</label>\r\n          <div class=\"col-12\">\r\n            <input #retypePasswordModel=\"ngModel\"\r\n                   [(ngModel)]=\"retypePassword\"\r\n                   [attr.aria-invalid]=\"retypePasswordModel.invalid && retypePasswordModel.touched ? true : null\"\r\n                   [required]=\"getConfigValue('forms.validation.password.required')\"\r\n                   [status]=\"retypePasswordModel.dirty ? (retypePasswordModel.invalid || passwordModel.value !== retypePasswordModel.value  ? 'danger' : 'success') : 'basic'\"\r\n                   [type]=\"showPassword === 'eye' ? 'password' : 'text'\"\r\n                   fullWidth\r\n                   id=\"input-rePassword\"\r\n                   name=\"rePass\"\r\n                   nbInput\r\n                   placeholder=\"Potvrdi ifru\"\r\n                   tabindex=\"2\">\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <ng-container\r\n              *ngIf=\"retypePasswordModel.invalid && passwordModel.touched\">\r\n              <p class=\"error-message mt-1 mb-0\" *ngIf=\"retypePasswordModel.errors?.required\">\r\n                Ponovna ifra je obavezna!\r\n              </p>\r\n              <p class=\"error-message mt-1 mb-0\" *ngIf=\"passwordModel.value !== retypePasswordModel.value\">\r\n                ifra se ne poklapa sa ve upisanom ifrom!\r\n              </p>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-3 d-flex justify-content-center \">\r\n      <div class=\"col-8\">\r\n        <button status=\"success\" size=\"large\" type=\"submit\" nbButton fullWidth>Promeni lozinku</button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n"]}